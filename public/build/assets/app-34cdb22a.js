var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */xc.exports;(function(n,t){(function(){var e,o="4.17.21",l=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",m="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",w=500,E="__lodash_placeholder__",P=1,M=2,U=4,W=1,F=2,I=1,Z=2,X=4,Y=8,G=16,K=32,it=64,ct=128,Ft=256,qt=512,Jt=30,zt="...",Ot=800,fe=16,ue=1,nn=2,Zt=3,Qt=1/0,at=9007199254740991,rn=17976931348623157e292,lt=0/0,Ct=4294967295,St=Ct-1,ce=Ct>>>1,mt=[["ary",ct],["bind",I],["bindKey",Z],["curry",Y],["curryRight",G],["flip",qt],["partial",K],["partialRight",it],["rearg",Ft]],gt="[object Arguments]",nt="[object Array]",be="[object AsyncFunction]",ee="[object Boolean]",on="[object Date]",fi="[object DOMException]",sn="[object Error]",an="[object Function]",je="[object GeneratorFunction]",Ie="[object Map]",Be="[object Number]",pi="[object Null]",Oe="[object Object]",qe="[object Promise]",Ni="[object Proxy]",Ee="[object RegExp]",pe="[object Set]",Cn="[object String]",Sn="[object Symbol]",Mn="[object Undefined]",We="[object WeakMap]",ln="[object WeakSet]",Ln="[object ArrayBuffer]",un="[object DataView]",Cr="[object Float32Array]",ki="[object Float64Array]",tr="[object Int8Array]",Mi="[object Int16Array]",mi="[object Int32Array]",$e="[object Uint8Array]",Bn="[object Uint8ClampedArray]",er="[object Uint16Array]",Fn="[object Uint32Array]",Oa=/\b__p \+= '';/g,Sr=/\b(__p \+=) '' \+/g,nr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,po=/&(?:amp|lt|gt|quot|#39);/g,gi=/[&<>"']/g,Pa=RegExp(po.source),ye=RegExp(gi.source),Bi=/<%-([\s\S]+?)%>/g,Ra=/<%([\s\S]+?)%>/g,mo=/<%=([\s\S]+?)%>/g,go=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lr=/^\w*$/,ws=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/[\\^$.*+?()[\]{}|]/g,Or=RegExp(Ze.source),Pr=/^\s+/,cn=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_o=/\{\n\/\* \[wrapped with (.+)\] \*/,On=/,? & /,vo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bo=/[()=,{}\[\]\/\s]/,Rr=/\\(\\)?/g,yo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,C=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,J=/^\[object .+?Constructor\]$/,Rt=/^0o[0-7]+$/i,Wt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ne=/($^)/,Ke=/['\n\r\u2028\u2029\\]/g,He="\\ud800-\\udfff",Ne="\\u0300-\\u036f",Es="\\ufe20-\\ufe2f",xs="\\u20d0-\\u20ff",eu=Ne+Es+xs,Ts="\\u2700-\\u27bf",Dr="a-z\\xdf-\\xf6\\xf8-\\xff",nu="\\xac\\xb1\\xd7\\xf7",iu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ao="\\u2000-\\u206f",Ut=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ie="A-Z\\xc0-\\xd6\\xd8-\\xde",wo="\\ufe0e\\ufe0f",ir=nu+iu+Ao+Ut,Fi="['’]",Da="["+He+"]",bt="["+ir+"]",re="["+eu+"]",Cs="\\d+",Ss="["+Ts+"]",hn="["+Dr+"]",ru="[^"+He+ir+Cs+Ts+Dr+ie+"]",Ir="\\ud83c[\\udffb-\\udfff]",rr="(?:"+re+"|"+Ir+")",me="[^"+He+"]",vi="(?:\\ud83c[\\udde6-\\uddff]){2}",or="[\\ud800-\\udbff][\\udc00-\\udfff]",Jn="["+ie+"]",Ls="\\u200d",Nr="(?:"+hn+"|"+ru+")",Ia="(?:"+Jn+"|"+ru+")",Os="(?:"+Fi+"(?:d|ll|m|re|s|t|ve))?",Eo="(?:"+Fi+"(?:D|LL|M|RE|S|T|VE))?",Ps=rr+"?",Rs="["+wo+"]?",Ds="(?:"+Ls+"(?:"+[me,vi,or].join("|")+")"+Rs+Ps+")*",ou="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Na="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",su=Rs+Ps+Ds,vt="(?:"+[Ss,vi,or].join("|")+")"+su,Xn="(?:"+[me+re+"?",re,vi,or,Da].join("|")+")",Xt=RegExp(Fi,"g"),au=RegExp(re,"g"),xo=RegExp(Ir+"(?="+Ir+")|"+Xn+su,"g"),ka=RegExp([Jn+"?"+hn+"+"+Os+"(?="+[bt,Jn,"$"].join("|")+")",Ia+"+"+Eo+"(?="+[bt,Jn+Nr,"$"].join("|")+")",Jn+"?"+Nr+"+"+Os,Jn+"+"+Eo,Na,ou,Cs,vt].join("|"),"g"),Ma=RegExp("["+Ls+He+eu+wo+"]"),sr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ba=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],To=-1,yt={};yt[Cr]=yt[ki]=yt[tr]=yt[Mi]=yt[mi]=yt[$e]=yt[Bn]=yt[er]=yt[Fn]=!0,yt[gt]=yt[nt]=yt[Ln]=yt[ee]=yt[un]=yt[on]=yt[sn]=yt[an]=yt[Ie]=yt[Be]=yt[Oe]=yt[Ee]=yt[pe]=yt[Cn]=yt[We]=!1;var Vt={};Vt[gt]=Vt[nt]=Vt[Ln]=Vt[un]=Vt[ee]=Vt[on]=Vt[Cr]=Vt[ki]=Vt[tr]=Vt[Mi]=Vt[mi]=Vt[Ie]=Vt[Be]=Vt[Oe]=Vt[Ee]=Vt[pe]=Vt[Cn]=Vt[Sn]=Vt[$e]=Vt[Bn]=Vt[er]=Vt[Fn]=!0,Vt[sn]=Vt[an]=Vt[We]=!1;var lu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},uu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},cu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fa=parseFloat,gh=parseInt,za=typeof Xs=="object"&&Xs&&Xs.Object===Object&&Xs,Bt=typeof self=="object"&&self&&self.Object===Object&&self,ke=za||Bt||Function("return this")(),dn=t&&!t.nodeType&&t,zn=dn&&!0&&n&&!n.nodeType&&n,Wa=zn&&zn.exports===dn,$a=Wa&&za.process,Ge=function(){try{var O=zn&&zn.require&&zn.require("util").types;return O||$a&&$a.binding&&$a.binding("util")}catch{}}(),hu=Ge&&Ge.isArrayBuffer,Ha=Ge&&Ge.isDate,du=Ge&&Ge.isMap,fu=Ge&&Ge.isRegExp,Is=Ge&&Ge.isSet,pu=Ge&&Ge.isTypedArray;function he(O,z,k){switch(k.length){case 0:return O.call(z);case 1:return O.call(z,k[0]);case 2:return O.call(z,k[0],k[1]);case 3:return O.call(z,k[0],k[1],k[2])}return O.apply(z,k)}function _h(O,z,k,et){for(var _t=-1,jt=O==null?0:O.length;++_t<jt;){var xe=O[_t];z(et,xe,k(xe),O)}return et}function fn(O,z){for(var k=-1,et=O==null?0:O.length;++k<et&&z(O[k],k,O)!==!1;);return O}function zi(O,z){for(var k=O==null?0:O.length;k--&&z(O[k],k,O)!==!1;);return O}function Ua(O,z){for(var k=-1,et=O==null?0:O.length;++k<et;)if(!z(O[k],k,O))return!1;return!0}function bi(O,z){for(var k=-1,et=O==null?0:O.length,_t=0,jt=[];++k<et;){var xe=O[k];z(xe,k,O)&&(jt[_t++]=xe)}return jt}function kr(O,z){var k=O==null?0:O.length;return!!k&&Mr(O,z,0)>-1}function Va(O,z,k){for(var et=-1,_t=O==null?0:O.length;++et<_t;)if(k(z,O[et]))return!0;return!1}function te(O,z){for(var k=-1,et=O==null?0:O.length,_t=Array(et);++k<et;)_t[k]=z(O[k],k,O);return _t}function yi(O,z){for(var k=-1,et=z.length,_t=O.length;++k<et;)O[_t+k]=z[k];return O}function ja(O,z,k,et){var _t=-1,jt=O==null?0:O.length;for(et&&jt&&(k=O[++_t]);++_t<jt;)k=z(k,O[_t],_t,O);return k}function vh(O,z,k,et){var _t=O==null?0:O.length;for(et&&_t&&(k=O[--_t]);_t--;)k=z(k,O[_t],_t,O);return k}function Co(O,z){for(var k=-1,et=O==null?0:O.length;++k<et;)if(z(O[k],k,O))return!0;return!1}var bh=Ns("length");function mu(O){return O.split("")}function gu(O){return O.match(vo)||[]}function So(O,z,k){var et;return k(O,function(_t,jt,xe){if(z(_t,jt,xe))return et=jt,!1}),et}function Qn(O,z,k,et){for(var _t=O.length,jt=k+(et?1:-1);et?jt--:++jt<_t;)if(z(O[jt],jt,O))return jt;return-1}function Mr(O,z,k){return z===z?zr(O,z,k):Qn(O,pn,k)}function Lo(O,z,k,et){for(var _t=k-1,jt=O.length;++_t<jt;)if(et(O[_t],z))return _t;return-1}function pn(O){return O!==O}function qa(O,z){var k=O==null?0:O.length;return k?Ga(O,z)/k:lt}function Ns(O){return function(z){return z==null?e:z[O]}}function Za(O){return function(z){return O==null?e:O[z]}}function ks(O,z,k,et,_t){return _t(O,function(jt,xe,Kt){k=et?(et=!1,jt):z(k,jt,xe,Kt)}),k}function Ka(O,z){var k=O.length;for(O.sort(z);k--;)O[k]=O[k].value;return O}function Ga(O,z){for(var k,et=-1,_t=O.length;++et<_t;){var jt=z(O[et]);jt!==e&&(k=k===e?jt:k+jt)}return k}function Ya(O,z){for(var k=-1,et=Array(O);++k<O;)et[k]=z(k);return et}function _u(O,z){return te(z,function(k){return[k,O[k]]})}function vu(O){return O&&O.slice(0,Xa(O)+1).replace(Pr,"")}function ae(O){return function(z){return O(z)}}function Wi(O,z){return te(z,function(k){return O[k]})}function Oo(O,z){return O.has(z)}function ti(O,z){for(var k=-1,et=O.length;++k<et&&Mr(z,O[k],0)>-1;);return k}function bu(O,z){for(var k=O.length;k--&&Mr(z,O[k],0)>-1;);return k}function Br(O,z){for(var k=O.length,et=0;k--;)O[k]===z&&++et;return et}var yh=Za(lu),Po=Za(uu);function yu(O){return"\\"+cu[O]}function Ms(O,z){return O==null?e:O[z]}function Fr(O){return Ma.test(O)}function $i(O){return sr.test(O)}function Bs(O){for(var z,k=[];!(z=O.next()).done;)k.push(z.value);return k}function Ja(O){var z=-1,k=Array(O.size);return O.forEach(function(et,_t){k[++z]=[_t,et]}),k}function Fs(O,z){return function(k){return O(z(k))}}function Hi(O,z){for(var k=-1,et=O.length,_t=0,jt=[];++k<et;){var xe=O[k];(xe===z||xe===E)&&(O[k]=E,jt[_t++]=k)}return jt}function Pn(O){var z=-1,k=Array(O.size);return O.forEach(function(et){k[++z]=et}),k}function Ah(O){var z=-1,k=Array(O.size);return O.forEach(function(et){k[++z]=[et,et]}),k}function zr(O,z,k){for(var et=k-1,_t=O.length;++et<_t;)if(O[et]===z)return et;return-1}function wh(O,z,k){for(var et=k+1;et--;)if(O[et]===z)return et;return et}function Ye(O){return Fr(O)?zs(O):bh(O)}function Je(O){return Fr(O)?tl(O):mu(O)}function Xa(O){for(var z=O.length;z--&&cn.test(O.charAt(z)););return z}var Qa=Za(mh);function zs(O){for(var z=xo.lastIndex=0;xo.test(O);)++z;return z}function tl(O){return O.match(xo)||[]}function Ws(O){return O.match(ka)||[]}var Wr=function O(z){z=z==null?ke:Ai.defaults(ke.Object(),z,Ai.pick(ke,Ba));var k=z.Array,et=z.Date,_t=z.Error,jt=z.Function,xe=z.Math,Kt=z.Object,el=z.RegExp,ei=z.String,Ue=z.TypeError,$s=k.prototype,Hs=jt.prototype,$r=Kt.prototype,Ro=z["__core-js_shared__"],Us=Hs.toString,$t=$r.hasOwnProperty,Eh=0,ar=function(){var r=/[^.]+$/.exec(Ro&&Ro.keys&&Ro.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Do=$r.toString,Au=Us.call(Kt),xh=ke._,wi=el("^"+Us.call($t).replace(Ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Io=Wa?z.Buffer:e,Ei=z.Symbol,Ui=z.Uint8Array,wu=Io?Io.allocUnsafe:e,lr=Fs(Kt.getPrototypeOf,Kt),Hr=Kt.create,nl=$r.propertyIsEnumerable,No=$s.splice,Eu=Ei?Ei.isConcatSpreadable:e,Ur=Ei?Ei.iterator:e,Vi=Ei?Ei.toStringTag:e,ko=function(){try{var r=Vo(Kt,"defineProperty");return r({},"",{}),r}catch{}}(),xu=z.clearTimeout!==ke.clearTimeout&&z.clearTimeout,Tu=et&&et.now!==ke.Date.now&&et.now,Th=z.setTimeout!==ke.setTimeout&&z.setTimeout,Mo=xe.ceil,Bo=xe.floor,il=Kt.getOwnPropertySymbols,i=Io?Io.isBuffer:e,s=z.isFinite,u=$s.join,f=Fs(Kt.keys,Kt),g=xe.max,b=xe.min,T=et.now,D=z.parseInt,N=xe.random,V=$s.reverse,tt=Vo(z,"DataView"),ut=Vo(z,"Map"),Et=Vo(z,"Promise"),Ae=Vo(z,"Set"),de=Vo(z,"WeakMap"),Fe=Vo(Kt,"create"),Me=de&&new de,Wn={},Ch=jo(tt),Sh=jo(ut),Lh=jo(Et),Cu=jo(Ae),Oh=jo(de),Fo=Ei?Ei.prototype:e,oe=Fo?Fo.valueOf:e,zo=Fo?Fo.toString:e;function y(r){if(we(r)&&!At(r)&&!(r instanceof Dt)){if(r instanceof Xe)return r;if($t.call(r,"__wrapped__"))return hg(r)}return new Xe(r)}var Vr=function(){function r(){}return function(a){if(!ge(a))return{};if(Hr)return Hr(a);r.prototype=a;var h=new r;return r.prototype=e,h}}();function Vs(){}function Xe(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=e}y.templateSettings={escape:Bi,evaluate:Ra,interpolate:mo,variable:"",imports:{_:y}},y.prototype=Vs.prototype,y.prototype.constructor=y,Xe.prototype=Vr(Vs.prototype),Xe.prototype.constructor=Xe;function Dt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ct,this.__views__=[]}function Ph(){var r=new Dt(this.__wrapped__);return r.__actions__=Rn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Rn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Rn(this.__views__),r}function c0(){if(this.__filtered__){var r=new Dt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function h0(){var r=this.__wrapped__.value(),a=this.__dir__,h=At(r),p=a<0,v=h?r.length:0,A=Ew(0,v,this.__views__),x=A.start,S=A.end,R=S-x,$=p?S:x-1,H=this.__iteratees__,j=H.length,Q=0,st=b(R,this.__takeCount__);if(!h||!p&&v==R&&st==R)return Nm(r,this.__actions__);var ft=[];t:for(;R--&&Q<st;){$+=a;for(var Pt=-1,pt=r[$];++Pt<j;){var kt=H[Pt],Ht=kt.iteratee,Un=kt.type,_n=Ht(pt);if(Un==nn)pt=_n;else if(!_n){if(Un==ue)continue t;break t}}ft[Q++]=pt}return ft}Dt.prototype=Vr(Vs.prototype),Dt.prototype.constructor=Dt;function Wo(r){var a=-1,h=r==null?0:r.length;for(this.clear();++a<h;){var p=r[a];this.set(p[0],p[1])}}function d0(){this.__data__=Fe?Fe(null):{},this.size=0}function f0(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}function p0(r){var a=this.__data__;if(Fe){var h=a[r];return h===_?e:h}return $t.call(a,r)?a[r]:e}function m0(r){var a=this.__data__;return Fe?a[r]!==e:$t.call(a,r)}function g0(r,a){var h=this.__data__;return this.size+=this.has(r)?0:1,h[r]=Fe&&a===e?_:a,this}Wo.prototype.clear=d0,Wo.prototype.delete=f0,Wo.prototype.get=p0,Wo.prototype.has=m0,Wo.prototype.set=g0;function ur(r){var a=-1,h=r==null?0:r.length;for(this.clear();++a<h;){var p=r[a];this.set(p[0],p[1])}}function _0(){this.__data__=[],this.size=0}function v0(r){var a=this.__data__,h=Su(a,r);if(h<0)return!1;var p=a.length-1;return h==p?a.pop():No.call(a,h,1),--this.size,!0}function b0(r){var a=this.__data__,h=Su(a,r);return h<0?e:a[h][1]}function y0(r){return Su(this.__data__,r)>-1}function A0(r,a){var h=this.__data__,p=Su(h,r);return p<0?(++this.size,h.push([r,a])):h[p][1]=a,this}ur.prototype.clear=_0,ur.prototype.delete=v0,ur.prototype.get=b0,ur.prototype.has=y0,ur.prototype.set=A0;function cr(r){var a=-1,h=r==null?0:r.length;for(this.clear();++a<h;){var p=r[a];this.set(p[0],p[1])}}function w0(){this.size=0,this.__data__={hash:new Wo,map:new(ut||ur),string:new Wo}}function E0(r){var a=zu(this,r).delete(r);return this.size-=a?1:0,a}function x0(r){return zu(this,r).get(r)}function T0(r){return zu(this,r).has(r)}function C0(r,a){var h=zu(this,r),p=h.size;return h.set(r,a),this.size+=h.size==p?0:1,this}cr.prototype.clear=w0,cr.prototype.delete=E0,cr.prototype.get=x0,cr.prototype.has=T0,cr.prototype.set=C0;function $o(r){var a=-1,h=r==null?0:r.length;for(this.__data__=new cr;++a<h;)this.add(r[a])}function S0(r){return this.__data__.set(r,_),this}function L0(r){return this.__data__.has(r)}$o.prototype.add=$o.prototype.push=S0,$o.prototype.has=L0;function xi(r){var a=this.__data__=new ur(r);this.size=a.size}function O0(){this.__data__=new ur,this.size=0}function P0(r){var a=this.__data__,h=a.delete(r);return this.size=a.size,h}function R0(r){return this.__data__.get(r)}function D0(r){return this.__data__.has(r)}function I0(r,a){var h=this.__data__;if(h instanceof ur){var p=h.__data__;if(!ut||p.length<l-1)return p.push([r,a]),this.size=++h.size,this;h=this.__data__=new cr(p)}return h.set(r,a),this.size=h.size,this}xi.prototype.clear=O0,xi.prototype.delete=P0,xi.prototype.get=R0,xi.prototype.has=D0,xi.prototype.set=I0;function hm(r,a){var h=At(r),p=!h&&qo(r),v=!h&&!p&&Gr(r),A=!h&&!p&&!v&&Ks(r),x=h||p||v||A,S=x?Ya(r.length,ei):[],R=S.length;for(var $ in r)(a||$t.call(r,$))&&!(x&&($=="length"||v&&($=="offset"||$=="parent")||A&&($=="buffer"||$=="byteLength"||$=="byteOffset")||pr($,R)))&&S.push($);return S}function dm(r){var a=r.length;return a?r[$h(0,a-1)]:e}function N0(r,a){return Wu(Rn(r),Ho(a,0,r.length))}function k0(r){return Wu(Rn(r))}function Rh(r,a,h){(h!==e&&!Ti(r[a],h)||h===e&&!(a in r))&&hr(r,a,h)}function rl(r,a,h){var p=r[a];(!($t.call(r,a)&&Ti(p,h))||h===e&&!(a in r))&&hr(r,a,h)}function Su(r,a){for(var h=r.length;h--;)if(Ti(r[h][0],a))return h;return-1}function M0(r,a,h,p){return jr(r,function(v,A,x){a(p,v,h(v),x)}),p}function fm(r,a){return r&&qi(a,ze(a),r)}function B0(r,a){return r&&qi(a,In(a),r)}function hr(r,a,h){a=="__proto__"&&ko?ko(r,a,{configurable:!0,enumerable:!0,value:h,writable:!0}):r[a]=h}function Dh(r,a){for(var h=-1,p=a.length,v=k(p),A=r==null;++h<p;)v[h]=A?e:dd(r,a[h]);return v}function Ho(r,a,h){return r===r&&(h!==e&&(r=r<=h?r:h),a!==e&&(r=r>=a?r:a)),r}function ni(r,a,h,p,v,A){var x,S=a&P,R=a&M,$=a&U;if(h&&(x=v?h(r,p,v,A):h(r)),x!==e)return x;if(!ge(r))return r;var H=At(r);if(H){if(x=Tw(r),!S)return Rn(r,x)}else{var j=Qe(r),Q=j==an||j==je;if(Gr(r))return Bm(r,S);if(j==Oe||j==gt||Q&&!v){if(x=R||Q?{}:ng(r),!S)return R?pw(r,B0(x,r)):fw(r,fm(x,r))}else{if(!Vt[j])return v?r:{};x=Cw(r,j,S)}}A||(A=new xi);var st=A.get(r);if(st)return st;A.set(r,x),Rg(r)?r.forEach(function(pt){x.add(ni(pt,a,h,pt,r,A))}):Og(r)&&r.forEach(function(pt,kt){x.set(kt,ni(pt,a,h,kt,r,A))});var ft=$?R?Xh:Jh:R?In:ze,Pt=H?e:ft(r);return fn(Pt||r,function(pt,kt){Pt&&(kt=pt,pt=r[kt]),rl(x,kt,ni(pt,a,h,kt,r,A))}),x}function F0(r){var a=ze(r);return function(h){return pm(h,r,a)}}function pm(r,a,h){var p=h.length;if(r==null)return!p;for(r=Kt(r);p--;){var v=h[p],A=a[v],x=r[v];if(x===e&&!(v in r)||!A(x))return!1}return!0}function mm(r,a,h){if(typeof r!="function")throw new Ue(d);return hl(function(){r.apply(e,h)},a)}function ol(r,a,h,p){var v=-1,A=kr,x=!0,S=r.length,R=[],$=a.length;if(!S)return R;h&&(a=te(a,ae(h))),p?(A=Va,x=!1):a.length>=l&&(A=Oo,x=!1,a=new $o(a));t:for(;++v<S;){var H=r[v],j=h==null?H:h(H);if(H=p||H!==0?H:0,x&&j===j){for(var Q=$;Q--;)if(a[Q]===j)continue t;R.push(H)}else A(a,j,p)||R.push(H)}return R}var jr=Hm(ji),gm=Hm(Nh,!0);function z0(r,a){var h=!0;return jr(r,function(p,v,A){return h=!!a(p,v,A),h}),h}function Lu(r,a,h){for(var p=-1,v=r.length;++p<v;){var A=r[p],x=a(A);if(x!=null&&(S===e?x===x&&!Hn(x):h(x,S)))var S=x,R=A}return R}function W0(r,a,h,p){var v=r.length;for(h=Lt(h),h<0&&(h=-h>v?0:v+h),p=p===e||p>v?v:Lt(p),p<0&&(p+=v),p=h>p?0:Ig(p);h<p;)r[h++]=a;return r}function _m(r,a){var h=[];return jr(r,function(p,v,A){a(p,v,A)&&h.push(p)}),h}function Ve(r,a,h,p,v){var A=-1,x=r.length;for(h||(h=Lw),v||(v=[]);++A<x;){var S=r[A];a>0&&h(S)?a>1?Ve(S,a-1,h,p,v):yi(v,S):p||(v[v.length]=S)}return v}var Ih=Um(),vm=Um(!0);function ji(r,a){return r&&Ih(r,a,ze)}function Nh(r,a){return r&&vm(r,a,ze)}function Ou(r,a){return bi(a,function(h){return mr(r[h])})}function Uo(r,a){a=Zr(a,r);for(var h=0,p=a.length;r!=null&&h<p;)r=r[Zi(a[h++])];return h&&h==p?r:e}function bm(r,a,h){var p=a(r);return At(r)?p:yi(p,h(r))}function mn(r){return r==null?r===e?Mn:pi:Vi&&Vi in Kt(r)?ww(r):kw(r)}function kh(r,a){return r>a}function $0(r,a){return r!=null&&$t.call(r,a)}function H0(r,a){return r!=null&&a in Kt(r)}function U0(r,a,h){return r>=b(a,h)&&r<g(a,h)}function Mh(r,a,h){for(var p=h?Va:kr,v=r[0].length,A=r.length,x=A,S=k(A),R=1/0,$=[];x--;){var H=r[x];x&&a&&(H=te(H,ae(a))),R=b(H.length,R),S[x]=!h&&(a||v>=120&&H.length>=120)?new $o(x&&H):e}H=r[0];var j=-1,Q=S[0];t:for(;++j<v&&$.length<R;){var st=H[j],ft=a?a(st):st;if(st=h||st!==0?st:0,!(Q?Oo(Q,ft):p($,ft,h))){for(x=A;--x;){var Pt=S[x];if(!(Pt?Oo(Pt,ft):p(r[x],ft,h)))continue t}Q&&Q.push(ft),$.push(st)}}return $}function V0(r,a,h,p){return ji(r,function(v,A,x){a(p,h(v),A,x)}),p}function sl(r,a,h){a=Zr(a,r),r=sg(r,a);var p=r==null?r:r[Zi(ri(a))];return p==null?e:he(p,r,h)}function ym(r){return we(r)&&mn(r)==gt}function j0(r){return we(r)&&mn(r)==Ln}function q0(r){return we(r)&&mn(r)==on}function al(r,a,h,p,v){return r===a?!0:r==null||a==null||!we(r)&&!we(a)?r!==r&&a!==a:Z0(r,a,h,p,al,v)}function Z0(r,a,h,p,v,A){var x=At(r),S=At(a),R=x?nt:Qe(r),$=S?nt:Qe(a);R=R==gt?Oe:R,$=$==gt?Oe:$;var H=R==Oe,j=$==Oe,Q=R==$;if(Q&&Gr(r)){if(!Gr(a))return!1;x=!0,H=!1}if(Q&&!H)return A||(A=new xi),x||Ks(r)?Qm(r,a,h,p,v,A):yw(r,a,R,h,p,v,A);if(!(h&W)){var st=H&&$t.call(r,"__wrapped__"),ft=j&&$t.call(a,"__wrapped__");if(st||ft){var Pt=st?r.value():r,pt=ft?a.value():a;return A||(A=new xi),v(Pt,pt,h,p,A)}}return Q?(A||(A=new xi),Aw(r,a,h,p,v,A)):!1}function K0(r){return we(r)&&Qe(r)==Ie}function Bh(r,a,h,p){var v=h.length,A=v,x=!p;if(r==null)return!A;for(r=Kt(r);v--;){var S=h[v];if(x&&S[2]?S[1]!==r[S[0]]:!(S[0]in r))return!1}for(;++v<A;){S=h[v];var R=S[0],$=r[R],H=S[1];if(x&&S[2]){if($===e&&!(R in r))return!1}else{var j=new xi;if(p)var Q=p($,H,R,r,a,j);if(!(Q===e?al(H,$,W|F,p,j):Q))return!1}}return!0}function Am(r){if(!ge(r)||Pw(r))return!1;var a=mr(r)?wi:J;return a.test(jo(r))}function G0(r){return we(r)&&mn(r)==Ee}function Y0(r){return we(r)&&Qe(r)==pe}function J0(r){return we(r)&&qu(r.length)&&!!yt[mn(r)]}function wm(r){return typeof r=="function"?r:r==null?Nn:typeof r=="object"?At(r)?Tm(r[0],r[1]):xm(r):Vg(r)}function Fh(r){if(!cl(r))return f(r);var a=[];for(var h in Kt(r))$t.call(r,h)&&h!="constructor"&&a.push(h);return a}function X0(r){if(!ge(r))return Nw(r);var a=cl(r),h=[];for(var p in r)p=="constructor"&&(a||!$t.call(r,p))||h.push(p);return h}function zh(r,a){return r<a}function Em(r,a){var h=-1,p=Dn(r)?k(r.length):[];return jr(r,function(v,A,x){p[++h]=a(v,A,x)}),p}function xm(r){var a=td(r);return a.length==1&&a[0][2]?rg(a[0][0],a[0][1]):function(h){return h===r||Bh(h,r,a)}}function Tm(r,a){return nd(r)&&ig(a)?rg(Zi(r),a):function(h){var p=dd(h,r);return p===e&&p===a?fd(h,r):al(a,p,W|F)}}function Pu(r,a,h,p,v){r!==a&&Ih(a,function(A,x){if(v||(v=new xi),ge(A))Q0(r,a,x,h,Pu,p,v);else{var S=p?p(rd(r,x),A,x+"",r,a,v):e;S===e&&(S=A),Rh(r,x,S)}},In)}function Q0(r,a,h,p,v,A,x){var S=rd(r,h),R=rd(a,h),$=x.get(R);if($){Rh(r,h,$);return}var H=A?A(S,R,h+"",r,a,x):e,j=H===e;if(j){var Q=At(R),st=!Q&&Gr(R),ft=!Q&&!st&&Ks(R);H=R,Q||st||ft?At(S)?H=S:Te(S)?H=Rn(S):st?(j=!1,H=Bm(R,!0)):ft?(j=!1,H=Fm(R,!0)):H=[]:dl(R)||qo(R)?(H=S,qo(S)?H=Ng(S):(!ge(S)||mr(S))&&(H=ng(R))):j=!1}j&&(x.set(R,H),v(H,R,p,A,x),x.delete(R)),Rh(r,h,H)}function Cm(r,a){var h=r.length;if(h)return a+=a<0?h:0,pr(a,h)?r[a]:e}function Sm(r,a,h){a.length?a=te(a,function(A){return At(A)?function(x){return Uo(x,A.length===1?A[0]:A)}:A}):a=[Nn];var p=-1;a=te(a,ae(dt()));var v=Em(r,function(A,x,S){var R=te(a,function($){return $(A)});return{criteria:R,index:++p,value:A}});return Ka(v,function(A,x){return dw(A,x,h)})}function tw(r,a){return Lm(r,a,function(h,p){return fd(r,p)})}function Lm(r,a,h){for(var p=-1,v=a.length,A={};++p<v;){var x=a[p],S=Uo(r,x);h(S,x)&&ll(A,Zr(x,r),S)}return A}function ew(r){return function(a){return Uo(a,r)}}function Wh(r,a,h,p){var v=p?Lo:Mr,A=-1,x=a.length,S=r;for(r===a&&(a=Rn(a)),h&&(S=te(r,ae(h)));++A<x;)for(var R=0,$=a[A],H=h?h($):$;(R=v(S,H,R,p))>-1;)S!==r&&No.call(S,R,1),No.call(r,R,1);return r}function Om(r,a){for(var h=r?a.length:0,p=h-1;h--;){var v=a[h];if(h==p||v!==A){var A=v;pr(v)?No.call(r,v,1):Vh(r,v)}}return r}function $h(r,a){return r+Bo(N()*(a-r+1))}function nw(r,a,h,p){for(var v=-1,A=g(Mo((a-r)/(h||1)),0),x=k(A);A--;)x[p?A:++v]=r,r+=h;return x}function Hh(r,a){var h="";if(!r||a<1||a>at)return h;do a%2&&(h+=r),a=Bo(a/2),a&&(r+=r);while(a);return h}function It(r,a){return od(og(r,a,Nn),r+"")}function iw(r){return dm(Gs(r))}function rw(r,a){var h=Gs(r);return Wu(h,Ho(a,0,h.length))}function ll(r,a,h,p){if(!ge(r))return r;a=Zr(a,r);for(var v=-1,A=a.length,x=A-1,S=r;S!=null&&++v<A;){var R=Zi(a[v]),$=h;if(R==="__proto__"||R==="constructor"||R==="prototype")return r;if(v!=x){var H=S[R];$=p?p(H,R,S):e,$===e&&($=ge(H)?H:pr(a[v+1])?[]:{})}rl(S,R,$),S=S[R]}return r}var Pm=Me?function(r,a){return Me.set(r,a),r}:Nn,ow=ko?function(r,a){return ko(r,"toString",{configurable:!0,enumerable:!1,value:md(a),writable:!0})}:Nn;function sw(r){return Wu(Gs(r))}function ii(r,a,h){var p=-1,v=r.length;a<0&&(a=-a>v?0:v+a),h=h>v?v:h,h<0&&(h+=v),v=a>h?0:h-a>>>0,a>>>=0;for(var A=k(v);++p<v;)A[p]=r[p+a];return A}function aw(r,a){var h;return jr(r,function(p,v,A){return h=a(p,v,A),!h}),!!h}function Ru(r,a,h){var p=0,v=r==null?p:r.length;if(typeof a=="number"&&a===a&&v<=ce){for(;p<v;){var A=p+v>>>1,x=r[A];x!==null&&!Hn(x)&&(h?x<=a:x<a)?p=A+1:v=A}return v}return Uh(r,a,Nn,h)}function Uh(r,a,h,p){var v=0,A=r==null?0:r.length;if(A===0)return 0;a=h(a);for(var x=a!==a,S=a===null,R=Hn(a),$=a===e;v<A;){var H=Bo((v+A)/2),j=h(r[H]),Q=j!==e,st=j===null,ft=j===j,Pt=Hn(j);if(x)var pt=p||ft;else $?pt=ft&&(p||Q):S?pt=ft&&Q&&(p||!st):R?pt=ft&&Q&&!st&&(p||!Pt):st||Pt?pt=!1:pt=p?j<=a:j<a;pt?v=H+1:A=H}return b(A,St)}function Rm(r,a){for(var h=-1,p=r.length,v=0,A=[];++h<p;){var x=r[h],S=a?a(x):x;if(!h||!Ti(S,R)){var R=S;A[v++]=x===0?0:x}}return A}function Dm(r){return typeof r=="number"?r:Hn(r)?lt:+r}function $n(r){if(typeof r=="string")return r;if(At(r))return te(r,$n)+"";if(Hn(r))return zo?zo.call(r):"";var a=r+"";return a=="0"&&1/r==-Qt?"-0":a}function qr(r,a,h){var p=-1,v=kr,A=r.length,x=!0,S=[],R=S;if(h)x=!1,v=Va;else if(A>=l){var $=a?null:vw(r);if($)return Pn($);x=!1,v=Oo,R=new $o}else R=a?[]:S;t:for(;++p<A;){var H=r[p],j=a?a(H):H;if(H=h||H!==0?H:0,x&&j===j){for(var Q=R.length;Q--;)if(R[Q]===j)continue t;a&&R.push(j),S.push(H)}else v(R,j,h)||(R!==S&&R.push(j),S.push(H))}return S}function Vh(r,a){return a=Zr(a,r),r=sg(r,a),r==null||delete r[Zi(ri(a))]}function Im(r,a,h,p){return ll(r,a,h(Uo(r,a)),p)}function Du(r,a,h,p){for(var v=r.length,A=p?v:-1;(p?A--:++A<v)&&a(r[A],A,r););return h?ii(r,p?0:A,p?A+1:v):ii(r,p?A+1:0,p?v:A)}function Nm(r,a){var h=r;return h instanceof Dt&&(h=h.value()),ja(a,function(p,v){return v.func.apply(v.thisArg,yi([p],v.args))},h)}function jh(r,a,h){var p=r.length;if(p<2)return p?qr(r[0]):[];for(var v=-1,A=k(p);++v<p;)for(var x=r[v],S=-1;++S<p;)S!=v&&(A[v]=ol(A[v]||x,r[S],a,h));return qr(Ve(A,1),a,h)}function km(r,a,h){for(var p=-1,v=r.length,A=a.length,x={};++p<v;){var S=p<A?a[p]:e;h(x,r[p],S)}return x}function qh(r){return Te(r)?r:[]}function Zh(r){return typeof r=="function"?r:Nn}function Zr(r,a){return At(r)?r:nd(r,a)?[r]:cg(Gt(r))}var lw=It;function Kr(r,a,h){var p=r.length;return h=h===e?p:h,!a&&h>=p?r:ii(r,a,h)}var Mm=xu||function(r){return ke.clearTimeout(r)};function Bm(r,a){if(a)return r.slice();var h=r.length,p=wu?wu(h):new r.constructor(h);return r.copy(p),p}function Kh(r){var a=new r.constructor(r.byteLength);return new Ui(a).set(new Ui(r)),a}function uw(r,a){var h=a?Kh(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.byteLength)}function cw(r){var a=new r.constructor(r.source,_i.exec(r));return a.lastIndex=r.lastIndex,a}function hw(r){return oe?Kt(oe.call(r)):{}}function Fm(r,a){var h=a?Kh(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.length)}function zm(r,a){if(r!==a){var h=r!==e,p=r===null,v=r===r,A=Hn(r),x=a!==e,S=a===null,R=a===a,$=Hn(a);if(!S&&!$&&!A&&r>a||A&&x&&R&&!S&&!$||p&&x&&R||!h&&R||!v)return 1;if(!p&&!A&&!$&&r<a||$&&h&&v&&!p&&!A||S&&h&&v||!x&&v||!R)return-1}return 0}function dw(r,a,h){for(var p=-1,v=r.criteria,A=a.criteria,x=v.length,S=h.length;++p<x;){var R=zm(v[p],A[p]);if(R){if(p>=S)return R;var $=h[p];return R*($=="desc"?-1:1)}}return r.index-a.index}function Wm(r,a,h,p){for(var v=-1,A=r.length,x=h.length,S=-1,R=a.length,$=g(A-x,0),H=k(R+$),j=!p;++S<R;)H[S]=a[S];for(;++v<x;)(j||v<A)&&(H[h[v]]=r[v]);for(;$--;)H[S++]=r[v++];return H}function $m(r,a,h,p){for(var v=-1,A=r.length,x=-1,S=h.length,R=-1,$=a.length,H=g(A-S,0),j=k(H+$),Q=!p;++v<H;)j[v]=r[v];for(var st=v;++R<$;)j[st+R]=a[R];for(;++x<S;)(Q||v<A)&&(j[st+h[x]]=r[v++]);return j}function Rn(r,a){var h=-1,p=r.length;for(a||(a=k(p));++h<p;)a[h]=r[h];return a}function qi(r,a,h,p){var v=!h;h||(h={});for(var A=-1,x=a.length;++A<x;){var S=a[A],R=p?p(h[S],r[S],S,h,r):e;R===e&&(R=r[S]),v?hr(h,S,R):rl(h,S,R)}return h}function fw(r,a){return qi(r,ed(r),a)}function pw(r,a){return qi(r,tg(r),a)}function Iu(r,a){return function(h,p){var v=At(h)?_h:M0,A=a?a():{};return v(h,r,dt(p,2),A)}}function js(r){return It(function(a,h){var p=-1,v=h.length,A=v>1?h[v-1]:e,x=v>2?h[2]:e;for(A=r.length>3&&typeof A=="function"?(v--,A):e,x&&gn(h[0],h[1],x)&&(A=v<3?e:A,v=1),a=Kt(a);++p<v;){var S=h[p];S&&r(a,S,p,A)}return a})}function Hm(r,a){return function(h,p){if(h==null)return h;if(!Dn(h))return r(h,p);for(var v=h.length,A=a?v:-1,x=Kt(h);(a?A--:++A<v)&&p(x[A],A,x)!==!1;);return h}}function Um(r){return function(a,h,p){for(var v=-1,A=Kt(a),x=p(a),S=x.length;S--;){var R=x[r?S:++v];if(h(A[R],R,A)===!1)break}return a}}function mw(r,a,h){var p=a&I,v=ul(r);function A(){var x=this&&this!==ke&&this instanceof A?v:r;return x.apply(p?h:this,arguments)}return A}function Vm(r){return function(a){a=Gt(a);var h=Fr(a)?Je(a):e,p=h?h[0]:a.charAt(0),v=h?Kr(h,1).join(""):a.slice(1);return p[r]()+v}}function qs(r){return function(a){return ja(Hg($g(a).replace(Xt,"")),r,"")}}function ul(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var h=Vr(r.prototype),p=r.apply(h,a);return ge(p)?p:h}}function gw(r,a,h){var p=ul(r);function v(){for(var A=arguments.length,x=k(A),S=A,R=Zs(v);S--;)x[S]=arguments[S];var $=A<3&&x[0]!==R&&x[A-1]!==R?[]:Hi(x,R);if(A-=$.length,A<h)return Gm(r,a,Nu,v.placeholder,e,x,$,e,e,h-A);var H=this&&this!==ke&&this instanceof v?p:r;return he(H,this,x)}return v}function jm(r){return function(a,h,p){var v=Kt(a);if(!Dn(a)){var A=dt(h,3);a=ze(a),h=function(S){return A(v[S],S,v)}}var x=r(a,h,p);return x>-1?v[A?a[x]:x]:e}}function qm(r){return fr(function(a){var h=a.length,p=h,v=Xe.prototype.thru;for(r&&a.reverse();p--;){var A=a[p];if(typeof A!="function")throw new Ue(d);if(v&&!x&&Fu(A)=="wrapper")var x=new Xe([],!0)}for(p=x?p:h;++p<h;){A=a[p];var S=Fu(A),R=S=="wrapper"?Qh(A):e;R&&id(R[0])&&R[1]==(ct|Y|K|Ft)&&!R[4].length&&R[9]==1?x=x[Fu(R[0])].apply(x,R[3]):x=A.length==1&&id(A)?x[S]():x.thru(A)}return function(){var $=arguments,H=$[0];if(x&&$.length==1&&At(H))return x.plant(H).value();for(var j=0,Q=h?a[j].apply(this,$):H;++j<h;)Q=a[j].call(this,Q);return Q}})}function Nu(r,a,h,p,v,A,x,S,R,$){var H=a&ct,j=a&I,Q=a&Z,st=a&(Y|G),ft=a&qt,Pt=Q?e:ul(r);function pt(){for(var kt=arguments.length,Ht=k(kt),Un=kt;Un--;)Ht[Un]=arguments[Un];if(st)var _n=Zs(pt),Vn=Br(Ht,_n);if(p&&(Ht=Wm(Ht,p,v,st)),A&&(Ht=$m(Ht,A,x,st)),kt-=Vn,st&&kt<$){var Ce=Hi(Ht,_n);return Gm(r,a,Nu,pt.placeholder,h,Ht,Ce,S,R,$-kt)}var Ci=j?h:this,_r=Q?Ci[r]:r;return kt=Ht.length,S?Ht=Mw(Ht,S):ft&&kt>1&&Ht.reverse(),H&&R<kt&&(Ht.length=R),this&&this!==ke&&this instanceof pt&&(_r=Pt||ul(_r)),_r.apply(Ci,Ht)}return pt}function Zm(r,a){return function(h,p){return V0(h,r,a(p),{})}}function ku(r,a){return function(h,p){var v;if(h===e&&p===e)return a;if(h!==e&&(v=h),p!==e){if(v===e)return p;typeof h=="string"||typeof p=="string"?(h=$n(h),p=$n(p)):(h=Dm(h),p=Dm(p)),v=r(h,p)}return v}}function Gh(r){return fr(function(a){return a=te(a,ae(dt())),It(function(h){var p=this;return r(a,function(v){return he(v,p,h)})})})}function Mu(r,a){a=a===e?" ":$n(a);var h=a.length;if(h<2)return h?Hh(a,r):a;var p=Hh(a,Mo(r/Ye(a)));return Fr(a)?Kr(Je(p),0,r).join(""):p.slice(0,r)}function _w(r,a,h,p){var v=a&I,A=ul(r);function x(){for(var S=-1,R=arguments.length,$=-1,H=p.length,j=k(H+R),Q=this&&this!==ke&&this instanceof x?A:r;++$<H;)j[$]=p[$];for(;R--;)j[$++]=arguments[++S];return he(Q,v?h:this,j)}return x}function Km(r){return function(a,h,p){return p&&typeof p!="number"&&gn(a,h,p)&&(h=p=e),a=gr(a),h===e?(h=a,a=0):h=gr(h),p=p===e?a<h?1:-1:gr(p),nw(a,h,p,r)}}function Bu(r){return function(a,h){return typeof a=="string"&&typeof h=="string"||(a=oi(a),h=oi(h)),r(a,h)}}function Gm(r,a,h,p,v,A,x,S,R,$){var H=a&Y,j=H?x:e,Q=H?e:x,st=H?A:e,ft=H?e:A;a|=H?K:it,a&=~(H?it:K),a&X||(a&=~(I|Z));var Pt=[r,a,v,st,j,ft,Q,S,R,$],pt=h.apply(e,Pt);return id(r)&&ag(pt,Pt),pt.placeholder=p,lg(pt,r,a)}function Yh(r){var a=xe[r];return function(h,p){if(h=oi(h),p=p==null?0:b(Lt(p),292),p&&s(h)){var v=(Gt(h)+"e").split("e"),A=a(v[0]+"e"+(+v[1]+p));return v=(Gt(A)+"e").split("e"),+(v[0]+"e"+(+v[1]-p))}return a(h)}}var vw=Ae&&1/Pn(new Ae([,-0]))[1]==Qt?function(r){return new Ae(r)}:vd;function Ym(r){return function(a){var h=Qe(a);return h==Ie?Ja(a):h==pe?Ah(a):_u(a,r(a))}}function dr(r,a,h,p,v,A,x,S){var R=a&Z;if(!R&&typeof r!="function")throw new Ue(d);var $=p?p.length:0;if($||(a&=~(K|it),p=v=e),x=x===e?x:g(Lt(x),0),S=S===e?S:Lt(S),$-=v?v.length:0,a&it){var H=p,j=v;p=v=e}var Q=R?e:Qh(r),st=[r,a,h,p,v,H,j,A,x,S];if(Q&&Iw(st,Q),r=st[0],a=st[1],h=st[2],p=st[3],v=st[4],S=st[9]=st[9]===e?R?0:r.length:g(st[9]-$,0),!S&&a&(Y|G)&&(a&=~(Y|G)),!a||a==I)var ft=mw(r,a,h);else a==Y||a==G?ft=gw(r,a,S):(a==K||a==(I|K))&&!v.length?ft=_w(r,a,h,p):ft=Nu.apply(e,st);var Pt=Q?Pm:ag;return lg(Pt(ft,st),r,a)}function Jm(r,a,h,p){return r===e||Ti(r,$r[h])&&!$t.call(p,h)?a:r}function Xm(r,a,h,p,v,A){return ge(r)&&ge(a)&&(A.set(a,r),Pu(r,a,e,Xm,A),A.delete(a)),r}function bw(r){return dl(r)?e:r}function Qm(r,a,h,p,v,A){var x=h&W,S=r.length,R=a.length;if(S!=R&&!(x&&R>S))return!1;var $=A.get(r),H=A.get(a);if($&&H)return $==a&&H==r;var j=-1,Q=!0,st=h&F?new $o:e;for(A.set(r,a),A.set(a,r);++j<S;){var ft=r[j],Pt=a[j];if(p)var pt=x?p(Pt,ft,j,a,r,A):p(ft,Pt,j,r,a,A);if(pt!==e){if(pt)continue;Q=!1;break}if(st){if(!Co(a,function(kt,Ht){if(!Oo(st,Ht)&&(ft===kt||v(ft,kt,h,p,A)))return st.push(Ht)})){Q=!1;break}}else if(!(ft===Pt||v(ft,Pt,h,p,A))){Q=!1;break}}return A.delete(r),A.delete(a),Q}function yw(r,a,h,p,v,A,x){switch(h){case un:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case Ln:return!(r.byteLength!=a.byteLength||!A(new Ui(r),new Ui(a)));case ee:case on:case Be:return Ti(+r,+a);case sn:return r.name==a.name&&r.message==a.message;case Ee:case Cn:return r==a+"";case Ie:var S=Ja;case pe:var R=p&W;if(S||(S=Pn),r.size!=a.size&&!R)return!1;var $=x.get(r);if($)return $==a;p|=F,x.set(r,a);var H=Qm(S(r),S(a),p,v,A,x);return x.delete(r),H;case Sn:if(oe)return oe.call(r)==oe.call(a)}return!1}function Aw(r,a,h,p,v,A){var x=h&W,S=Jh(r),R=S.length,$=Jh(a),H=$.length;if(R!=H&&!x)return!1;for(var j=R;j--;){var Q=S[j];if(!(x?Q in a:$t.call(a,Q)))return!1}var st=A.get(r),ft=A.get(a);if(st&&ft)return st==a&&ft==r;var Pt=!0;A.set(r,a),A.set(a,r);for(var pt=x;++j<R;){Q=S[j];var kt=r[Q],Ht=a[Q];if(p)var Un=x?p(Ht,kt,Q,a,r,A):p(kt,Ht,Q,r,a,A);if(!(Un===e?kt===Ht||v(kt,Ht,h,p,A):Un)){Pt=!1;break}pt||(pt=Q=="constructor")}if(Pt&&!pt){var _n=r.constructor,Vn=a.constructor;_n!=Vn&&"constructor"in r&&"constructor"in a&&!(typeof _n=="function"&&_n instanceof _n&&typeof Vn=="function"&&Vn instanceof Vn)&&(Pt=!1)}return A.delete(r),A.delete(a),Pt}function fr(r){return od(og(r,e,pg),r+"")}function Jh(r){return bm(r,ze,ed)}function Xh(r){return bm(r,In,tg)}var Qh=Me?function(r){return Me.get(r)}:vd;function Fu(r){for(var a=r.name+"",h=Wn[a],p=$t.call(Wn,a)?h.length:0;p--;){var v=h[p],A=v.func;if(A==null||A==r)return v.name}return a}function Zs(r){var a=$t.call(y,"placeholder")?y:r;return a.placeholder}function dt(){var r=y.iteratee||gd;return r=r===gd?wm:r,arguments.length?r(arguments[0],arguments[1]):r}function zu(r,a){var h=r.__data__;return Ow(a)?h[typeof a=="string"?"string":"hash"]:h.map}function td(r){for(var a=ze(r),h=a.length;h--;){var p=a[h],v=r[p];a[h]=[p,v,ig(v)]}return a}function Vo(r,a){var h=Ms(r,a);return Am(h)?h:e}function ww(r){var a=$t.call(r,Vi),h=r[Vi];try{r[Vi]=e;var p=!0}catch{}var v=Do.call(r);return p&&(a?r[Vi]=h:delete r[Vi]),v}var ed=il?function(r){return r==null?[]:(r=Kt(r),bi(il(r),function(a){return nl.call(r,a)}))}:bd,tg=il?function(r){for(var a=[];r;)yi(a,ed(r)),r=lr(r);return a}:bd,Qe=mn;(tt&&Qe(new tt(new ArrayBuffer(1)))!=un||ut&&Qe(new ut)!=Ie||Et&&Qe(Et.resolve())!=qe||Ae&&Qe(new Ae)!=pe||de&&Qe(new de)!=We)&&(Qe=function(r){var a=mn(r),h=a==Oe?r.constructor:e,p=h?jo(h):"";if(p)switch(p){case Ch:return un;case Sh:return Ie;case Lh:return qe;case Cu:return pe;case Oh:return We}return a});function Ew(r,a,h){for(var p=-1,v=h.length;++p<v;){var A=h[p],x=A.size;switch(A.type){case"drop":r+=x;break;case"dropRight":a-=x;break;case"take":a=b(a,r+x);break;case"takeRight":r=g(r,a-x);break}}return{start:r,end:a}}function xw(r){var a=r.match(_o);return a?a[1].split(On):[]}function eg(r,a,h){a=Zr(a,r);for(var p=-1,v=a.length,A=!1;++p<v;){var x=Zi(a[p]);if(!(A=r!=null&&h(r,x)))break;r=r[x]}return A||++p!=v?A:(v=r==null?0:r.length,!!v&&qu(v)&&pr(x,v)&&(At(r)||qo(r)))}function Tw(r){var a=r.length,h=new r.constructor(a);return a&&typeof r[0]=="string"&&$t.call(r,"index")&&(h.index=r.index,h.input=r.input),h}function ng(r){return typeof r.constructor=="function"&&!cl(r)?Vr(lr(r)):{}}function Cw(r,a,h){var p=r.constructor;switch(a){case Ln:return Kh(r);case ee:case on:return new p(+r);case un:return uw(r,h);case Cr:case ki:case tr:case Mi:case mi:case $e:case Bn:case er:case Fn:return Fm(r,h);case Ie:return new p;case Be:case Cn:return new p(r);case Ee:return cw(r);case pe:return new p;case Sn:return hw(r)}}function Sw(r,a){var h=a.length;if(!h)return r;var p=h-1;return a[p]=(h>1?"& ":"")+a[p],a=a.join(h>2?", ":" "),r.replace(ot,`{
/* [wrapped with `+a+`] */
`)}function Lw(r){return At(r)||qo(r)||!!(Eu&&r&&r[Eu])}function pr(r,a){var h=typeof r;return a=a??at,!!a&&(h=="number"||h!="symbol"&&Wt.test(r))&&r>-1&&r%1==0&&r<a}function gn(r,a,h){if(!ge(h))return!1;var p=typeof a;return(p=="number"?Dn(h)&&pr(a,h.length):p=="string"&&a in h)?Ti(h[a],r):!1}function nd(r,a){if(At(r))return!1;var h=typeof r;return h=="number"||h=="symbol"||h=="boolean"||r==null||Hn(r)?!0:Lr.test(r)||!go.test(r)||a!=null&&r in Kt(a)}function Ow(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}function id(r){var a=Fu(r),h=y[a];if(typeof h!="function"||!(a in Dt.prototype))return!1;if(r===h)return!0;var p=Qh(h);return!!p&&r===p[0]}function Pw(r){return!!ar&&ar in r}var Rw=Ro?mr:yd;function cl(r){var a=r&&r.constructor,h=typeof a=="function"&&a.prototype||$r;return r===h}function ig(r){return r===r&&!ge(r)}function rg(r,a){return function(h){return h==null?!1:h[r]===a&&(a!==e||r in Kt(h))}}function Dw(r){var a=Vu(r,function(p){return h.size===w&&h.clear(),p}),h=a.cache;return a}function Iw(r,a){var h=r[1],p=a[1],v=h|p,A=v<(I|Z|ct),x=p==ct&&h==Y||p==ct&&h==Ft&&r[7].length<=a[8]||p==(ct|Ft)&&a[7].length<=a[8]&&h==Y;if(!(A||x))return r;p&I&&(r[2]=a[2],v|=h&I?0:X);var S=a[3];if(S){var R=r[3];r[3]=R?Wm(R,S,a[4]):S,r[4]=R?Hi(r[3],E):a[4]}return S=a[5],S&&(R=r[5],r[5]=R?$m(R,S,a[6]):S,r[6]=R?Hi(r[5],E):a[6]),S=a[7],S&&(r[7]=S),p&ct&&(r[8]=r[8]==null?a[8]:b(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=v,r}function Nw(r){var a=[];if(r!=null)for(var h in Kt(r))a.push(h);return a}function kw(r){return Do.call(r)}function og(r,a,h){return a=g(a===e?r.length-1:a,0),function(){for(var p=arguments,v=-1,A=g(p.length-a,0),x=k(A);++v<A;)x[v]=p[a+v];v=-1;for(var S=k(a+1);++v<a;)S[v]=p[v];return S[a]=h(x),he(r,this,S)}}function sg(r,a){return a.length<2?r:Uo(r,ii(a,0,-1))}function Mw(r,a){for(var h=r.length,p=b(a.length,h),v=Rn(r);p--;){var A=a[p];r[p]=pr(A,h)?v[A]:e}return r}function rd(r,a){if(!(a==="constructor"&&typeof r[a]=="function")&&a!="__proto__")return r[a]}var ag=ug(Pm),hl=Th||function(r,a){return ke.setTimeout(r,a)},od=ug(ow);function lg(r,a,h){var p=a+"";return od(r,Sw(p,Bw(xw(p),h)))}function ug(r){var a=0,h=0;return function(){var p=T(),v=fe-(p-h);if(h=p,v>0){if(++a>=Ot)return arguments[0]}else a=0;return r.apply(e,arguments)}}function Wu(r,a){var h=-1,p=r.length,v=p-1;for(a=a===e?p:a;++h<a;){var A=$h(h,v),x=r[A];r[A]=r[h],r[h]=x}return r.length=a,r}var cg=Dw(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(ws,function(h,p,v,A){a.push(v?A.replace(Rr,"$1"):p||h)}),a});function Zi(r){if(typeof r=="string"||Hn(r))return r;var a=r+"";return a=="0"&&1/r==-Qt?"-0":a}function jo(r){if(r!=null){try{return Us.call(r)}catch{}try{return r+""}catch{}}return""}function Bw(r,a){return fn(mt,function(h){var p="_."+h[0];a&h[1]&&!kr(r,p)&&r.push(p)}),r.sort()}function hg(r){if(r instanceof Dt)return r.clone();var a=new Xe(r.__wrapped__,r.__chain__);return a.__actions__=Rn(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}function Fw(r,a,h){(h?gn(r,a,h):a===e)?a=1:a=g(Lt(a),0);var p=r==null?0:r.length;if(!p||a<1)return[];for(var v=0,A=0,x=k(Mo(p/a));v<p;)x[A++]=ii(r,v,v+=a);return x}function zw(r){for(var a=-1,h=r==null?0:r.length,p=0,v=[];++a<h;){var A=r[a];A&&(v[p++]=A)}return v}function Ww(){var r=arguments.length;if(!r)return[];for(var a=k(r-1),h=arguments[0],p=r;p--;)a[p-1]=arguments[p];return yi(At(h)?Rn(h):[h],Ve(a,1))}var $w=It(function(r,a){return Te(r)?ol(r,Ve(a,1,Te,!0)):[]}),Hw=It(function(r,a){var h=ri(a);return Te(h)&&(h=e),Te(r)?ol(r,Ve(a,1,Te,!0),dt(h,2)):[]}),Uw=It(function(r,a){var h=ri(a);return Te(h)&&(h=e),Te(r)?ol(r,Ve(a,1,Te,!0),e,h):[]});function Vw(r,a,h){var p=r==null?0:r.length;return p?(a=h||a===e?1:Lt(a),ii(r,a<0?0:a,p)):[]}function jw(r,a,h){var p=r==null?0:r.length;return p?(a=h||a===e?1:Lt(a),a=p-a,ii(r,0,a<0?0:a)):[]}function qw(r,a){return r&&r.length?Du(r,dt(a,3),!0,!0):[]}function Zw(r,a){return r&&r.length?Du(r,dt(a,3),!0):[]}function Kw(r,a,h,p){var v=r==null?0:r.length;return v?(h&&typeof h!="number"&&gn(r,a,h)&&(h=0,p=v),W0(r,a,h,p)):[]}function dg(r,a,h){var p=r==null?0:r.length;if(!p)return-1;var v=h==null?0:Lt(h);return v<0&&(v=g(p+v,0)),Qn(r,dt(a,3),v)}function fg(r,a,h){var p=r==null?0:r.length;if(!p)return-1;var v=p-1;return h!==e&&(v=Lt(h),v=h<0?g(p+v,0):b(v,p-1)),Qn(r,dt(a,3),v,!0)}function pg(r){var a=r==null?0:r.length;return a?Ve(r,1):[]}function Gw(r){var a=r==null?0:r.length;return a?Ve(r,Qt):[]}function Yw(r,a){var h=r==null?0:r.length;return h?(a=a===e?1:Lt(a),Ve(r,a)):[]}function Jw(r){for(var a=-1,h=r==null?0:r.length,p={};++a<h;){var v=r[a];p[v[0]]=v[1]}return p}function mg(r){return r&&r.length?r[0]:e}function Xw(r,a,h){var p=r==null?0:r.length;if(!p)return-1;var v=h==null?0:Lt(h);return v<0&&(v=g(p+v,0)),Mr(r,a,v)}function Qw(r){var a=r==null?0:r.length;return a?ii(r,0,-1):[]}var tE=It(function(r){var a=te(r,qh);return a.length&&a[0]===r[0]?Mh(a):[]}),eE=It(function(r){var a=ri(r),h=te(r,qh);return a===ri(h)?a=e:h.pop(),h.length&&h[0]===r[0]?Mh(h,dt(a,2)):[]}),nE=It(function(r){var a=ri(r),h=te(r,qh);return a=typeof a=="function"?a:e,a&&h.pop(),h.length&&h[0]===r[0]?Mh(h,e,a):[]});function iE(r,a){return r==null?"":u.call(r,a)}function ri(r){var a=r==null?0:r.length;return a?r[a-1]:e}function rE(r,a,h){var p=r==null?0:r.length;if(!p)return-1;var v=p;return h!==e&&(v=Lt(h),v=v<0?g(p+v,0):b(v,p-1)),a===a?wh(r,a,v):Qn(r,pn,v,!0)}function oE(r,a){return r&&r.length?Cm(r,Lt(a)):e}var sE=It(gg);function gg(r,a){return r&&r.length&&a&&a.length?Wh(r,a):r}function aE(r,a,h){return r&&r.length&&a&&a.length?Wh(r,a,dt(h,2)):r}function lE(r,a,h){return r&&r.length&&a&&a.length?Wh(r,a,e,h):r}var uE=fr(function(r,a){var h=r==null?0:r.length,p=Dh(r,a);return Om(r,te(a,function(v){return pr(v,h)?+v:v}).sort(zm)),p});function cE(r,a){var h=[];if(!(r&&r.length))return h;var p=-1,v=[],A=r.length;for(a=dt(a,3);++p<A;){var x=r[p];a(x,p,r)&&(h.push(x),v.push(p))}return Om(r,v),h}function sd(r){return r==null?r:V.call(r)}function hE(r,a,h){var p=r==null?0:r.length;return p?(h&&typeof h!="number"&&gn(r,a,h)?(a=0,h=p):(a=a==null?0:Lt(a),h=h===e?p:Lt(h)),ii(r,a,h)):[]}function dE(r,a){return Ru(r,a)}function fE(r,a,h){return Uh(r,a,dt(h,2))}function pE(r,a){var h=r==null?0:r.length;if(h){var p=Ru(r,a);if(p<h&&Ti(r[p],a))return p}return-1}function mE(r,a){return Ru(r,a,!0)}function gE(r,a,h){return Uh(r,a,dt(h,2),!0)}function _E(r,a){var h=r==null?0:r.length;if(h){var p=Ru(r,a,!0)-1;if(Ti(r[p],a))return p}return-1}function vE(r){return r&&r.length?Rm(r):[]}function bE(r,a){return r&&r.length?Rm(r,dt(a,2)):[]}function yE(r){var a=r==null?0:r.length;return a?ii(r,1,a):[]}function AE(r,a,h){return r&&r.length?(a=h||a===e?1:Lt(a),ii(r,0,a<0?0:a)):[]}function wE(r,a,h){var p=r==null?0:r.length;return p?(a=h||a===e?1:Lt(a),a=p-a,ii(r,a<0?0:a,p)):[]}function EE(r,a){return r&&r.length?Du(r,dt(a,3),!1,!0):[]}function xE(r,a){return r&&r.length?Du(r,dt(a,3)):[]}var TE=It(function(r){return qr(Ve(r,1,Te,!0))}),CE=It(function(r){var a=ri(r);return Te(a)&&(a=e),qr(Ve(r,1,Te,!0),dt(a,2))}),SE=It(function(r){var a=ri(r);return a=typeof a=="function"?a:e,qr(Ve(r,1,Te,!0),e,a)});function LE(r){return r&&r.length?qr(r):[]}function OE(r,a){return r&&r.length?qr(r,dt(a,2)):[]}function PE(r,a){return a=typeof a=="function"?a:e,r&&r.length?qr(r,e,a):[]}function ad(r){if(!(r&&r.length))return[];var a=0;return r=bi(r,function(h){if(Te(h))return a=g(h.length,a),!0}),Ya(a,function(h){return te(r,Ns(h))})}function _g(r,a){if(!(r&&r.length))return[];var h=ad(r);return a==null?h:te(h,function(p){return he(a,e,p)})}var RE=It(function(r,a){return Te(r)?ol(r,a):[]}),DE=It(function(r){return jh(bi(r,Te))}),IE=It(function(r){var a=ri(r);return Te(a)&&(a=e),jh(bi(r,Te),dt(a,2))}),NE=It(function(r){var a=ri(r);return a=typeof a=="function"?a:e,jh(bi(r,Te),e,a)}),kE=It(ad);function ME(r,a){return km(r||[],a||[],rl)}function BE(r,a){return km(r||[],a||[],ll)}var FE=It(function(r){var a=r.length,h=a>1?r[a-1]:e;return h=typeof h=="function"?(r.pop(),h):e,_g(r,h)});function vg(r){var a=y(r);return a.__chain__=!0,a}function zE(r,a){return a(r),r}function $u(r,a){return a(r)}var WE=fr(function(r){var a=r.length,h=a?r[0]:0,p=this.__wrapped__,v=function(A){return Dh(A,r)};return a>1||this.__actions__.length||!(p instanceof Dt)||!pr(h)?this.thru(v):(p=p.slice(h,+h+(a?1:0)),p.__actions__.push({func:$u,args:[v],thisArg:e}),new Xe(p,this.__chain__).thru(function(A){return a&&!A.length&&A.push(e),A}))});function $E(){return vg(this)}function HE(){return new Xe(this.value(),this.__chain__)}function UE(){this.__values__===e&&(this.__values__=Dg(this.value()));var r=this.__index__>=this.__values__.length,a=r?e:this.__values__[this.__index__++];return{done:r,value:a}}function VE(){return this}function jE(r){for(var a,h=this;h instanceof Vs;){var p=hg(h);p.__index__=0,p.__values__=e,a?v.__wrapped__=p:a=p;var v=p;h=h.__wrapped__}return v.__wrapped__=r,a}function qE(){var r=this.__wrapped__;if(r instanceof Dt){var a=r;return this.__actions__.length&&(a=new Dt(this)),a=a.reverse(),a.__actions__.push({func:$u,args:[sd],thisArg:e}),new Xe(a,this.__chain__)}return this.thru(sd)}function ZE(){return Nm(this.__wrapped__,this.__actions__)}var KE=Iu(function(r,a,h){$t.call(r,h)?++r[h]:hr(r,h,1)});function GE(r,a,h){var p=At(r)?Ua:z0;return h&&gn(r,a,h)&&(a=e),p(r,dt(a,3))}function YE(r,a){var h=At(r)?bi:_m;return h(r,dt(a,3))}var JE=jm(dg),XE=jm(fg);function QE(r,a){return Ve(Hu(r,a),1)}function tx(r,a){return Ve(Hu(r,a),Qt)}function ex(r,a,h){return h=h===e?1:Lt(h),Ve(Hu(r,a),h)}function bg(r,a){var h=At(r)?fn:jr;return h(r,dt(a,3))}function yg(r,a){var h=At(r)?zi:gm;return h(r,dt(a,3))}var nx=Iu(function(r,a,h){$t.call(r,h)?r[h].push(a):hr(r,h,[a])});function ix(r,a,h,p){r=Dn(r)?r:Gs(r),h=h&&!p?Lt(h):0;var v=r.length;return h<0&&(h=g(v+h,0)),Zu(r)?h<=v&&r.indexOf(a,h)>-1:!!v&&Mr(r,a,h)>-1}var rx=It(function(r,a,h){var p=-1,v=typeof a=="function",A=Dn(r)?k(r.length):[];return jr(r,function(x){A[++p]=v?he(a,x,h):sl(x,a,h)}),A}),ox=Iu(function(r,a,h){hr(r,h,a)});function Hu(r,a){var h=At(r)?te:Em;return h(r,dt(a,3))}function sx(r,a,h,p){return r==null?[]:(At(a)||(a=a==null?[]:[a]),h=p?e:h,At(h)||(h=h==null?[]:[h]),Sm(r,a,h))}var ax=Iu(function(r,a,h){r[h?0:1].push(a)},function(){return[[],[]]});function lx(r,a,h){var p=At(r)?ja:ks,v=arguments.length<3;return p(r,dt(a,4),h,v,jr)}function ux(r,a,h){var p=At(r)?vh:ks,v=arguments.length<3;return p(r,dt(a,4),h,v,gm)}function cx(r,a){var h=At(r)?bi:_m;return h(r,ju(dt(a,3)))}function hx(r){var a=At(r)?dm:iw;return a(r)}function dx(r,a,h){(h?gn(r,a,h):a===e)?a=1:a=Lt(a);var p=At(r)?N0:rw;return p(r,a)}function fx(r){var a=At(r)?k0:sw;return a(r)}function px(r){if(r==null)return 0;if(Dn(r))return Zu(r)?Ye(r):r.length;var a=Qe(r);return a==Ie||a==pe?r.size:Fh(r).length}function mx(r,a,h){var p=At(r)?Co:aw;return h&&gn(r,a,h)&&(a=e),p(r,dt(a,3))}var gx=It(function(r,a){if(r==null)return[];var h=a.length;return h>1&&gn(r,a[0],a[1])?a=[]:h>2&&gn(a[0],a[1],a[2])&&(a=[a[0]]),Sm(r,Ve(a,1),[])}),Uu=Tu||function(){return ke.Date.now()};function _x(r,a){if(typeof a!="function")throw new Ue(d);return r=Lt(r),function(){if(--r<1)return a.apply(this,arguments)}}function Ag(r,a,h){return a=h?e:a,a=r&&a==null?r.length:a,dr(r,ct,e,e,e,e,a)}function wg(r,a){var h;if(typeof a!="function")throw new Ue(d);return r=Lt(r),function(){return--r>0&&(h=a.apply(this,arguments)),r<=1&&(a=e),h}}var ld=It(function(r,a,h){var p=I;if(h.length){var v=Hi(h,Zs(ld));p|=K}return dr(r,p,a,h,v)}),Eg=It(function(r,a,h){var p=I|Z;if(h.length){var v=Hi(h,Zs(Eg));p|=K}return dr(a,p,r,h,v)});function xg(r,a,h){a=h?e:a;var p=dr(r,Y,e,e,e,e,e,a);return p.placeholder=xg.placeholder,p}function Tg(r,a,h){a=h?e:a;var p=dr(r,G,e,e,e,e,e,a);return p.placeholder=Tg.placeholder,p}function Cg(r,a,h){var p,v,A,x,S,R,$=0,H=!1,j=!1,Q=!0;if(typeof r!="function")throw new Ue(d);a=oi(a)||0,ge(h)&&(H=!!h.leading,j="maxWait"in h,A=j?g(oi(h.maxWait)||0,a):A,Q="trailing"in h?!!h.trailing:Q);function st(Ce){var Ci=p,_r=v;return p=v=e,$=Ce,x=r.apply(_r,Ci),x}function ft(Ce){return $=Ce,S=hl(kt,a),H?st(Ce):x}function Pt(Ce){var Ci=Ce-R,_r=Ce-$,jg=a-Ci;return j?b(jg,A-_r):jg}function pt(Ce){var Ci=Ce-R,_r=Ce-$;return R===e||Ci>=a||Ci<0||j&&_r>=A}function kt(){var Ce=Uu();if(pt(Ce))return Ht(Ce);S=hl(kt,Pt(Ce))}function Ht(Ce){return S=e,Q&&p?st(Ce):(p=v=e,x)}function Un(){S!==e&&Mm(S),$=0,p=R=v=S=e}function _n(){return S===e?x:Ht(Uu())}function Vn(){var Ce=Uu(),Ci=pt(Ce);if(p=arguments,v=this,R=Ce,Ci){if(S===e)return ft(R);if(j)return Mm(S),S=hl(kt,a),st(R)}return S===e&&(S=hl(kt,a)),x}return Vn.cancel=Un,Vn.flush=_n,Vn}var vx=It(function(r,a){return mm(r,1,a)}),bx=It(function(r,a,h){return mm(r,oi(a)||0,h)});function yx(r){return dr(r,qt)}function Vu(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new Ue(d);var h=function(){var p=arguments,v=a?a.apply(this,p):p[0],A=h.cache;if(A.has(v))return A.get(v);var x=r.apply(this,p);return h.cache=A.set(v,x)||A,x};return h.cache=new(Vu.Cache||cr),h}Vu.Cache=cr;function ju(r){if(typeof r!="function")throw new Ue(d);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function Ax(r){return wg(2,r)}var wx=lw(function(r,a){a=a.length==1&&At(a[0])?te(a[0],ae(dt())):te(Ve(a,1),ae(dt()));var h=a.length;return It(function(p){for(var v=-1,A=b(p.length,h);++v<A;)p[v]=a[v].call(this,p[v]);return he(r,this,p)})}),ud=It(function(r,a){var h=Hi(a,Zs(ud));return dr(r,K,e,a,h)}),Sg=It(function(r,a){var h=Hi(a,Zs(Sg));return dr(r,it,e,a,h)}),Ex=fr(function(r,a){return dr(r,Ft,e,e,e,a)});function xx(r,a){if(typeof r!="function")throw new Ue(d);return a=a===e?a:Lt(a),It(r,a)}function Tx(r,a){if(typeof r!="function")throw new Ue(d);return a=a==null?0:g(Lt(a),0),It(function(h){var p=h[a],v=Kr(h,0,a);return p&&yi(v,p),he(r,this,v)})}function Cx(r,a,h){var p=!0,v=!0;if(typeof r!="function")throw new Ue(d);return ge(h)&&(p="leading"in h?!!h.leading:p,v="trailing"in h?!!h.trailing:v),Cg(r,a,{leading:p,maxWait:a,trailing:v})}function Sx(r){return Ag(r,1)}function Lx(r,a){return ud(Zh(a),r)}function Ox(){if(!arguments.length)return[];var r=arguments[0];return At(r)?r:[r]}function Px(r){return ni(r,U)}function Rx(r,a){return a=typeof a=="function"?a:e,ni(r,U,a)}function Dx(r){return ni(r,P|U)}function Ix(r,a){return a=typeof a=="function"?a:e,ni(r,P|U,a)}function Nx(r,a){return a==null||pm(r,a,ze(a))}function Ti(r,a){return r===a||r!==r&&a!==a}var kx=Bu(kh),Mx=Bu(function(r,a){return r>=a}),qo=ym(function(){return arguments}())?ym:function(r){return we(r)&&$t.call(r,"callee")&&!nl.call(r,"callee")},At=k.isArray,Bx=hu?ae(hu):j0;function Dn(r){return r!=null&&qu(r.length)&&!mr(r)}function Te(r){return we(r)&&Dn(r)}function Fx(r){return r===!0||r===!1||we(r)&&mn(r)==ee}var Gr=i||yd,zx=Ha?ae(Ha):q0;function Wx(r){return we(r)&&r.nodeType===1&&!dl(r)}function $x(r){if(r==null)return!0;if(Dn(r)&&(At(r)||typeof r=="string"||typeof r.splice=="function"||Gr(r)||Ks(r)||qo(r)))return!r.length;var a=Qe(r);if(a==Ie||a==pe)return!r.size;if(cl(r))return!Fh(r).length;for(var h in r)if($t.call(r,h))return!1;return!0}function Hx(r,a){return al(r,a)}function Ux(r,a,h){h=typeof h=="function"?h:e;var p=h?h(r,a):e;return p===e?al(r,a,e,h):!!p}function cd(r){if(!we(r))return!1;var a=mn(r);return a==sn||a==fi||typeof r.message=="string"&&typeof r.name=="string"&&!dl(r)}function Vx(r){return typeof r=="number"&&s(r)}function mr(r){if(!ge(r))return!1;var a=mn(r);return a==an||a==je||a==be||a==Ni}function Lg(r){return typeof r=="number"&&r==Lt(r)}function qu(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=at}function ge(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}function we(r){return r!=null&&typeof r=="object"}var Og=du?ae(du):K0;function jx(r,a){return r===a||Bh(r,a,td(a))}function qx(r,a,h){return h=typeof h=="function"?h:e,Bh(r,a,td(a),h)}function Zx(r){return Pg(r)&&r!=+r}function Kx(r){if(Rw(r))throw new _t(c);return Am(r)}function Gx(r){return r===null}function Yx(r){return r==null}function Pg(r){return typeof r=="number"||we(r)&&mn(r)==Be}function dl(r){if(!we(r)||mn(r)!=Oe)return!1;var a=lr(r);if(a===null)return!0;var h=$t.call(a,"constructor")&&a.constructor;return typeof h=="function"&&h instanceof h&&Us.call(h)==Au}var hd=fu?ae(fu):G0;function Jx(r){return Lg(r)&&r>=-at&&r<=at}var Rg=Is?ae(Is):Y0;function Zu(r){return typeof r=="string"||!At(r)&&we(r)&&mn(r)==Cn}function Hn(r){return typeof r=="symbol"||we(r)&&mn(r)==Sn}var Ks=pu?ae(pu):J0;function Xx(r){return r===e}function Qx(r){return we(r)&&Qe(r)==We}function tT(r){return we(r)&&mn(r)==ln}var eT=Bu(zh),nT=Bu(function(r,a){return r<=a});function Dg(r){if(!r)return[];if(Dn(r))return Zu(r)?Je(r):Rn(r);if(Ur&&r[Ur])return Bs(r[Ur]());var a=Qe(r),h=a==Ie?Ja:a==pe?Pn:Gs;return h(r)}function gr(r){if(!r)return r===0?r:0;if(r=oi(r),r===Qt||r===-Qt){var a=r<0?-1:1;return a*rn}return r===r?r:0}function Lt(r){var a=gr(r),h=a%1;return a===a?h?a-h:a:0}function Ig(r){return r?Ho(Lt(r),0,Ct):0}function oi(r){if(typeof r=="number")return r;if(Hn(r))return lt;if(ge(r)){var a=typeof r.valueOf=="function"?r.valueOf():r;r=ge(a)?a+"":a}if(typeof r!="string")return r===0?r:+r;r=vu(r);var h=rt.test(r);return h||Rt.test(r)?gh(r.slice(2),h?2:8):C.test(r)?lt:+r}function Ng(r){return qi(r,In(r))}function iT(r){return r?Ho(Lt(r),-at,at):r===0?r:0}function Gt(r){return r==null?"":$n(r)}var rT=js(function(r,a){if(cl(a)||Dn(a)){qi(a,ze(a),r);return}for(var h in a)$t.call(a,h)&&rl(r,h,a[h])}),kg=js(function(r,a){qi(a,In(a),r)}),Ku=js(function(r,a,h,p){qi(a,In(a),r,p)}),oT=js(function(r,a,h,p){qi(a,ze(a),r,p)}),sT=fr(Dh);function aT(r,a){var h=Vr(r);return a==null?h:fm(h,a)}var lT=It(function(r,a){r=Kt(r);var h=-1,p=a.length,v=p>2?a[2]:e;for(v&&gn(a[0],a[1],v)&&(p=1);++h<p;)for(var A=a[h],x=In(A),S=-1,R=x.length;++S<R;){var $=x[S],H=r[$];(H===e||Ti(H,$r[$])&&!$t.call(r,$))&&(r[$]=A[$])}return r}),uT=It(function(r){return r.push(e,Xm),he(Mg,e,r)});function cT(r,a){return So(r,dt(a,3),ji)}function hT(r,a){return So(r,dt(a,3),Nh)}function dT(r,a){return r==null?r:Ih(r,dt(a,3),In)}function fT(r,a){return r==null?r:vm(r,dt(a,3),In)}function pT(r,a){return r&&ji(r,dt(a,3))}function mT(r,a){return r&&Nh(r,dt(a,3))}function gT(r){return r==null?[]:Ou(r,ze(r))}function _T(r){return r==null?[]:Ou(r,In(r))}function dd(r,a,h){var p=r==null?e:Uo(r,a);return p===e?h:p}function vT(r,a){return r!=null&&eg(r,a,$0)}function fd(r,a){return r!=null&&eg(r,a,H0)}var bT=Zm(function(r,a,h){a!=null&&typeof a.toString!="function"&&(a=Do.call(a)),r[a]=h},md(Nn)),yT=Zm(function(r,a,h){a!=null&&typeof a.toString!="function"&&(a=Do.call(a)),$t.call(r,a)?r[a].push(h):r[a]=[h]},dt),AT=It(sl);function ze(r){return Dn(r)?hm(r):Fh(r)}function In(r){return Dn(r)?hm(r,!0):X0(r)}function wT(r,a){var h={};return a=dt(a,3),ji(r,function(p,v,A){hr(h,a(p,v,A),p)}),h}function ET(r,a){var h={};return a=dt(a,3),ji(r,function(p,v,A){hr(h,v,a(p,v,A))}),h}var xT=js(function(r,a,h){Pu(r,a,h)}),Mg=js(function(r,a,h,p){Pu(r,a,h,p)}),TT=fr(function(r,a){var h={};if(r==null)return h;var p=!1;a=te(a,function(A){return A=Zr(A,r),p||(p=A.length>1),A}),qi(r,Xh(r),h),p&&(h=ni(h,P|M|U,bw));for(var v=a.length;v--;)Vh(h,a[v]);return h});function CT(r,a){return Bg(r,ju(dt(a)))}var ST=fr(function(r,a){return r==null?{}:tw(r,a)});function Bg(r,a){if(r==null)return{};var h=te(Xh(r),function(p){return[p]});return a=dt(a),Lm(r,h,function(p,v){return a(p,v[0])})}function LT(r,a,h){a=Zr(a,r);var p=-1,v=a.length;for(v||(v=1,r=e);++p<v;){var A=r==null?e:r[Zi(a[p])];A===e&&(p=v,A=h),r=mr(A)?A.call(r):A}return r}function OT(r,a,h){return r==null?r:ll(r,a,h)}function PT(r,a,h,p){return p=typeof p=="function"?p:e,r==null?r:ll(r,a,h,p)}var Fg=Ym(ze),zg=Ym(In);function RT(r,a,h){var p=At(r),v=p||Gr(r)||Ks(r);if(a=dt(a,4),h==null){var A=r&&r.constructor;v?h=p?new A:[]:ge(r)?h=mr(A)?Vr(lr(r)):{}:h={}}return(v?fn:ji)(r,function(x,S,R){return a(h,x,S,R)}),h}function DT(r,a){return r==null?!0:Vh(r,a)}function IT(r,a,h){return r==null?r:Im(r,a,Zh(h))}function NT(r,a,h,p){return p=typeof p=="function"?p:e,r==null?r:Im(r,a,Zh(h),p)}function Gs(r){return r==null?[]:Wi(r,ze(r))}function kT(r){return r==null?[]:Wi(r,In(r))}function MT(r,a,h){return h===e&&(h=a,a=e),h!==e&&(h=oi(h),h=h===h?h:0),a!==e&&(a=oi(a),a=a===a?a:0),Ho(oi(r),a,h)}function BT(r,a,h){return a=gr(a),h===e?(h=a,a=0):h=gr(h),r=oi(r),U0(r,a,h)}function FT(r,a,h){if(h&&typeof h!="boolean"&&gn(r,a,h)&&(a=h=e),h===e&&(typeof a=="boolean"?(h=a,a=e):typeof r=="boolean"&&(h=r,r=e)),r===e&&a===e?(r=0,a=1):(r=gr(r),a===e?(a=r,r=0):a=gr(a)),r>a){var p=r;r=a,a=p}if(h||r%1||a%1){var v=N();return b(r+v*(a-r+Fa("1e-"+((v+"").length-1))),a)}return $h(r,a)}var zT=qs(function(r,a,h){return a=a.toLowerCase(),r+(h?Wg(a):a)});function Wg(r){return pd(Gt(r).toLowerCase())}function $g(r){return r=Gt(r),r&&r.replace(wt,yh).replace(au,"")}function WT(r,a,h){r=Gt(r),a=$n(a);var p=r.length;h=h===e?p:Ho(Lt(h),0,p);var v=h;return h-=a.length,h>=0&&r.slice(h,v)==a}function $T(r){return r=Gt(r),r&&ye.test(r)?r.replace(gi,Po):r}function HT(r){return r=Gt(r),r&&Or.test(r)?r.replace(Ze,"\\$&"):r}var UT=qs(function(r,a,h){return r+(h?"-":"")+a.toLowerCase()}),VT=qs(function(r,a,h){return r+(h?" ":"")+a.toLowerCase()}),jT=Vm("toLowerCase");function qT(r,a,h){r=Gt(r),a=Lt(a);var p=a?Ye(r):0;if(!a||p>=a)return r;var v=(a-p)/2;return Mu(Bo(v),h)+r+Mu(Mo(v),h)}function ZT(r,a,h){r=Gt(r),a=Lt(a);var p=a?Ye(r):0;return a&&p<a?r+Mu(a-p,h):r}function KT(r,a,h){r=Gt(r),a=Lt(a);var p=a?Ye(r):0;return a&&p<a?Mu(a-p,h)+r:r}function GT(r,a,h){return h||a==null?a=0:a&&(a=+a),D(Gt(r).replace(Pr,""),a||0)}function YT(r,a,h){return(h?gn(r,a,h):a===e)?a=1:a=Lt(a),Hh(Gt(r),a)}function JT(){var r=arguments,a=Gt(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var XT=qs(function(r,a,h){return r+(h?"_":"")+a.toLowerCase()});function QT(r,a,h){return h&&typeof h!="number"&&gn(r,a,h)&&(a=h=e),h=h===e?Ct:h>>>0,h?(r=Gt(r),r&&(typeof a=="string"||a!=null&&!hd(a))&&(a=$n(a),!a&&Fr(r))?Kr(Je(r),0,h):r.split(a,h)):[]}var tC=qs(function(r,a,h){return r+(h?" ":"")+pd(a)});function eC(r,a,h){return r=Gt(r),h=h==null?0:Ho(Lt(h),0,r.length),a=$n(a),r.slice(h,h+a.length)==a}function nC(r,a,h){var p=y.templateSettings;h&&gn(r,a,h)&&(a=e),r=Gt(r),a=Ku({},a,p,Jm);var v=Ku({},a.imports,p.imports,Jm),A=ze(v),x=Wi(v,A),S,R,$=0,H=a.interpolate||ne,j="__p += '",Q=el((a.escape||ne).source+"|"+H.source+"|"+(H===mo?yo:ne).source+"|"+(a.evaluate||ne).source+"|$","g"),st="//# sourceURL="+($t.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++To+"]")+`
`;r.replace(Q,function(pt,kt,Ht,Un,_n,Vn){return Ht||(Ht=Un),j+=r.slice($,Vn).replace(Ke,yu),kt&&(S=!0,j+=`' +
__e(`+kt+`) +
'`),_n&&(R=!0,j+=`';
`+_n+`;
__p += '`),Ht&&(j+=`' +
((__t = (`+Ht+`)) == null ? '' : __t) +
'`),$=Vn+pt.length,pt}),j+=`';
`;var ft=$t.call(a,"variable")&&a.variable;if(!ft)j=`with (obj) {
`+j+`
}
`;else if(bo.test(ft))throw new _t(m);j=(R?j.replace(Oa,""):j).replace(Sr,"$1").replace(nr,"$1;"),j="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(R?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var Pt=Ug(function(){return jt(A,st+"return "+j).apply(e,x)});if(Pt.source=j,cd(Pt))throw Pt;return Pt}function iC(r){return Gt(r).toLowerCase()}function rC(r){return Gt(r).toUpperCase()}function oC(r,a,h){if(r=Gt(r),r&&(h||a===e))return vu(r);if(!r||!(a=$n(a)))return r;var p=Je(r),v=Je(a),A=ti(p,v),x=bu(p,v)+1;return Kr(p,A,x).join("")}function sC(r,a,h){if(r=Gt(r),r&&(h||a===e))return r.slice(0,Xa(r)+1);if(!r||!(a=$n(a)))return r;var p=Je(r),v=bu(p,Je(a))+1;return Kr(p,0,v).join("")}function aC(r,a,h){if(r=Gt(r),r&&(h||a===e))return r.replace(Pr,"");if(!r||!(a=$n(a)))return r;var p=Je(r),v=ti(p,Je(a));return Kr(p,v).join("")}function lC(r,a){var h=Jt,p=zt;if(ge(a)){var v="separator"in a?a.separator:v;h="length"in a?Lt(a.length):h,p="omission"in a?$n(a.omission):p}r=Gt(r);var A=r.length;if(Fr(r)){var x=Je(r);A=x.length}if(h>=A)return r;var S=h-Ye(p);if(S<1)return p;var R=x?Kr(x,0,S).join(""):r.slice(0,S);if(v===e)return R+p;if(x&&(S+=R.length-S),hd(v)){if(r.slice(S).search(v)){var $,H=R;for(v.global||(v=el(v.source,Gt(_i.exec(v))+"g")),v.lastIndex=0;$=v.exec(H);)var j=$.index;R=R.slice(0,j===e?S:j)}}else if(r.indexOf($n(v),S)!=S){var Q=R.lastIndexOf(v);Q>-1&&(R=R.slice(0,Q))}return R+p}function uC(r){return r=Gt(r),r&&Pa.test(r)?r.replace(po,Qa):r}var cC=qs(function(r,a,h){return r+(h?" ":"")+a.toUpperCase()}),pd=Vm("toUpperCase");function Hg(r,a,h){return r=Gt(r),a=h?e:a,a===e?$i(r)?Ws(r):gu(r):r.match(a)||[]}var Ug=It(function(r,a){try{return he(r,e,a)}catch(h){return cd(h)?h:new _t(h)}}),hC=fr(function(r,a){return fn(a,function(h){h=Zi(h),hr(r,h,ld(r[h],r))}),r});function dC(r){var a=r==null?0:r.length,h=dt();return r=a?te(r,function(p){if(typeof p[1]!="function")throw new Ue(d);return[h(p[0]),p[1]]}):[],It(function(p){for(var v=-1;++v<a;){var A=r[v];if(he(A[0],this,p))return he(A[1],this,p)}})}function fC(r){return F0(ni(r,P))}function md(r){return function(){return r}}function pC(r,a){return r==null||r!==r?a:r}var mC=qm(),gC=qm(!0);function Nn(r){return r}function gd(r){return wm(typeof r=="function"?r:ni(r,P))}function _C(r){return xm(ni(r,P))}function vC(r,a){return Tm(r,ni(a,P))}var bC=It(function(r,a){return function(h){return sl(h,r,a)}}),yC=It(function(r,a){return function(h){return sl(r,h,a)}});function _d(r,a,h){var p=ze(a),v=Ou(a,p);h==null&&!(ge(a)&&(v.length||!p.length))&&(h=a,a=r,r=this,v=Ou(a,ze(a)));var A=!(ge(h)&&"chain"in h)||!!h.chain,x=mr(r);return fn(v,function(S){var R=a[S];r[S]=R,x&&(r.prototype[S]=function(){var $=this.__chain__;if(A||$){var H=r(this.__wrapped__),j=H.__actions__=Rn(this.__actions__);return j.push({func:R,args:arguments,thisArg:r}),H.__chain__=$,H}return R.apply(r,yi([this.value()],arguments))})}),r}function AC(){return ke._===this&&(ke._=xh),this}function vd(){}function wC(r){return r=Lt(r),It(function(a){return Cm(a,r)})}var EC=Gh(te),xC=Gh(Ua),TC=Gh(Co);function Vg(r){return nd(r)?Ns(Zi(r)):ew(r)}function CC(r){return function(a){return r==null?e:Uo(r,a)}}var SC=Km(),LC=Km(!0);function bd(){return[]}function yd(){return!1}function OC(){return{}}function PC(){return""}function RC(){return!0}function DC(r,a){if(r=Lt(r),r<1||r>at)return[];var h=Ct,p=b(r,Ct);a=dt(a),r-=Ct;for(var v=Ya(p,a);++h<r;)a(h);return v}function IC(r){return At(r)?te(r,Zi):Hn(r)?[r]:Rn(cg(Gt(r)))}function NC(r){var a=++Eh;return Gt(r)+a}var kC=ku(function(r,a){return r+a},0),MC=Yh("ceil"),BC=ku(function(r,a){return r/a},1),FC=Yh("floor");function zC(r){return r&&r.length?Lu(r,Nn,kh):e}function WC(r,a){return r&&r.length?Lu(r,dt(a,2),kh):e}function $C(r){return qa(r,Nn)}function HC(r,a){return qa(r,dt(a,2))}function UC(r){return r&&r.length?Lu(r,Nn,zh):e}function VC(r,a){return r&&r.length?Lu(r,dt(a,2),zh):e}var jC=ku(function(r,a){return r*a},1),qC=Yh("round"),ZC=ku(function(r,a){return r-a},0);function KC(r){return r&&r.length?Ga(r,Nn):0}function GC(r,a){return r&&r.length?Ga(r,dt(a,2)):0}return y.after=_x,y.ary=Ag,y.assign=rT,y.assignIn=kg,y.assignInWith=Ku,y.assignWith=oT,y.at=sT,y.before=wg,y.bind=ld,y.bindAll=hC,y.bindKey=Eg,y.castArray=Ox,y.chain=vg,y.chunk=Fw,y.compact=zw,y.concat=Ww,y.cond=dC,y.conforms=fC,y.constant=md,y.countBy=KE,y.create=aT,y.curry=xg,y.curryRight=Tg,y.debounce=Cg,y.defaults=lT,y.defaultsDeep=uT,y.defer=vx,y.delay=bx,y.difference=$w,y.differenceBy=Hw,y.differenceWith=Uw,y.drop=Vw,y.dropRight=jw,y.dropRightWhile=qw,y.dropWhile=Zw,y.fill=Kw,y.filter=YE,y.flatMap=QE,y.flatMapDeep=tx,y.flatMapDepth=ex,y.flatten=pg,y.flattenDeep=Gw,y.flattenDepth=Yw,y.flip=yx,y.flow=mC,y.flowRight=gC,y.fromPairs=Jw,y.functions=gT,y.functionsIn=_T,y.groupBy=nx,y.initial=Qw,y.intersection=tE,y.intersectionBy=eE,y.intersectionWith=nE,y.invert=bT,y.invertBy=yT,y.invokeMap=rx,y.iteratee=gd,y.keyBy=ox,y.keys=ze,y.keysIn=In,y.map=Hu,y.mapKeys=wT,y.mapValues=ET,y.matches=_C,y.matchesProperty=vC,y.memoize=Vu,y.merge=xT,y.mergeWith=Mg,y.method=bC,y.methodOf=yC,y.mixin=_d,y.negate=ju,y.nthArg=wC,y.omit=TT,y.omitBy=CT,y.once=Ax,y.orderBy=sx,y.over=EC,y.overArgs=wx,y.overEvery=xC,y.overSome=TC,y.partial=ud,y.partialRight=Sg,y.partition=ax,y.pick=ST,y.pickBy=Bg,y.property=Vg,y.propertyOf=CC,y.pull=sE,y.pullAll=gg,y.pullAllBy=aE,y.pullAllWith=lE,y.pullAt=uE,y.range=SC,y.rangeRight=LC,y.rearg=Ex,y.reject=cx,y.remove=cE,y.rest=xx,y.reverse=sd,y.sampleSize=dx,y.set=OT,y.setWith=PT,y.shuffle=fx,y.slice=hE,y.sortBy=gx,y.sortedUniq=vE,y.sortedUniqBy=bE,y.split=QT,y.spread=Tx,y.tail=yE,y.take=AE,y.takeRight=wE,y.takeRightWhile=EE,y.takeWhile=xE,y.tap=zE,y.throttle=Cx,y.thru=$u,y.toArray=Dg,y.toPairs=Fg,y.toPairsIn=zg,y.toPath=IC,y.toPlainObject=Ng,y.transform=RT,y.unary=Sx,y.union=TE,y.unionBy=CE,y.unionWith=SE,y.uniq=LE,y.uniqBy=OE,y.uniqWith=PE,y.unset=DT,y.unzip=ad,y.unzipWith=_g,y.update=IT,y.updateWith=NT,y.values=Gs,y.valuesIn=kT,y.without=RE,y.words=Hg,y.wrap=Lx,y.xor=DE,y.xorBy=IE,y.xorWith=NE,y.zip=kE,y.zipObject=ME,y.zipObjectDeep=BE,y.zipWith=FE,y.entries=Fg,y.entriesIn=zg,y.extend=kg,y.extendWith=Ku,_d(y,y),y.add=kC,y.attempt=Ug,y.camelCase=zT,y.capitalize=Wg,y.ceil=MC,y.clamp=MT,y.clone=Px,y.cloneDeep=Dx,y.cloneDeepWith=Ix,y.cloneWith=Rx,y.conformsTo=Nx,y.deburr=$g,y.defaultTo=pC,y.divide=BC,y.endsWith=WT,y.eq=Ti,y.escape=$T,y.escapeRegExp=HT,y.every=GE,y.find=JE,y.findIndex=dg,y.findKey=cT,y.findLast=XE,y.findLastIndex=fg,y.findLastKey=hT,y.floor=FC,y.forEach=bg,y.forEachRight=yg,y.forIn=dT,y.forInRight=fT,y.forOwn=pT,y.forOwnRight=mT,y.get=dd,y.gt=kx,y.gte=Mx,y.has=vT,y.hasIn=fd,y.head=mg,y.identity=Nn,y.includes=ix,y.indexOf=Xw,y.inRange=BT,y.invoke=AT,y.isArguments=qo,y.isArray=At,y.isArrayBuffer=Bx,y.isArrayLike=Dn,y.isArrayLikeObject=Te,y.isBoolean=Fx,y.isBuffer=Gr,y.isDate=zx,y.isElement=Wx,y.isEmpty=$x,y.isEqual=Hx,y.isEqualWith=Ux,y.isError=cd,y.isFinite=Vx,y.isFunction=mr,y.isInteger=Lg,y.isLength=qu,y.isMap=Og,y.isMatch=jx,y.isMatchWith=qx,y.isNaN=Zx,y.isNative=Kx,y.isNil=Yx,y.isNull=Gx,y.isNumber=Pg,y.isObject=ge,y.isObjectLike=we,y.isPlainObject=dl,y.isRegExp=hd,y.isSafeInteger=Jx,y.isSet=Rg,y.isString=Zu,y.isSymbol=Hn,y.isTypedArray=Ks,y.isUndefined=Xx,y.isWeakMap=Qx,y.isWeakSet=tT,y.join=iE,y.kebabCase=UT,y.last=ri,y.lastIndexOf=rE,y.lowerCase=VT,y.lowerFirst=jT,y.lt=eT,y.lte=nT,y.max=zC,y.maxBy=WC,y.mean=$C,y.meanBy=HC,y.min=UC,y.minBy=VC,y.stubArray=bd,y.stubFalse=yd,y.stubObject=OC,y.stubString=PC,y.stubTrue=RC,y.multiply=jC,y.nth=oE,y.noConflict=AC,y.noop=vd,y.now=Uu,y.pad=qT,y.padEnd=ZT,y.padStart=KT,y.parseInt=GT,y.random=FT,y.reduce=lx,y.reduceRight=ux,y.repeat=YT,y.replace=JT,y.result=LT,y.round=qC,y.runInContext=O,y.sample=hx,y.size=px,y.snakeCase=XT,y.some=mx,y.sortedIndex=dE,y.sortedIndexBy=fE,y.sortedIndexOf=pE,y.sortedLastIndex=mE,y.sortedLastIndexBy=gE,y.sortedLastIndexOf=_E,y.startCase=tC,y.startsWith=eC,y.subtract=ZC,y.sum=KC,y.sumBy=GC,y.template=nC,y.times=DC,y.toFinite=gr,y.toInteger=Lt,y.toLength=Ig,y.toLower=iC,y.toNumber=oi,y.toSafeInteger=iT,y.toString=Gt,y.toUpper=rC,y.trim=oC,y.trimEnd=sC,y.trimStart=aC,y.truncate=lC,y.unescape=uC,y.uniqueId=NC,y.upperCase=cC,y.upperFirst=pd,y.each=bg,y.eachRight=yg,y.first=mg,_d(y,function(){var r={};return ji(y,function(a,h){$t.call(y.prototype,h)||(r[h]=a)}),r}(),{chain:!1}),y.VERSION=o,fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),fn(["drop","take"],function(r,a){Dt.prototype[r]=function(h){h=h===e?1:g(Lt(h),0);var p=this.__filtered__&&!a?new Dt(this):this.clone();return p.__filtered__?p.__takeCount__=b(h,p.__takeCount__):p.__views__.push({size:b(h,Ct),type:r+(p.__dir__<0?"Right":"")}),p},Dt.prototype[r+"Right"]=function(h){return this.reverse()[r](h).reverse()}}),fn(["filter","map","takeWhile"],function(r,a){var h=a+1,p=h==ue||h==Zt;Dt.prototype[r]=function(v){var A=this.clone();return A.__iteratees__.push({iteratee:dt(v,3),type:h}),A.__filtered__=A.__filtered__||p,A}}),fn(["head","last"],function(r,a){var h="take"+(a?"Right":"");Dt.prototype[r]=function(){return this[h](1).value()[0]}}),fn(["initial","tail"],function(r,a){var h="drop"+(a?"":"Right");Dt.prototype[r]=function(){return this.__filtered__?new Dt(this):this[h](1)}}),Dt.prototype.compact=function(){return this.filter(Nn)},Dt.prototype.find=function(r){return this.filter(r).head()},Dt.prototype.findLast=function(r){return this.reverse().find(r)},Dt.prototype.invokeMap=It(function(r,a){return typeof r=="function"?new Dt(this):this.map(function(h){return sl(h,r,a)})}),Dt.prototype.reject=function(r){return this.filter(ju(dt(r)))},Dt.prototype.slice=function(r,a){r=Lt(r);var h=this;return h.__filtered__&&(r>0||a<0)?new Dt(h):(r<0?h=h.takeRight(-r):r&&(h=h.drop(r)),a!==e&&(a=Lt(a),h=a<0?h.dropRight(-a):h.take(a-r)),h)},Dt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Dt.prototype.toArray=function(){return this.take(Ct)},ji(Dt.prototype,function(r,a){var h=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),v=y[p?"take"+(a=="last"?"Right":""):a],A=p||/^find/.test(a);v&&(y.prototype[a]=function(){var x=this.__wrapped__,S=p?[1]:arguments,R=x instanceof Dt,$=S[0],H=R||At(x),j=function(kt){var Ht=v.apply(y,yi([kt],S));return p&&Q?Ht[0]:Ht};H&&h&&typeof $=="function"&&$.length!=1&&(R=H=!1);var Q=this.__chain__,st=!!this.__actions__.length,ft=A&&!Q,Pt=R&&!st;if(!A&&H){x=Pt?x:new Dt(this);var pt=r.apply(x,S);return pt.__actions__.push({func:$u,args:[j],thisArg:e}),new Xe(pt,Q)}return ft&&Pt?r.apply(this,S):(pt=this.thru(j),ft?p?pt.value()[0]:pt.value():pt)})}),fn(["pop","push","shift","sort","splice","unshift"],function(r){var a=$s[r],h=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",p=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var v=arguments;if(p&&!this.__chain__){var A=this.value();return a.apply(At(A)?A:[],v)}return this[h](function(x){return a.apply(At(x)?x:[],v)})}}),ji(Dt.prototype,function(r,a){var h=y[a];if(h){var p=h.name+"";$t.call(Wn,p)||(Wn[p]=[]),Wn[p].push({name:a,func:h})}}),Wn[Nu(e,Z).name]=[{name:"wrapper",func:e}],Dt.prototype.clone=Ph,Dt.prototype.reverse=c0,Dt.prototype.value=h0,y.prototype.at=WE,y.prototype.chain=$E,y.prototype.commit=HE,y.prototype.next=UE,y.prototype.plant=jE,y.prototype.reverse=qE,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=ZE,y.prototype.first=y.prototype.head,Ur&&(y.prototype[Ur]=VE),y},Ai=Wr();zn?((zn.exports=Ai)._=Ai,dn._=Ai):ke._=Ai}).call(Xs)})(xc,xc.exports);var YC=xc.exports;const JC=Bv(YC);function Fv(n,t){return function(){return n.apply(t,arguments)}}const{toString:XC}=Object.prototype,{getPrototypeOf:lp}=Object,Hc=(n=>t=>{const e=XC.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=n=>(n=n.toLowerCase(),t=>Hc(t)===n),Uc=n=>t=>typeof t===n,{isArray:ga}=Array,zl=Uc("undefined");function QC(n){return n!==null&&!zl(n)&&n.constructor!==null&&!zl(n.constructor)&&jn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zv=Ri("ArrayBuffer");function tS(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&zv(n.buffer),t}const eS=Uc("string"),jn=Uc("function"),Wv=Uc("number"),Vc=n=>n!==null&&typeof n=="object",nS=n=>n===!0||n===!1,dc=n=>{if(Hc(n)!=="object")return!1;const t=lp(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},iS=Ri("Date"),rS=Ri("File"),oS=Ri("Blob"),sS=Ri("FileList"),aS=n=>Vc(n)&&jn(n.pipe),lS=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||jn(n.append)&&((t=Hc(n))==="formdata"||t==="object"&&jn(n.toString)&&n.toString()==="[object FormData]"))},uS=Ri("URLSearchParams"),[cS,hS,dS,fS]=["ReadableStream","Request","Response","Headers"].map(Ri),pS=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vl(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let o,l;if(typeof n!="object"&&(n=[n]),ga(n))for(o=0,l=n.length;o<l;o++)t.call(null,n[o],o,n);else{const c=e?Object.getOwnPropertyNames(n):Object.keys(n),d=c.length;let m;for(o=0;o<d;o++)m=c[o],t.call(null,n[m],m,n)}}function $v(n,t){t=t.toLowerCase();const e=Object.keys(n);let o=e.length,l;for(;o-- >0;)if(l=e[o],t===l.toLowerCase())return l;return null}const Jo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Hv=n=>!zl(n)&&n!==Jo;function vf(){const{caseless:n}=Hv(this)&&this||{},t={},e=(o,l)=>{const c=n&&$v(t,l)||l;dc(t[c])&&dc(o)?t[c]=vf(t[c],o):dc(o)?t[c]=vf({},o):ga(o)?t[c]=o.slice():t[c]=o};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Vl(arguments[o],e);return t}const mS=(n,t,e,{allOwnKeys:o}={})=>(Vl(t,(l,c)=>{e&&jn(l)?n[c]=Fv(l,e):n[c]=l},{allOwnKeys:o}),n),gS=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_S=(n,t,e,o)=>{n.prototype=Object.create(t.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},vS=(n,t,e,o)=>{let l,c,d;const m={};if(t=t||{},n==null)return t;do{for(l=Object.getOwnPropertyNames(n),c=l.length;c-- >0;)d=l[c],(!o||o(d,n,t))&&!m[d]&&(t[d]=n[d],m[d]=!0);n=e!==!1&&lp(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},bS=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const o=n.indexOf(t,e);return o!==-1&&o===e},yS=n=>{if(!n)return null;if(ga(n))return n;let t=n.length;if(!Wv(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},AS=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&lp(Uint8Array)),wS=(n,t)=>{const o=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=o.next())&&!l.done;){const c=l.value;t.call(n,c[0],c[1])}},ES=(n,t)=>{let e;const o=[];for(;(e=n.exec(t))!==null;)o.push(e);return o},xS=Ri("HTMLFormElement"),TS=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,o,l){return o.toUpperCase()+l}),qg=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),CS=Ri("RegExp"),Uv=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),o={};Vl(e,(l,c)=>{let d;(d=t(l,c,n))!==!1&&(o[c]=d||l)}),Object.defineProperties(n,o)},SS=n=>{Uv(n,(t,e)=>{if(jn(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const o=n[e];if(jn(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},LS=(n,t)=>{const e={},o=l=>{l.forEach(c=>{e[c]=!0})};return ga(n)?o(n):o(String(n).split(t)),e},OS=()=>{},PS=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function RS(n){return!!(n&&jn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const DS=n=>{const t=new Array(10),e=(o,l)=>{if(Vc(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[l]=o;const c=ga(o)?[]:{};return Vl(o,(d,m)=>{const _=e(d,l+1);!zl(_)&&(c[m]=_)}),t[l]=void 0,c}}return o};return e(n,0)},IS=Ri("AsyncFunction"),NS=n=>n&&(Vc(n)||jn(n))&&jn(n.then)&&jn(n.catch),Vv=((n,t)=>n?setImmediate:t?((e,o)=>(Jo.addEventListener("message",({source:l,data:c})=>{l===Jo&&c===e&&o.length&&o.shift()()},!1),l=>{o.push(l),Jo.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",jn(Jo.postMessage)),kS=typeof queueMicrotask<"u"?queueMicrotask.bind(Jo):typeof process<"u"&&process.nextTick||Vv,B={isArray:ga,isArrayBuffer:zv,isBuffer:QC,isFormData:lS,isArrayBufferView:tS,isString:eS,isNumber:Wv,isBoolean:nS,isObject:Vc,isPlainObject:dc,isReadableStream:cS,isRequest:hS,isResponse:dS,isHeaders:fS,isUndefined:zl,isDate:iS,isFile:rS,isBlob:oS,isRegExp:CS,isFunction:jn,isStream:aS,isURLSearchParams:uS,isTypedArray:AS,isFileList:sS,forEach:Vl,merge:vf,extend:mS,trim:pS,stripBOM:gS,inherits:_S,toFlatObject:vS,kindOf:Hc,kindOfTest:Ri,endsWith:bS,toArray:yS,forEachEntry:wS,matchAll:ES,isHTMLForm:xS,hasOwnProperty:qg,hasOwnProp:qg,reduceDescriptors:Uv,freezeMethods:SS,toObjectSet:LS,toCamelCase:TS,noop:OS,toFiniteNumber:PS,findKey:$v,global:Jo,isContextDefined:Hv,isSpecCompliantForm:RS,toJSONObject:DS,isAsyncFn:IS,isThenable:NS,setImmediate:Vv,asap:kS};function Tt(n,t,e,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}B.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const jv=Tt.prototype,qv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{qv[n]={value:n}});Object.defineProperties(Tt,qv);Object.defineProperty(jv,"isAxiosError",{value:!0});Tt.from=(n,t,e,o,l,c)=>{const d=Object.create(jv);return B.toFlatObject(n,d,function(_){return _!==Error.prototype},m=>m!=="isAxiosError"),Tt.call(d,n.message,t,e,o,l),d.cause=n,d.name=n.name,c&&Object.assign(d,c),d};const MS=null;function bf(n){return B.isPlainObject(n)||B.isArray(n)}function Zv(n){return B.endsWith(n,"[]")?n.slice(0,-2):n}function Zg(n,t,e){return n?n.concat(t).map(function(l,c){return l=Zv(l),!e&&c?"["+l+"]":l}).join(e?".":""):t}function BS(n){return B.isArray(n)&&!n.some(bf)}const FS=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function jc(n,t,e){if(!B.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=B.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,I){return!B.isUndefined(I[F])});const o=e.metaTokens,l=e.visitor||E,c=e.dots,d=e.indexes,_=(e.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(l))throw new TypeError("visitor must be a function");function w(W){if(W===null)return"";if(B.isDate(W))return W.toISOString();if(!_&&B.isBlob(W))throw new Tt("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(W)||B.isTypedArray(W)?_&&typeof Blob=="function"?new Blob([W]):Buffer.from(W):W}function E(W,F,I){let Z=W;if(W&&!I&&typeof W=="object"){if(B.endsWith(F,"{}"))F=o?F:F.slice(0,-2),W=JSON.stringify(W);else if(B.isArray(W)&&BS(W)||(B.isFileList(W)||B.endsWith(F,"[]"))&&(Z=B.toArray(W)))return F=Zv(F),Z.forEach(function(Y,G){!(B.isUndefined(Y)||Y===null)&&t.append(d===!0?Zg([F],G,c):d===null?F:F+"[]",w(Y))}),!1}return bf(W)?!0:(t.append(Zg(I,F,c),w(W)),!1)}const P=[],M=Object.assign(FS,{defaultVisitor:E,convertValue:w,isVisitable:bf});function U(W,F){if(!B.isUndefined(W)){if(P.indexOf(W)!==-1)throw Error("Circular reference detected in "+F.join("."));P.push(W),B.forEach(W,function(Z,X){(!(B.isUndefined(Z)||Z===null)&&l.call(t,Z,B.isString(X)?X.trim():X,F,M))===!0&&U(Z,F?F.concat(X):[X])}),P.pop()}}if(!B.isObject(n))throw new TypeError("data must be an object");return U(n),t}function Kg(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function up(n,t){this._pairs=[],n&&jc(n,this,t)}const Kv=up.prototype;Kv.append=function(t,e){this._pairs.push([t,e])};Kv.toString=function(t){const e=t?function(o){return t.call(this,o,Kg)}:Kg;return this._pairs.map(function(l){return e(l[0])+"="+e(l[1])},"").join("&")};function zS(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gv(n,t,e){if(!t)return n;const o=e&&e.encode||zS;B.isFunction(e)&&(e={serialize:e});const l=e&&e.serialize;let c;if(l?c=l(t,e):c=B.isURLSearchParams(t)?t.toString():new up(t,e).toString(o),c){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class WS{constructor(){this.handlers=[]}use(t,e,o){return this.handlers.push({fulfilled:t,rejected:e,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(o){o!==null&&t(o)})}}const Gg=WS,Yv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$S=typeof URLSearchParams<"u"?URLSearchParams:up,HS=typeof FormData<"u"?FormData:null,US=typeof Blob<"u"?Blob:null,VS={isBrowser:!0,classes:{URLSearchParams:$S,FormData:HS,Blob:US},protocols:["http","https","file","blob","url","data"]},cp=typeof window<"u"&&typeof document<"u",yf=typeof navigator=="object"&&navigator||void 0,jS=cp&&(!yf||["ReactNative","NativeScript","NS"].indexOf(yf.product)<0),qS=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ZS=cp&&window.location.href||"http://localhost",KS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cp,hasStandardBrowserEnv:jS,hasStandardBrowserWebWorkerEnv:qS,navigator:yf,origin:ZS},Symbol.toStringTag,{value:"Module"})),en={...KS,...VS};function GS(n,t){return jc(n,new en.classes.URLSearchParams,Object.assign({visitor:function(e,o,l,c){return en.isNode&&B.isBuffer(e)?(this.append(o,e.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function YS(n){return B.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function JS(n){const t={},e=Object.keys(n);let o;const l=e.length;let c;for(o=0;o<l;o++)c=e[o],t[c]=n[c];return t}function Jv(n){function t(e,o,l,c){let d=e[c++];if(d==="__proto__")return!0;const m=Number.isFinite(+d),_=c>=e.length;return d=!d&&B.isArray(l)?l.length:d,_?(B.hasOwnProp(l,d)?l[d]=[l[d],o]:l[d]=o,!m):((!l[d]||!B.isObject(l[d]))&&(l[d]=[]),t(e,o,l[d],c)&&B.isArray(l[d])&&(l[d]=JS(l[d])),!m)}if(B.isFormData(n)&&B.isFunction(n.entries)){const e={};return B.forEachEntry(n,(o,l)=>{t(YS(o),l,e,0)}),e}return null}function XS(n,t,e){if(B.isString(n))try{return(t||JSON.parse)(n),B.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(e||JSON.stringify)(n)}const hp={transitional:Yv,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const o=e.getContentType()||"",l=o.indexOf("application/json")>-1,c=B.isObject(t);if(c&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return l?JSON.stringify(Jv(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let m;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return GS(t,this.formSerializer).toString();if((m=B.isFileList(t))||o.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return jc(m?{"files[]":t}:t,_&&new _,this.formSerializer)}}return c||l?(e.setContentType("application/json",!1),XS(t)):t}],transformResponse:[function(t){const e=this.transitional||hp.transitional,o=e&&e.forcedJSONParsing,l=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(o&&!this.responseType||l)){const d=!(e&&e.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(m){if(d)throw m.name==="SyntaxError"?Tt.from(m,Tt.ERR_BAD_RESPONSE,this,null,this.response):m}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],n=>{hp.headers[n]={}});const dp=hp,QS=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tL=n=>{const t={};let e,o,l;return n&&n.split(`
`).forEach(function(d){l=d.indexOf(":"),e=d.substring(0,l).trim().toLowerCase(),o=d.substring(l+1).trim(),!(!e||t[e]&&QS[e])&&(e==="set-cookie"?t[e]?t[e].push(o):t[e]=[o]:t[e]=t[e]?t[e]+", "+o:o)}),t},Yg=Symbol("internals");function fl(n){return n&&String(n).trim().toLowerCase()}function fc(n){return n===!1||n==null?n:B.isArray(n)?n.map(fc):String(n)}function eL(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=e.exec(n);)t[o[1]]=o[2];return t}const nL=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ad(n,t,e,o,l){if(B.isFunction(o))return o.call(this,t,e);if(l&&(t=e),!!B.isString(t)){if(B.isString(o))return t.indexOf(o)!==-1;if(B.isRegExp(o))return o.test(t)}}function iL(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,o)=>e.toUpperCase()+o)}function rL(n,t){const e=B.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+e,{value:function(l,c,d){return this[o].call(this,t,l,c,d)},configurable:!0})})}class qc{constructor(t){t&&this.set(t)}set(t,e,o){const l=this;function c(m,_,w){const E=fl(_);if(!E)throw new Error("header name must be a non-empty string");const P=B.findKey(l,E);(!P||l[P]===void 0||w===!0||w===void 0&&l[P]!==!1)&&(l[P||_]=fc(m))}const d=(m,_)=>B.forEach(m,(w,E)=>c(w,E,_));if(B.isPlainObject(t)||t instanceof this.constructor)d(t,e);else if(B.isString(t)&&(t=t.trim())&&!nL(t))d(tL(t),e);else if(B.isHeaders(t))for(const[m,_]of t.entries())c(_,m,o);else t!=null&&c(e,t,o);return this}get(t,e){if(t=fl(t),t){const o=B.findKey(this,t);if(o){const l=this[o];if(!e)return l;if(e===!0)return eL(l);if(B.isFunction(e))return e.call(this,l,o);if(B.isRegExp(e))return e.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=fl(t),t){const o=B.findKey(this,t);return!!(o&&this[o]!==void 0&&(!e||Ad(this,this[o],o,e)))}return!1}delete(t,e){const o=this;let l=!1;function c(d){if(d=fl(d),d){const m=B.findKey(o,d);m&&(!e||Ad(o,o[m],m,e))&&(delete o[m],l=!0)}}return B.isArray(t)?t.forEach(c):c(t),l}clear(t){const e=Object.keys(this);let o=e.length,l=!1;for(;o--;){const c=e[o];(!t||Ad(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const e=this,o={};return B.forEach(this,(l,c)=>{const d=B.findKey(o,c);if(d){e[d]=fc(l),delete e[c];return}const m=t?iL(c):String(c).trim();m!==c&&delete e[c],e[m]=fc(l),o[m]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return B.forEach(this,(o,l)=>{o!=null&&o!==!1&&(e[l]=t&&B.isArray(o)?o.join(", "):o)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const o=new this(t);return e.forEach(l=>o.set(l)),o}static accessor(t){const o=(this[Yg]=this[Yg]={accessors:{}}).accessors,l=this.prototype;function c(d){const m=fl(d);o[m]||(rL(l,d),o[m]=!0)}return B.isArray(t)?t.forEach(c):c(t),this}}qc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(qc.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(o){this[e]=o}}});B.freezeMethods(qc);const Oi=qc;function wd(n,t){const e=this||dp,o=t||e,l=Oi.from(o.headers);let c=o.data;return B.forEach(n,function(m){c=m.call(e,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function Xv(n){return!!(n&&n.__CANCEL__)}function _a(n,t,e){Tt.call(this,n??"canceled",Tt.ERR_CANCELED,t,e),this.name="CanceledError"}B.inherits(_a,Tt,{__CANCEL__:!0});function Qv(n,t,e){const o=e.config.validateStatus;!e.status||!o||o(e.status)?n(e):t(new Tt("Request failed with status code "+e.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function oL(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function sL(n,t){n=n||10;const e=new Array(n),o=new Array(n);let l=0,c=0,d;return t=t!==void 0?t:1e3,function(_){const w=Date.now(),E=o[c];d||(d=w),e[l]=_,o[l]=w;let P=c,M=0;for(;P!==l;)M+=e[P++],P=P%n;if(l=(l+1)%n,l===c&&(c=(c+1)%n),w-d<t)return;const U=E&&w-E;return U?Math.round(M*1e3/U):void 0}}function aL(n,t){let e=0,o=1e3/t,l,c;const d=(w,E=Date.now())=>{e=E,l=null,c&&(clearTimeout(c),c=null),n.apply(null,w)};return[(...w)=>{const E=Date.now(),P=E-e;P>=o?d(w,E):(l=w,c||(c=setTimeout(()=>{c=null,d(l)},o-P)))},()=>l&&d(l)]}const Tc=(n,t,e=3)=>{let o=0;const l=sL(50,250);return aL(c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,_=d-o,w=l(_),E=d<=m;o=d;const P={loaded:d,total:m,progress:m?d/m:void 0,bytes:_,rate:w||void 0,estimated:w&&m&&E?(m-d)/w:void 0,event:c,lengthComputable:m!=null,[t?"download":"upload"]:!0};n(P)},e)},Jg=(n,t)=>{const e=n!=null;return[o=>t[0]({lengthComputable:e,total:n,loaded:o}),t[1]]},Xg=n=>(...t)=>B.asap(()=>n(...t)),lL=en.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,en.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,uL=en.hasStandardBrowserEnv?{write(n,t,e,o,l,c){const d=[n+"="+encodeURIComponent(t)];B.isNumber(e)&&d.push("expires="+new Date(e).toGMTString()),B.isString(o)&&d.push("path="+o),B.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cL(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function hL(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function tb(n,t,e){let o=!cL(t);return n&&(o||e==!1)?hL(n,t):t}const Qg=n=>n instanceof Oi?{...n}:n;function us(n,t){t=t||{};const e={};function o(w,E,P,M){return B.isPlainObject(w)&&B.isPlainObject(E)?B.merge.call({caseless:M},w,E):B.isPlainObject(E)?B.merge({},E):B.isArray(E)?E.slice():E}function l(w,E,P,M){if(B.isUndefined(E)){if(!B.isUndefined(w))return o(void 0,w,P,M)}else return o(w,E,P,M)}function c(w,E){if(!B.isUndefined(E))return o(void 0,E)}function d(w,E){if(B.isUndefined(E)){if(!B.isUndefined(w))return o(void 0,w)}else return o(void 0,E)}function m(w,E,P){if(P in t)return o(w,E);if(P in n)return o(void 0,w)}const _={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m,headers:(w,E,P)=>l(Qg(w),Qg(E),P,!0)};return B.forEach(Object.keys(Object.assign({},n,t)),function(E){const P=_[E]||l,M=P(n[E],t[E],E);B.isUndefined(M)&&P!==m||(e[E]=M)}),e}const eb=n=>{const t=us({},n);let{data:e,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:m}=t;t.headers=d=Oi.from(d),t.url=Gv(tb(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&d.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let _;if(B.isFormData(e)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((_=d.getContentType())!==!1){const[w,...E]=_?_.split(";").map(P=>P.trim()).filter(Boolean):[];d.setContentType([w||"multipart/form-data",...E].join("; "))}}if(en.hasStandardBrowserEnv&&(o&&B.isFunction(o)&&(o=o(t)),o||o!==!1&&lL(t.url))){const w=l&&c&&uL.read(c);w&&d.set(l,w)}return t},dL=typeof XMLHttpRequest<"u",fL=dL&&function(n){return new Promise(function(e,o){const l=eb(n);let c=l.data;const d=Oi.from(l.headers).normalize();let{responseType:m,onUploadProgress:_,onDownloadProgress:w}=l,E,P,M,U,W;function F(){U&&U(),W&&W(),l.cancelToken&&l.cancelToken.unsubscribe(E),l.signal&&l.signal.removeEventListener("abort",E)}let I=new XMLHttpRequest;I.open(l.method.toUpperCase(),l.url,!0),I.timeout=l.timeout;function Z(){if(!I)return;const Y=Oi.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),K={data:!m||m==="text"||m==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:Y,config:n,request:I};Qv(function(ct){e(ct),F()},function(ct){o(ct),F()},K),I=null}"onloadend"in I?I.onloadend=Z:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(Z)},I.onabort=function(){I&&(o(new Tt("Request aborted",Tt.ECONNABORTED,n,I)),I=null)},I.onerror=function(){o(new Tt("Network Error",Tt.ERR_NETWORK,n,I)),I=null},I.ontimeout=function(){let G=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const K=l.transitional||Yv;l.timeoutErrorMessage&&(G=l.timeoutErrorMessage),o(new Tt(G,K.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,n,I)),I=null},c===void 0&&d.setContentType(null),"setRequestHeader"in I&&B.forEach(d.toJSON(),function(G,K){I.setRequestHeader(K,G)}),B.isUndefined(l.withCredentials)||(I.withCredentials=!!l.withCredentials),m&&m!=="json"&&(I.responseType=l.responseType),w&&([M,W]=Tc(w,!0),I.addEventListener("progress",M)),_&&I.upload&&([P,U]=Tc(_),I.upload.addEventListener("progress",P),I.upload.addEventListener("loadend",U)),(l.cancelToken||l.signal)&&(E=Y=>{I&&(o(!Y||Y.type?new _a(null,n,I):Y),I.abort(),I=null)},l.cancelToken&&l.cancelToken.subscribe(E),l.signal&&(l.signal.aborted?E():l.signal.addEventListener("abort",E)));const X=oL(l.url);if(X&&en.protocols.indexOf(X)===-1){o(new Tt("Unsupported protocol "+X+":",Tt.ERR_BAD_REQUEST,n));return}I.send(c||null)})},pL=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let o=new AbortController,l;const c=function(w){if(!l){l=!0,m();const E=w instanceof Error?w:this.reason;o.abort(E instanceof Tt?E:new _a(E instanceof Error?E.message:E))}};let d=t&&setTimeout(()=>{d=null,c(new Tt(`timeout ${t} of ms exceeded`,Tt.ETIMEDOUT))},t);const m=()=>{n&&(d&&clearTimeout(d),d=null,n.forEach(w=>{w.unsubscribe?w.unsubscribe(c):w.removeEventListener("abort",c)}),n=null)};n.forEach(w=>w.addEventListener("abort",c));const{signal:_}=o;return _.unsubscribe=()=>B.asap(m),_}},mL=pL,gL=function*(n,t){let e=n.byteLength;if(!t||e<t){yield n;return}let o=0,l;for(;o<e;)l=o+t,yield n.slice(o,l),o=l},_L=async function*(n,t){for await(const e of vL(n))yield*gL(e,t)},vL=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:o}=await t.read();if(e)break;yield o}}finally{await t.cancel()}},t_=(n,t,e,o)=>{const l=_L(n,t);let c=0,d,m=_=>{d||(d=!0,o&&o(_))};return new ReadableStream({async pull(_){try{const{done:w,value:E}=await l.next();if(w){m(),_.close();return}let P=E.byteLength;if(e){let M=c+=P;e(M)}_.enqueue(new Uint8Array(E))}catch(w){throw m(w),w}},cancel(_){return m(_),l.return()}},{highWaterMark:2})},Zc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nb=Zc&&typeof ReadableStream=="function",bL=Zc&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),ib=(n,...t)=>{try{return!!n(...t)}catch{return!1}},yL=nb&&ib(()=>{let n=!1;const t=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),e_=64*1024,Af=nb&&ib(()=>B.isReadableStream(new Response("").body)),Cc={stream:Af&&(n=>n.body)};Zc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Cc[t]&&(Cc[t]=B.isFunction(n[t])?e=>e[t]():(e,o)=>{throw new Tt(`Response type '${t}' is not supported`,Tt.ERR_NOT_SUPPORT,o)})})})(new Response);const AL=async n=>{if(n==null)return 0;if(B.isBlob(n))return n.size;if(B.isSpecCompliantForm(n))return(await new Request(en.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(B.isArrayBufferView(n)||B.isArrayBuffer(n))return n.byteLength;if(B.isURLSearchParams(n)&&(n=n+""),B.isString(n))return(await bL(n)).byteLength},wL=async(n,t)=>{const e=B.toFiniteNumber(n.getContentLength());return e??AL(t)},EL=Zc&&(async n=>{let{url:t,method:e,data:o,signal:l,cancelToken:c,timeout:d,onDownloadProgress:m,onUploadProgress:_,responseType:w,headers:E,withCredentials:P="same-origin",fetchOptions:M}=eb(n);w=w?(w+"").toLowerCase():"text";let U=mL([l,c&&c.toAbortSignal()],d),W;const F=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let I;try{if(_&&yL&&e!=="get"&&e!=="head"&&(I=await wL(E,o))!==0){let K=new Request(t,{method:"POST",body:o,duplex:"half"}),it;if(B.isFormData(o)&&(it=K.headers.get("content-type"))&&E.setContentType(it),K.body){const[ct,Ft]=Jg(I,Tc(Xg(_)));o=t_(K.body,e_,ct,Ft)}}B.isString(P)||(P=P?"include":"omit");const Z="credentials"in Request.prototype;W=new Request(t,{...M,signal:U,method:e.toUpperCase(),headers:E.normalize().toJSON(),body:o,duplex:"half",credentials:Z?P:void 0});let X=await fetch(W);const Y=Af&&(w==="stream"||w==="response");if(Af&&(m||Y&&F)){const K={};["status","statusText","headers"].forEach(qt=>{K[qt]=X[qt]});const it=B.toFiniteNumber(X.headers.get("content-length")),[ct,Ft]=m&&Jg(it,Tc(Xg(m),!0))||[];X=new Response(t_(X.body,e_,ct,()=>{Ft&&Ft(),F&&F()}),K)}w=w||"text";let G=await Cc[B.findKey(Cc,w)||"text"](X,n);return!Y&&F&&F(),await new Promise((K,it)=>{Qv(K,it,{data:G,headers:Oi.from(X.headers),status:X.status,statusText:X.statusText,config:n,request:W})})}catch(Z){throw F&&F(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,n,W),{cause:Z.cause||Z}):Tt.from(Z,Z&&Z.code,n,W)}}),wf={http:MS,xhr:fL,fetch:EL};B.forEach(wf,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const n_=n=>`- ${n}`,xL=n=>B.isFunction(n)||n===null||n===!1,rb={getAdapter:n=>{n=B.isArray(n)?n:[n];const{length:t}=n;let e,o;const l={};for(let c=0;c<t;c++){e=n[c];let d;if(o=e,!xL(e)&&(o=wf[(d=String(e)).toLowerCase()],o===void 0))throw new Tt(`Unknown adapter '${d}'`);if(o)break;l[d||"#"+c]=o}if(!o){const c=Object.entries(l).map(([m,_])=>`adapter ${m} `+(_===!1?"is not supported by the environment":"is not available in the build"));let d=t?c.length>1?`since :
`+c.map(n_).join(`
`):" "+n_(c[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:wf};function Ed(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new _a(null,n)}function i_(n){return Ed(n),n.headers=Oi.from(n.headers),n.data=wd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),rb.getAdapter(n.adapter||dp.adapter)(n).then(function(o){return Ed(n),o.data=wd.call(n,n.transformResponse,o),o.headers=Oi.from(o.headers),o},function(o){return Xv(o)||(Ed(n),o&&o.response&&(o.response.data=wd.call(n,n.transformResponse,o.response),o.response.headers=Oi.from(o.response.headers))),Promise.reject(o)})}const ob="1.8.4",Kc={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Kc[n]=function(o){return typeof o===n||"a"+(t<1?"n ":" ")+n}});const r_={};Kc.transitional=function(t,e,o){function l(c,d){return"[Axios v"+ob+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,m)=>{if(t===!1)throw new Tt(l(d," has been removed"+(e?" in "+e:"")),Tt.ERR_DEPRECATED);return e&&!r_[d]&&(r_[d]=!0,console.warn(l(d," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(c,d,m):!0}};Kc.spelling=function(t){return(e,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function TL(n,t,e){if(typeof n!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let l=o.length;for(;l-- >0;){const c=o[l],d=t[c];if(d){const m=n[c],_=m===void 0||d(m,c,n);if(_!==!0)throw new Tt("option "+c+" must be "+_,Tt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Tt("Unknown option "+c,Tt.ERR_BAD_OPTION)}}const pc={assertOptions:TL,validators:Kc},Ki=pc.validators;class Sc{constructor(t){this.defaults=t,this.interceptors={request:new Gg,response:new Gg}}async request(t,e){try{return await this._request(t,e)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=us(this.defaults,e);const{transitional:o,paramsSerializer:l,headers:c}=e;o!==void 0&&pc.assertOptions(o,{silentJSONParsing:Ki.transitional(Ki.boolean),forcedJSONParsing:Ki.transitional(Ki.boolean),clarifyTimeoutError:Ki.transitional(Ki.boolean)},!1),l!=null&&(B.isFunction(l)?e.paramsSerializer={serialize:l}:pc.assertOptions(l,{encode:Ki.function,serialize:Ki.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),pc.assertOptions(e,{baseUrl:Ki.spelling("baseURL"),withXsrfToken:Ki.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let d=c&&B.merge(c.common,c[e.method]);c&&B.forEach(["delete","get","head","post","put","patch","common"],W=>{delete c[W]}),e.headers=Oi.concat(d,c);const m=[];let _=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(e)===!1||(_=_&&F.synchronous,m.unshift(F.fulfilled,F.rejected))});const w=[];this.interceptors.response.forEach(function(F){w.push(F.fulfilled,F.rejected)});let E,P=0,M;if(!_){const W=[i_.bind(this),void 0];for(W.unshift.apply(W,m),W.push.apply(W,w),M=W.length,E=Promise.resolve(e);P<M;)E=E.then(W[P++],W[P++]);return E}M=m.length;let U=e;for(P=0;P<M;){const W=m[P++],F=m[P++];try{U=W(U)}catch(I){F.call(this,I);break}}try{E=i_.call(this,U)}catch(W){return Promise.reject(W)}for(P=0,M=w.length;P<M;)E=E.then(w[P++],w[P++]);return E}getUri(t){t=us(this.defaults,t);const e=tb(t.baseURL,t.url,t.allowAbsoluteUrls);return Gv(e,t.params,t.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(t){Sc.prototype[t]=function(e,o){return this.request(us(o||{},{method:t,url:e,data:(o||{}).data}))}});B.forEach(["post","put","patch"],function(t){function e(o){return function(c,d,m){return this.request(us(m||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Sc.prototype[t]=e(),Sc.prototype[t+"Form"]=e(!0)});const mc=Sc;class fp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(c){e=c});const o=this;this.promise.then(l=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](l);o._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(m=>{o.subscribe(m),c=m}).then(l);return d.cancel=function(){o.unsubscribe(c)},d},t(function(c,d,m){o.reason||(o.reason=new _a(c,d,m),e(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=o=>{t.abort(o)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new fp(function(l){t=l}),cancel:t}}}const CL=fp;function SL(n){return function(e){return n.apply(null,e)}}function LL(n){return B.isObject(n)&&n.isAxiosError===!0}const Ef={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ef).forEach(([n,t])=>{Ef[t]=n});const OL=Ef;function sb(n){const t=new mc(n),e=Fv(mc.prototype.request,t);return B.extend(e,mc.prototype,t,{allOwnKeys:!0}),B.extend(e,t,null,{allOwnKeys:!0}),e.create=function(l){return sb(us(n,l))},e}const Pe=sb(dp);Pe.Axios=mc;Pe.CanceledError=_a;Pe.CancelToken=CL;Pe.isCancel=Xv;Pe.VERSION=ob;Pe.toFormData=jc;Pe.AxiosError=Tt;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=SL;Pe.isAxiosError=LL;Pe.mergeConfig=us;Pe.AxiosHeaders=Oi;Pe.formToJSON=n=>Jv(B.isHTMLForm(n)?new FormData(n):n);Pe.getAdapter=rb.getAdapter;Pe.HttpStatusCode=OL;Pe.default=Pe;const PL=Pe;window._=JC;window.axios=PL;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var An="top",Zn="bottom",Kn="right",wn="left",Gc="auto",va=[An,Zn,Kn,wn],cs="start",sa="end",ab="clippingParents",pp="viewport",Qs="popper",lb="reference",xf=va.reduce(function(n,t){return n.concat([t+"-"+cs,t+"-"+sa])},[]),mp=[].concat(va,[Gc]).reduce(function(n,t){return n.concat([t,t+"-"+cs,t+"-"+sa])},[]),ub="beforeRead",cb="read",hb="afterRead",db="beforeMain",fb="main",pb="afterMain",mb="beforeWrite",gb="write",_b="afterWrite",vb=[ub,cb,hb,db,fb,pb,mb,gb,_b];function Qi(n){return n?(n.nodeName||"").toLowerCase():null}function Gn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function hs(n){var t=Gn(n).Element;return n instanceof t||n instanceof Element}function li(n){var t=Gn(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function gp(n){if(typeof ShadowRoot>"u")return!1;var t=Gn(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function RL(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var o=t.styles[e]||{},l=t.attributes[e]||{},c=t.elements[e];!li(c)||!Qi(c)||(Object.assign(c.style,o),Object.keys(l).forEach(function(d){var m=l[d];m===!1?c.removeAttribute(d):c.setAttribute(d,m===!0?"":m)}))})}function DL(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(o){var l=t.elements[o],c=t.attributes[o]||{},d=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:e[o]),m=d.reduce(function(_,w){return _[w]="",_},{});!li(l)||!Qi(l)||(Object.assign(l.style,m),Object.keys(c).forEach(function(_){l.removeAttribute(_)}))})}}const _p={name:"applyStyles",enabled:!0,phase:"write",fn:RL,effect:DL,requires:["computeStyles"]};function Ji(n){return n.split("-")[0]}var ns=Math.max,Lc=Math.min,aa=Math.round;function Tf(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function bb(){return!/^((?!chrome|android).)*safari/i.test(Tf())}function la(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var o=n.getBoundingClientRect(),l=1,c=1;t&&li(n)&&(l=n.offsetWidth>0&&aa(o.width)/n.offsetWidth||1,c=n.offsetHeight>0&&aa(o.height)/n.offsetHeight||1);var d=hs(n)?Gn(n):window,m=d.visualViewport,_=!bb()&&e,w=(o.left+(_&&m?m.offsetLeft:0))/l,E=(o.top+(_&&m?m.offsetTop:0))/c,P=o.width/l,M=o.height/c;return{width:P,height:M,top:E,right:w+P,bottom:E+M,left:w,x:w,y:E}}function vp(n){var t=la(n),e=n.offsetWidth,o=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:o}}function yb(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&gp(e)){var o=t;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Er(n){return Gn(n).getComputedStyle(n)}function IL(n){return["table","td","th"].indexOf(Qi(n))>=0}function uo(n){return((hs(n)?n.ownerDocument:n.document)||window.document).documentElement}function Yc(n){return Qi(n)==="html"?n:n.assignedSlot||n.parentNode||(gp(n)?n.host:null)||uo(n)}function o_(n){return!li(n)||Er(n).position==="fixed"?null:n.offsetParent}function NL(n){var t=/firefox/i.test(Tf()),e=/Trident/i.test(Tf());if(e&&li(n)){var o=Er(n);if(o.position==="fixed")return null}var l=Yc(n);for(gp(l)&&(l=l.host);li(l)&&["html","body"].indexOf(Qi(l))<0;){var c=Er(l);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return l;l=l.parentNode}return null}function jl(n){for(var t=Gn(n),e=o_(n);e&&IL(e)&&Er(e).position==="static";)e=o_(e);return e&&(Qi(e)==="html"||Qi(e)==="body"&&Er(e).position==="static")?t:e||NL(n)||t}function bp(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ll(n,t,e){return ns(n,Lc(t,e))}function kL(n,t,e){var o=Ll(n,t,e);return o>e?e:o}function Ab(){return{top:0,right:0,bottom:0,left:0}}function wb(n){return Object.assign({},Ab(),n)}function Eb(n,t){return t.reduce(function(e,o){return e[o]=n,e},{})}var ML=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,wb(typeof t!="number"?t:Eb(t,va))};function BL(n){var t,e=n.state,o=n.name,l=n.options,c=e.elements.arrow,d=e.modifiersData.popperOffsets,m=Ji(e.placement),_=bp(m),w=[wn,Kn].indexOf(m)>=0,E=w?"height":"width";if(!(!c||!d)){var P=ML(l.padding,e),M=vp(c),U=_==="y"?An:wn,W=_==="y"?Zn:Kn,F=e.rects.reference[E]+e.rects.reference[_]-d[_]-e.rects.popper[E],I=d[_]-e.rects.reference[_],Z=jl(c),X=Z?_==="y"?Z.clientHeight||0:Z.clientWidth||0:0,Y=F/2-I/2,G=P[U],K=X-M[E]-P[W],it=X/2-M[E]/2+Y,ct=Ll(G,it,K),Ft=_;e.modifiersData[o]=(t={},t[Ft]=ct,t.centerOffset=ct-it,t)}}function FL(n){var t=n.state,e=n.options,o=e.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=t.elements.popper.querySelector(l),!l)||yb(t.elements.popper,l)&&(t.elements.arrow=l))}const xb={name:"arrow",enabled:!0,phase:"main",fn:BL,effect:FL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ua(n){return n.split("-")[1]}var zL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WL(n,t){var e=n.x,o=n.y,l=t.devicePixelRatio||1;return{x:aa(e*l)/l||0,y:aa(o*l)/l||0}}function s_(n){var t,e=n.popper,o=n.popperRect,l=n.placement,c=n.variation,d=n.offsets,m=n.position,_=n.gpuAcceleration,w=n.adaptive,E=n.roundOffsets,P=n.isFixed,M=d.x,U=M===void 0?0:M,W=d.y,F=W===void 0?0:W,I=typeof E=="function"?E({x:U,y:F}):{x:U,y:F};U=I.x,F=I.y;var Z=d.hasOwnProperty("x"),X=d.hasOwnProperty("y"),Y=wn,G=An,K=window;if(w){var it=jl(e),ct="clientHeight",Ft="clientWidth";if(it===Gn(e)&&(it=uo(e),Er(it).position!=="static"&&m==="absolute"&&(ct="scrollHeight",Ft="scrollWidth")),it=it,l===An||(l===wn||l===Kn)&&c===sa){G=Zn;var qt=P&&it===K&&K.visualViewport?K.visualViewport.height:it[ct];F-=qt-o.height,F*=_?1:-1}if(l===wn||(l===An||l===Zn)&&c===sa){Y=Kn;var Jt=P&&it===K&&K.visualViewport?K.visualViewport.width:it[Ft];U-=Jt-o.width,U*=_?1:-1}}var zt=Object.assign({position:m},w&&zL),Ot=E===!0?WL({x:U,y:F},Gn(e)):{x:U,y:F};if(U=Ot.x,F=Ot.y,_){var fe;return Object.assign({},zt,(fe={},fe[G]=X?"0":"",fe[Y]=Z?"0":"",fe.transform=(K.devicePixelRatio||1)<=1?"translate("+U+"px, "+F+"px)":"translate3d("+U+"px, "+F+"px, 0)",fe))}return Object.assign({},zt,(t={},t[G]=X?F+"px":"",t[Y]=Z?U+"px":"",t.transform="",t))}function $L(n){var t=n.state,e=n.options,o=e.gpuAcceleration,l=o===void 0?!0:o,c=e.adaptive,d=c===void 0?!0:c,m=e.roundOffsets,_=m===void 0?!0:m,w={placement:Ji(t.placement),variation:ua(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:l,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,s_(Object.assign({},w,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:_})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,s_(Object.assign({},w,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const yp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$L,data:{}};var Gu={passive:!0};function HL(n){var t=n.state,e=n.instance,o=n.options,l=o.scroll,c=l===void 0?!0:l,d=o.resize,m=d===void 0?!0:d,_=Gn(t.elements.popper),w=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&w.forEach(function(E){E.addEventListener("scroll",e.update,Gu)}),m&&_.addEventListener("resize",e.update,Gu),function(){c&&w.forEach(function(E){E.removeEventListener("scroll",e.update,Gu)}),m&&_.removeEventListener("resize",e.update,Gu)}}const Ap={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:HL,data:{}};var UL={left:"right",right:"left",bottom:"top",top:"bottom"};function gc(n){return n.replace(/left|right|bottom|top/g,function(t){return UL[t]})}var VL={start:"end",end:"start"};function a_(n){return n.replace(/start|end/g,function(t){return VL[t]})}function wp(n){var t=Gn(n),e=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:e,scrollTop:o}}function Ep(n){return la(uo(n)).left+wp(n).scrollLeft}function jL(n,t){var e=Gn(n),o=uo(n),l=e.visualViewport,c=o.clientWidth,d=o.clientHeight,m=0,_=0;if(l){c=l.width,d=l.height;var w=bb();(w||!w&&t==="fixed")&&(m=l.offsetLeft,_=l.offsetTop)}return{width:c,height:d,x:m+Ep(n),y:_}}function qL(n){var t,e=uo(n),o=wp(n),l=(t=n.ownerDocument)==null?void 0:t.body,c=ns(e.scrollWidth,e.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=ns(e.scrollHeight,e.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),m=-o.scrollLeft+Ep(n),_=-o.scrollTop;return Er(l||e).direction==="rtl"&&(m+=ns(e.clientWidth,l?l.clientWidth:0)-c),{width:c,height:d,x:m,y:_}}function xp(n){var t=Er(n),e=t.overflow,o=t.overflowX,l=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+l+o)}function Tb(n){return["html","body","#document"].indexOf(Qi(n))>=0?n.ownerDocument.body:li(n)&&xp(n)?n:Tb(Yc(n))}function Ol(n,t){var e;t===void 0&&(t=[]);var o=Tb(n),l=o===((e=n.ownerDocument)==null?void 0:e.body),c=Gn(o),d=l?[c].concat(c.visualViewport||[],xp(o)?o:[]):o,m=t.concat(d);return l?m:m.concat(Ol(Yc(d)))}function Cf(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ZL(n,t){var e=la(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function l_(n,t,e){return t===pp?Cf(jL(n,e)):hs(t)?ZL(t,e):Cf(qL(uo(n)))}function KL(n){var t=Ol(Yc(n)),e=["absolute","fixed"].indexOf(Er(n).position)>=0,o=e&&li(n)?jl(n):n;return hs(o)?t.filter(function(l){return hs(l)&&yb(l,o)&&Qi(l)!=="body"}):[]}function GL(n,t,e,o){var l=t==="clippingParents"?KL(n):[].concat(t),c=[].concat(l,[e]),d=c[0],m=c.reduce(function(_,w){var E=l_(n,w,o);return _.top=ns(E.top,_.top),_.right=Lc(E.right,_.right),_.bottom=Lc(E.bottom,_.bottom),_.left=ns(E.left,_.left),_},l_(n,d,o));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function Cb(n){var t=n.reference,e=n.element,o=n.placement,l=o?Ji(o):null,c=o?ua(o):null,d=t.x+t.width/2-e.width/2,m=t.y+t.height/2-e.height/2,_;switch(l){case An:_={x:d,y:t.y-e.height};break;case Zn:_={x:d,y:t.y+t.height};break;case Kn:_={x:t.x+t.width,y:m};break;case wn:_={x:t.x-e.width,y:m};break;default:_={x:t.x,y:t.y}}var w=l?bp(l):null;if(w!=null){var E=w==="y"?"height":"width";switch(c){case cs:_[w]=_[w]-(t[E]/2-e[E]/2);break;case sa:_[w]=_[w]+(t[E]/2-e[E]/2);break}}return _}function ca(n,t){t===void 0&&(t={});var e=t,o=e.placement,l=o===void 0?n.placement:o,c=e.strategy,d=c===void 0?n.strategy:c,m=e.boundary,_=m===void 0?ab:m,w=e.rootBoundary,E=w===void 0?pp:w,P=e.elementContext,M=P===void 0?Qs:P,U=e.altBoundary,W=U===void 0?!1:U,F=e.padding,I=F===void 0?0:F,Z=wb(typeof I!="number"?I:Eb(I,va)),X=M===Qs?lb:Qs,Y=n.rects.popper,G=n.elements[W?X:M],K=GL(hs(G)?G:G.contextElement||uo(n.elements.popper),_,E,d),it=la(n.elements.reference),ct=Cb({reference:it,element:Y,strategy:"absolute",placement:l}),Ft=Cf(Object.assign({},Y,ct)),qt=M===Qs?Ft:it,Jt={top:K.top-qt.top+Z.top,bottom:qt.bottom-K.bottom+Z.bottom,left:K.left-qt.left+Z.left,right:qt.right-K.right+Z.right},zt=n.modifiersData.offset;if(M===Qs&&zt){var Ot=zt[l];Object.keys(Jt).forEach(function(fe){var ue=[Kn,Zn].indexOf(fe)>=0?1:-1,nn=[An,Zn].indexOf(fe)>=0?"y":"x";Jt[fe]+=Ot[nn]*ue})}return Jt}function YL(n,t){t===void 0&&(t={});var e=t,o=e.placement,l=e.boundary,c=e.rootBoundary,d=e.padding,m=e.flipVariations,_=e.allowedAutoPlacements,w=_===void 0?mp:_,E=ua(o),P=E?m?xf:xf.filter(function(W){return ua(W)===E}):va,M=P.filter(function(W){return w.indexOf(W)>=0});M.length===0&&(M=P);var U=M.reduce(function(W,F){return W[F]=ca(n,{placement:F,boundary:l,rootBoundary:c,padding:d})[Ji(F)],W},{});return Object.keys(U).sort(function(W,F){return U[W]-U[F]})}function JL(n){if(Ji(n)===Gc)return[];var t=gc(n);return[a_(n),t,a_(t)]}function XL(n){var t=n.state,e=n.options,o=n.name;if(!t.modifiersData[o]._skip){for(var l=e.mainAxis,c=l===void 0?!0:l,d=e.altAxis,m=d===void 0?!0:d,_=e.fallbackPlacements,w=e.padding,E=e.boundary,P=e.rootBoundary,M=e.altBoundary,U=e.flipVariations,W=U===void 0?!0:U,F=e.allowedAutoPlacements,I=t.options.placement,Z=Ji(I),X=Z===I,Y=_||(X||!W?[gc(I)]:JL(I)),G=[I].concat(Y).reduce(function(mt,gt){return mt.concat(Ji(gt)===Gc?YL(t,{placement:gt,boundary:E,rootBoundary:P,padding:w,flipVariations:W,allowedAutoPlacements:F}):gt)},[]),K=t.rects.reference,it=t.rects.popper,ct=new Map,Ft=!0,qt=G[0],Jt=0;Jt<G.length;Jt++){var zt=G[Jt],Ot=Ji(zt),fe=ua(zt)===cs,ue=[An,Zn].indexOf(Ot)>=0,nn=ue?"width":"height",Zt=ca(t,{placement:zt,boundary:E,rootBoundary:P,altBoundary:M,padding:w}),Qt=ue?fe?Kn:wn:fe?Zn:An;K[nn]>it[nn]&&(Qt=gc(Qt));var at=gc(Qt),rn=[];if(c&&rn.push(Zt[Ot]<=0),m&&rn.push(Zt[Qt]<=0,Zt[at]<=0),rn.every(function(mt){return mt})){qt=zt,Ft=!1;break}ct.set(zt,rn)}if(Ft)for(var lt=W?3:1,Ct=function(gt){var nt=G.find(function(be){var ee=ct.get(be);if(ee)return ee.slice(0,gt).every(function(on){return on})});if(nt)return qt=nt,"break"},St=lt;St>0;St--){var ce=Ct(St);if(ce==="break")break}t.placement!==qt&&(t.modifiersData[o]._skip=!0,t.placement=qt,t.reset=!0)}}const Sb={name:"flip",enabled:!0,phase:"main",fn:XL,requiresIfExists:["offset"],data:{_skip:!1}};function u_(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function c_(n){return[An,Kn,Zn,wn].some(function(t){return n[t]>=0})}function QL(n){var t=n.state,e=n.name,o=t.rects.reference,l=t.rects.popper,c=t.modifiersData.preventOverflow,d=ca(t,{elementContext:"reference"}),m=ca(t,{altBoundary:!0}),_=u_(d,o),w=u_(m,l,c),E=c_(_),P=c_(w);t.modifiersData[e]={referenceClippingOffsets:_,popperEscapeOffsets:w,isReferenceHidden:E,hasPopperEscaped:P},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":P})}const Lb={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QL};function tO(n,t,e){var o=Ji(n),l=[wn,An].indexOf(o)>=0?-1:1,c=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,d=c[0],m=c[1];return d=d||0,m=(m||0)*l,[wn,Kn].indexOf(o)>=0?{x:m,y:d}:{x:d,y:m}}function eO(n){var t=n.state,e=n.options,o=n.name,l=e.offset,c=l===void 0?[0,0]:l,d=mp.reduce(function(E,P){return E[P]=tO(P,t.rects,c),E},{}),m=d[t.placement],_=m.x,w=m.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=_,t.modifiersData.popperOffsets.y+=w),t.modifiersData[o]=d}const Ob={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eO};function nO(n){var t=n.state,e=n.name;t.modifiersData[e]=Cb({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Tp={name:"popperOffsets",enabled:!0,phase:"read",fn:nO,data:{}};function iO(n){return n==="x"?"y":"x"}function rO(n){var t=n.state,e=n.options,o=n.name,l=e.mainAxis,c=l===void 0?!0:l,d=e.altAxis,m=d===void 0?!1:d,_=e.boundary,w=e.rootBoundary,E=e.altBoundary,P=e.padding,M=e.tether,U=M===void 0?!0:M,W=e.tetherOffset,F=W===void 0?0:W,I=ca(t,{boundary:_,rootBoundary:w,padding:P,altBoundary:E}),Z=Ji(t.placement),X=ua(t.placement),Y=!X,G=bp(Z),K=iO(G),it=t.modifiersData.popperOffsets,ct=t.rects.reference,Ft=t.rects.popper,qt=typeof F=="function"?F(Object.assign({},t.rects,{placement:t.placement})):F,Jt=typeof qt=="number"?{mainAxis:qt,altAxis:qt}:Object.assign({mainAxis:0,altAxis:0},qt),zt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ot={x:0,y:0};if(it){if(c){var fe,ue=G==="y"?An:wn,nn=G==="y"?Zn:Kn,Zt=G==="y"?"height":"width",Qt=it[G],at=Qt+I[ue],rn=Qt-I[nn],lt=U?-Ft[Zt]/2:0,Ct=X===cs?ct[Zt]:Ft[Zt],St=X===cs?-Ft[Zt]:-ct[Zt],ce=t.elements.arrow,mt=U&&ce?vp(ce):{width:0,height:0},gt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ab(),nt=gt[ue],be=gt[nn],ee=Ll(0,ct[Zt],mt[Zt]),on=Y?ct[Zt]/2-lt-ee-nt-Jt.mainAxis:Ct-ee-nt-Jt.mainAxis,fi=Y?-ct[Zt]/2+lt+ee+be+Jt.mainAxis:St+ee+be+Jt.mainAxis,sn=t.elements.arrow&&jl(t.elements.arrow),an=sn?G==="y"?sn.clientTop||0:sn.clientLeft||0:0,je=(fe=zt==null?void 0:zt[G])!=null?fe:0,Ie=Qt+on-je-an,Be=Qt+fi-je,pi=Ll(U?Lc(at,Ie):at,Qt,U?ns(rn,Be):rn);it[G]=pi,Ot[G]=pi-Qt}if(m){var Oe,qe=G==="x"?An:wn,Ni=G==="x"?Zn:Kn,Ee=it[K],pe=K==="y"?"height":"width",Cn=Ee+I[qe],Sn=Ee-I[Ni],Mn=[An,wn].indexOf(Z)!==-1,We=(Oe=zt==null?void 0:zt[K])!=null?Oe:0,ln=Mn?Cn:Ee-ct[pe]-Ft[pe]-We+Jt.altAxis,Ln=Mn?Ee+ct[pe]+Ft[pe]-We-Jt.altAxis:Sn,un=U&&Mn?kL(ln,Ee,Ln):Ll(U?ln:Cn,Ee,U?Ln:Sn);it[K]=un,Ot[K]=un-Ee}t.modifiersData[o]=Ot}}const Pb={name:"preventOverflow",enabled:!0,phase:"main",fn:rO,requiresIfExists:["offset"]};function oO(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sO(n){return n===Gn(n)||!li(n)?wp(n):oO(n)}function aO(n){var t=n.getBoundingClientRect(),e=aa(t.width)/n.offsetWidth||1,o=aa(t.height)/n.offsetHeight||1;return e!==1||o!==1}function lO(n,t,e){e===void 0&&(e=!1);var o=li(t),l=li(t)&&aO(t),c=uo(t),d=la(n,l,e),m={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(o||!o&&!e)&&((Qi(t)!=="body"||xp(c))&&(m=sO(t)),li(t)?(_=la(t,!0),_.x+=t.clientLeft,_.y+=t.clientTop):c&&(_.x=Ep(c))),{x:d.left+m.scrollLeft-_.x,y:d.top+m.scrollTop-_.y,width:d.width,height:d.height}}function uO(n){var t=new Map,e=new Set,o=[];n.forEach(function(c){t.set(c.name,c)});function l(c){e.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(m){if(!e.has(m)){var _=t.get(m);_&&l(_)}}),o.push(c)}return n.forEach(function(c){e.has(c.name)||l(c)}),o}function cO(n){var t=uO(n);return vb.reduce(function(e,o){return e.concat(t.filter(function(l){return l.phase===o}))},[])}function hO(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function dO(n){var t=n.reduce(function(e,o){var l=e[o.name];return e[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,e},{});return Object.keys(t).map(function(e){return t[e]})}var h_={placement:"bottom",modifiers:[],strategy:"absolute"};function d_(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Jc(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,o=e===void 0?[]:e,l=t.defaultOptions,c=l===void 0?h_:l;return function(m,_,w){w===void 0&&(w=c);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},h_,c),modifiersData:{},elements:{reference:m,popper:_},attributes:{},styles:{}},P=[],M=!1,U={state:E,setOptions:function(Z){var X=typeof Z=="function"?Z(E.options):Z;F(),E.options=Object.assign({},c,E.options,X),E.scrollParents={reference:hs(m)?Ol(m):m.contextElement?Ol(m.contextElement):[],popper:Ol(_)};var Y=cO(dO([].concat(o,E.options.modifiers)));return E.orderedModifiers=Y.filter(function(G){return G.enabled}),W(),U.update()},forceUpdate:function(){if(!M){var Z=E.elements,X=Z.reference,Y=Z.popper;if(d_(X,Y)){E.rects={reference:lO(X,jl(Y),E.options.strategy==="fixed"),popper:vp(Y)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(Jt){return E.modifiersData[Jt.name]=Object.assign({},Jt.data)});for(var G=0;G<E.orderedModifiers.length;G++){if(E.reset===!0){E.reset=!1,G=-1;continue}var K=E.orderedModifiers[G],it=K.fn,ct=K.options,Ft=ct===void 0?{}:ct,qt=K.name;typeof it=="function"&&(E=it({state:E,options:Ft,name:qt,instance:U})||E)}}}},update:hO(function(){return new Promise(function(I){U.forceUpdate(),I(E)})}),destroy:function(){F(),M=!0}};if(!d_(m,_))return U;U.setOptions(w).then(function(I){!M&&w.onFirstUpdate&&w.onFirstUpdate(I)});function W(){E.orderedModifiers.forEach(function(I){var Z=I.name,X=I.options,Y=X===void 0?{}:X,G=I.effect;if(typeof G=="function"){var K=G({state:E,name:Z,instance:U,options:Y}),it=function(){};P.push(K||it)}})}function F(){P.forEach(function(I){return I()}),P=[]}return U}}var fO=Jc(),pO=[Ap,Tp,yp,_p],mO=Jc({defaultModifiers:pO}),gO=[Ap,Tp,yp,_p,Ob,Sb,Pb,xb,Lb],Cp=Jc({defaultModifiers:gO});const Rb=Object.freeze(Object.defineProperty({__proto__:null,afterMain:pb,afterRead:hb,afterWrite:_b,applyStyles:_p,arrow:xb,auto:Gc,basePlacements:va,beforeMain:db,beforeRead:ub,beforeWrite:mb,bottom:Zn,clippingParents:ab,computeStyles:yp,createPopper:Cp,createPopperBase:fO,createPopperLite:mO,detectOverflow:ca,end:sa,eventListeners:Ap,flip:Sb,hide:Lb,left:wn,main:fb,modifierPhases:vb,offset:Ob,placements:mp,popper:Qs,popperGenerator:Jc,popperOffsets:Tp,preventOverflow:Pb,read:cb,reference:lb,right:Kn,start:cs,top:An,variationPlacements:xf,viewport:pp,write:gb},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.5 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Yr=new Map,xd={set(n,t,e){Yr.has(n)||Yr.set(n,new Map);const o=Yr.get(n);if(!o.has(t)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(t,e)},get(n,t){return Yr.has(n)&&Yr.get(n).get(t)||null},remove(n,t){if(!Yr.has(n))return;const e=Yr.get(n);e.delete(t),e.size===0&&Yr.delete(n)}},_O=1e6,vO=1e3,Sf="transitionend",Db=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),bO=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),yO=n=>{do n+=Math.floor(Math.random()*_O);while(document.getElementById(n));return n},AO=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const o=Number.parseFloat(t),l=Number.parseFloat(e);return!o&&!l?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*vO)},Ib=n=>{n.dispatchEvent(new Event(Sf))},Ar=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),no=n=>Ar(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(Db(n)):null,ba=n=>{if(!Ar(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const o=n.closest("summary");if(o&&o.parentNode!==e||o===null)return!1}return t},io=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Nb=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?Nb(n.parentNode):null},Oc=()=>{},ql=n=>{n.offsetHeight},kb=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Td=[],wO=n=>{document.readyState==="loading"?(Td.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Td)t()}),Td.push(n)):n()},ui=()=>document.documentElement.dir==="rtl",di=n=>{wO(()=>{const t=kb();if(t){const e=n.NAME,o=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=o,n.jQueryInterface)}})},kn=(n,t=[],e=n)=>typeof n=="function"?n.call(...t):e,Mb=(n,t,e=!0)=>{if(!e){kn(n);return}const o=5,l=AO(t)+o;let c=!1;const d=({target:m})=>{m===t&&(c=!0,t.removeEventListener(Sf,d),kn(n))};t.addEventListener(Sf,d),setTimeout(()=>{c||Ib(t)},l)},Sp=(n,t,e,o)=>{const l=n.length;let c=n.indexOf(t);return c===-1?!e&&o?n[l-1]:n[0]:(c+=e?1:-1,o&&(c=(c+l)%l),n[Math.max(0,Math.min(c,l-1))])},EO=/[^.]*(?=\..*)\.|.*/,xO=/\..*/,TO=/::\d+$/,Cd={};let f_=1;const Bb={mouseenter:"mouseover",mouseleave:"mouseout"},CO=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Fb(n,t){return t&&`${t}::${f_++}`||n.uidEvent||f_++}function zb(n){const t=Fb(n);return n.uidEvent=t,Cd[t]=Cd[t]||{},Cd[t]}function SO(n,t){return function e(o){return Lp(o,{delegateTarget:n}),e.oneOff&&q.off(n,o.type,t),t.apply(n,[o])}}function LO(n,t,e){return function o(l){const c=n.querySelectorAll(t);for(let{target:d}=l;d&&d!==this;d=d.parentNode)for(const m of c)if(m===d)return Lp(l,{delegateTarget:d}),o.oneOff&&q.off(n,l.type,t,e),e.apply(d,[l])}}function Wb(n,t,e=null){return Object.values(n).find(o=>o.callable===t&&o.delegationSelector===e)}function $b(n,t,e){const o=typeof t=="string",l=o?e:t||e;let c=Hb(n);return CO.has(c)||(c=n),[o,l,c]}function p_(n,t,e,o,l){if(typeof t!="string"||!n)return;let[c,d,m]=$b(t,e,o);t in Bb&&(d=(W=>function(F){if(!F.relatedTarget||F.relatedTarget!==F.delegateTarget&&!F.delegateTarget.contains(F.relatedTarget))return W.call(this,F)})(d));const _=zb(n),w=_[m]||(_[m]={}),E=Wb(w,d,c?e:null);if(E){E.oneOff=E.oneOff&&l;return}const P=Fb(d,t.replace(EO,"")),M=c?LO(n,e,d):SO(n,d);M.delegationSelector=c?e:null,M.callable=d,M.oneOff=l,M.uidEvent=P,w[P]=M,n.addEventListener(m,M,c)}function Lf(n,t,e,o,l){const c=Wb(t[e],o,l);c&&(n.removeEventListener(e,c,!!l),delete t[e][c.uidEvent])}function OO(n,t,e,o){const l=t[e]||{};for(const[c,d]of Object.entries(l))c.includes(o)&&Lf(n,t,e,d.callable,d.delegationSelector)}function Hb(n){return n=n.replace(xO,""),Bb[n]||n}const q={on(n,t,e,o){p_(n,t,e,o,!1)},one(n,t,e,o){p_(n,t,e,o,!0)},off(n,t,e,o){if(typeof t!="string"||!n)return;const[l,c,d]=$b(t,e,o),m=d!==t,_=zb(n),w=_[d]||{},E=t.startsWith(".");if(typeof c<"u"){if(!Object.keys(w).length)return;Lf(n,_,d,c,l?e:null);return}if(E)for(const P of Object.keys(_))OO(n,_,P,t.slice(1));for(const[P,M]of Object.entries(w)){const U=P.replace(TO,"");(!m||t.includes(U))&&Lf(n,_,d,M.callable,M.delegationSelector)}},trigger(n,t,e){if(typeof t!="string"||!n)return null;const o=kb(),l=Hb(t),c=t!==l;let d=null,m=!0,_=!0,w=!1;c&&o&&(d=o.Event(t,e),o(n).trigger(d),m=!d.isPropagationStopped(),_=!d.isImmediatePropagationStopped(),w=d.isDefaultPrevented());const E=Lp(new Event(t,{bubbles:m,cancelable:!0}),e);return w&&E.preventDefault(),_&&n.dispatchEvent(E),E.defaultPrevented&&d&&d.preventDefault(),E}};function Lp(n,t={}){for(const[e,o]of Object.entries(t))try{n[e]=o}catch{Object.defineProperty(n,e,{configurable:!0,get(){return o}})}return n}function m_(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Sd(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const wr={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${Sd(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${Sd(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(o=>o.startsWith("bs")&&!o.startsWith("bsConfig"));for(const o of e){let l=o.replace(/^bs/,"");l=l.charAt(0).toLowerCase()+l.slice(1),t[l]=m_(n.dataset[o])}return t},getDataAttribute(n,t){return m_(n.getAttribute(`data-bs-${Sd(t)}`))}};class Zl{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const o=Ar(e)?wr.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof o=="object"?o:{},...Ar(e)?wr.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[o,l]of Object.entries(e)){const c=t[o],d=Ar(c)?"element":bO(c);if(!new RegExp(l).test(d))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${d}" but expected type "${l}".`)}}}const PO="5.3.5";class Di extends Zl{constructor(t,e){super(),t=no(t),t&&(this._element=t,this._config=this._getConfig(e),xd.set(this._element,this.constructor.DATA_KEY,this))}dispose(){xd.remove(this._element,this.constructor.DATA_KEY),q.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,o=!0){Mb(t,e,o)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return xd.get(no(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return PO}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Ld=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>Db(e)).join(","):null},ht={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){const e=[];let o=n.parentNode.closest(t);for(;o;)e.push(o),o=o.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!io(e)&&ba(e))},getSelectorFromElement(n){const t=Ld(n);return t&&ht.findOne(t)?t:null},getElementFromSelector(n){const t=Ld(n);return t?ht.findOne(t):null},getMultipleElementsFromSelector(n){const t=Ld(n);return t?ht.find(t):[]}},Xc=(n,t="hide")=>{const e=`click.dismiss${n.EVENT_KEY}`,o=n.NAME;q.on(document,e,`[data-bs-dismiss="${o}"]`,function(l){if(["A","AREA"].includes(this.tagName)&&l.preventDefault(),io(this))return;const c=ht.getElementFromSelector(this)||this.closest(`.${o}`);n.getOrCreateInstance(c)[t]()})},RO="alert",DO="bs.alert",Ub=`.${DO}`,IO=`close${Ub}`,NO=`closed${Ub}`,kO="fade",MO="show";class Qc extends Di{static get NAME(){return RO}close(){if(q.trigger(this._element,IO).defaultPrevented)return;this._element.classList.remove(MO);const e=this._element.classList.contains(kO);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),q.trigger(this._element,NO),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Qc.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Xc(Qc,"close");di(Qc);const BO="button",FO="bs.button",zO=`.${FO}`,WO=".data-api",$O="active",g_='[data-bs-toggle="button"]',HO=`click${zO}${WO}`;class th extends Di{static get NAME(){return BO}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle($O))}static jQueryInterface(t){return this.each(function(){const e=th.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}q.on(document,HO,g_,n=>{n.preventDefault();const t=n.target.closest(g_);th.getOrCreateInstance(t).toggle()});di(th);const UO="swipe",ya=".bs.swipe",VO=`touchstart${ya}`,jO=`touchmove${ya}`,qO=`touchend${ya}`,ZO=`pointerdown${ya}`,KO=`pointerup${ya}`,GO="touch",YO="pen",JO="pointer-event",XO=40,QO={endCallback:null,leftCallback:null,rightCallback:null},tP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Pc extends Zl{constructor(t,e){super(),this._element=t,!(!t||!Pc.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return QO}static get DefaultType(){return tP}static get NAME(){return UO}dispose(){q.off(this._element,ya)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),kn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=XO)return;const e=t/this._deltaX;this._deltaX=0,e&&kn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(q.on(this._element,ZO,t=>this._start(t)),q.on(this._element,KO,t=>this._end(t)),this._element.classList.add(JO)):(q.on(this._element,VO,t=>this._start(t)),q.on(this._element,jO,t=>this._move(t)),q.on(this._element,qO,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===YO||t.pointerType===GO)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const eP="carousel",nP="bs.carousel",co=`.${nP}`,Vb=".data-api",iP="ArrowLeft",rP="ArrowRight",oP=500,pl="next",Ys="prev",ta="left",_c="right",sP=`slide${co}`,Od=`slid${co}`,aP=`keydown${co}`,lP=`mouseenter${co}`,uP=`mouseleave${co}`,cP=`dragstart${co}`,hP=`load${co}${Vb}`,dP=`click${co}${Vb}`,jb="carousel",Yu="active",fP="slide",pP="carousel-item-end",mP="carousel-item-start",gP="carousel-item-next",_P="carousel-item-prev",qb=".active",Zb=".carousel-item",vP=qb+Zb,bP=".carousel-item img",yP=".carousel-indicators",AP="[data-bs-slide], [data-bs-slide-to]",wP='[data-bs-ride="carousel"]',EP={[iP]:_c,[rP]:ta},xP={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},TP={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Kl extends Di{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ht.findOne(yP,this._element),this._addEventListeners(),this._config.ride===jb&&this.cycle()}static get Default(){return xP}static get DefaultType(){return TP}static get NAME(){return eP}next(){this._slide(pl)}nextWhenVisible(){!document.hidden&&ba(this._element)&&this.next()}prev(){this._slide(Ys)}pause(){this._isSliding&&Ib(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){q.one(this._element,Od,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){q.one(this._element,Od,()=>this.to(t));return}const o=this._getItemIndex(this._getActive());if(o===t)return;const l=t>o?pl:Ys;this._slide(l,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&q.on(this._element,aP,t=>this._keydown(t)),this._config.pause==="hover"&&(q.on(this._element,lP,()=>this.pause()),q.on(this._element,uP,()=>this._maybeEnableCycle())),this._config.touch&&Pc.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const o of ht.find(bP,this._element))q.on(o,cP,l=>l.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(ta)),rightCallback:()=>this._slide(this._directionToOrder(_c)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),oP+this._config.interval))}};this._swipeHelper=new Pc(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=EP[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=ht.findOne(qb,this._indicatorsElement);e.classList.remove(Yu),e.removeAttribute("aria-current");const o=ht.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);o&&(o.classList.add(Yu),o.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const o=this._getActive(),l=t===pl,c=e||Sp(this._getItems(),o,l,this._config.wrap);if(c===o)return;const d=this._getItemIndex(c),m=U=>q.trigger(this._element,U,{relatedTarget:c,direction:this._orderToDirection(t),from:this._getItemIndex(o),to:d});if(m(sP).defaultPrevented||!o||!c)return;const w=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(d),this._activeElement=c;const E=l?mP:pP,P=l?gP:_P;c.classList.add(P),ql(c),o.classList.add(E),c.classList.add(E);const M=()=>{c.classList.remove(E,P),c.classList.add(Yu),o.classList.remove(Yu,P,E),this._isSliding=!1,m(Od)};this._queueCallback(M,o,this._isAnimated()),w&&this.cycle()}_isAnimated(){return this._element.classList.contains(fP)}_getActive(){return ht.findOne(vP,this._element)}_getItems(){return ht.find(Zb,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return ui()?t===ta?Ys:pl:t===ta?pl:Ys}_orderToDirection(t){return ui()?t===Ys?ta:_c:t===Ys?_c:ta}static jQueryInterface(t){return this.each(function(){const e=Kl.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}q.on(document,dP,AP,function(n){const t=ht.getElementFromSelector(this);if(!t||!t.classList.contains(jb))return;n.preventDefault();const e=Kl.getOrCreateInstance(t),o=this.getAttribute("data-bs-slide-to");if(o){e.to(o),e._maybeEnableCycle();return}if(wr.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});q.on(window,hP,()=>{const n=ht.find(wP);for(const t of n)Kl.getOrCreateInstance(t)});di(Kl);const CP="collapse",SP="bs.collapse",Gl=`.${SP}`,LP=".data-api",OP=`show${Gl}`,PP=`shown${Gl}`,RP=`hide${Gl}`,DP=`hidden${Gl}`,IP=`click${Gl}${LP}`,Pd="show",ia="collapse",Ju="collapsing",NP="collapsed",kP=`:scope .${ia} .${ia}`,MP="collapse-horizontal",BP="width",FP="height",zP=".collapse.show, .collapse.collapsing",Of='[data-bs-toggle="collapse"]',WP={parent:null,toggle:!0},$P={parent:"(null|element)",toggle:"boolean"};class Wl extends Di{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const o=ht.find(Of);for(const l of o){const c=ht.getSelectorFromElement(l),d=ht.find(c).filter(m=>m===this._element);c!==null&&d.length&&this._triggerArray.push(l)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return WP}static get DefaultType(){return $P}static get NAME(){return CP}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(zP).filter(m=>m!==this._element).map(m=>Wl.getOrCreateInstance(m,{toggle:!1}))),t.length&&t[0]._isTransitioning||q.trigger(this._element,OP).defaultPrevented)return;for(const m of t)m.hide();const o=this._getDimension();this._element.classList.remove(ia),this._element.classList.add(Ju),this._element.style[o]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(Ju),this._element.classList.add(ia,Pd),this._element.style[o]="",q.trigger(this._element,PP)},d=`scroll${o[0].toUpperCase()+o.slice(1)}`;this._queueCallback(l,this._element,!0),this._element.style[o]=`${this._element[d]}px`}hide(){if(this._isTransitioning||!this._isShown()||q.trigger(this._element,RP).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,ql(this._element),this._element.classList.add(Ju),this._element.classList.remove(ia,Pd);for(const l of this._triggerArray){const c=ht.getElementFromSelector(l);c&&!this._isShown(c)&&this._addAriaAndCollapsedClass([l],!1)}this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Ju),this._element.classList.add(ia),q.trigger(this._element,DP)};this._element.style[e]="",this._queueCallback(o,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Pd)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=no(t.parent),t}_getDimension(){return this._element.classList.contains(MP)?BP:FP}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Of);for(const e of t){const o=ht.getElementFromSelector(e);o&&this._addAriaAndCollapsedClass([e],this._isShown(o))}}_getFirstLevelChildren(t){const e=ht.find(kP,this._config.parent);return ht.find(t,this._config.parent).filter(o=>!e.includes(o))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const o of t)o.classList.toggle(NP,!e),o.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const o=Wl.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t]()}})}}q.on(document,IP,Of,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const t of ht.getMultipleElementsFromSelector(this))Wl.getOrCreateInstance(t,{toggle:!1}).toggle()});di(Wl);const __="dropdown",HP="bs.dropdown",gs=`.${HP}`,Op=".data-api",UP="Escape",v_="Tab",VP="ArrowUp",b_="ArrowDown",jP=2,qP=`hide${gs}`,ZP=`hidden${gs}`,KP=`show${gs}`,GP=`shown${gs}`,Kb=`click${gs}${Op}`,Gb=`keydown${gs}${Op}`,YP=`keyup${gs}${Op}`,ea="show",JP="dropup",XP="dropend",QP="dropstart",tR="dropup-center",eR="dropdown-center",Xo='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',nR=`${Xo}.${ea}`,vc=".dropdown-menu",iR=".navbar",rR=".navbar-nav",oR=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",sR=ui()?"top-end":"top-start",aR=ui()?"top-start":"top-end",lR=ui()?"bottom-end":"bottom-start",uR=ui()?"bottom-start":"bottom-end",cR=ui()?"left-start":"right-start",hR=ui()?"right-start":"left-start",dR="top",fR="bottom",pR={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},mR={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Xi extends Di{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ht.next(this._element,vc)[0]||ht.prev(this._element,vc)[0]||ht.findOne(vc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pR}static get DefaultType(){return mR}static get NAME(){return __}toggle(){return this._isShown()?this.hide():this.show()}show(){if(io(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!q.trigger(this._element,KP,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(rR))for(const o of[].concat(...document.body.children))q.on(o,"mouseover",Oc);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ea),this._element.classList.add(ea),q.trigger(this._element,GP,t)}}hide(){if(io(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!q.trigger(this._element,qP,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))q.off(o,"mouseover",Oc);this._popper&&this._popper.destroy(),this._menu.classList.remove(ea),this._element.classList.remove(ea),this._element.setAttribute("aria-expanded","false"),wr.removeDataAttribute(this._menu,"popper"),q.trigger(this._element,ZP,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ar(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${__.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Rb>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ar(this._config.reference)?t=no(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Cp(t,this._menu,e)}_isShown(){return this._menu.classList.contains(ea)}_getPlacement(){const t=this._parent;if(t.classList.contains(XP))return cR;if(t.classList.contains(QP))return hR;if(t.classList.contains(tR))return dR;if(t.classList.contains(eR))return fR;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(JP)?e?aR:sR:e?uR:lR}_detectNavbar(){return this._element.closest(iR)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(wr.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...kn(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const o=ht.find(oR,this._menu).filter(l=>ba(l));o.length&&Sp(o,e,t===b_,!o.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Xi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===jP||t.type==="keyup"&&t.key!==v_)return;const e=ht.find(nR);for(const o of e){const l=Xi.getInstance(o);if(!l||l._config.autoClose===!1)continue;const c=t.composedPath(),d=c.includes(l._menu);if(c.includes(l._element)||l._config.autoClose==="inside"&&!d||l._config.autoClose==="outside"&&d||l._menu.contains(t.target)&&(t.type==="keyup"&&t.key===v_||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const m={relatedTarget:l._element};t.type==="click"&&(m.clickEvent=t),l._completeHide(m)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),o=t.key===UP,l=[VP,b_].includes(t.key);if(!l&&!o||e&&!o)return;t.preventDefault();const c=this.matches(Xo)?this:ht.prev(this,Xo)[0]||ht.next(this,Xo)[0]||ht.findOne(Xo,t.delegateTarget.parentNode),d=Xi.getOrCreateInstance(c);if(l){t.stopPropagation(),d.show(),d._selectMenuItem(t);return}d._isShown()&&(t.stopPropagation(),d.hide(),c.focus())}}q.on(document,Gb,Xo,Xi.dataApiKeydownHandler);q.on(document,Gb,vc,Xi.dataApiKeydownHandler);q.on(document,Kb,Xi.clearMenus);q.on(document,YP,Xi.clearMenus);q.on(document,Kb,Xo,function(n){n.preventDefault(),Xi.getOrCreateInstance(this).toggle()});di(Xi);const Yb="backdrop",gR="fade",y_="show",A_=`mousedown.bs.${Yb}`,_R={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vR={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Jb extends Zl{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return _R}static get DefaultType(){return vR}static get NAME(){return Yb}show(t){if(!this._config.isVisible){kn(t);return}this._append();const e=this._getElement();this._config.isAnimated&&ql(e),e.classList.add(y_),this._emulateAnimation(()=>{kn(t)})}hide(t){if(!this._config.isVisible){kn(t);return}this._getElement().classList.remove(y_),this._emulateAnimation(()=>{this.dispose(),kn(t)})}dispose(){this._isAppended&&(q.off(this._element,A_),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(gR),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=no(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),q.on(t,A_,()=>{kn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Mb(t,this._getElement(),this._config.isAnimated)}}const bR="focustrap",yR="bs.focustrap",Rc=`.${yR}`,AR=`focusin${Rc}`,wR=`keydown.tab${Rc}`,ER="Tab",xR="forward",w_="backward",TR={autofocus:!0,trapElement:null},CR={autofocus:"boolean",trapElement:"element"};class Xb extends Zl{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return TR}static get DefaultType(){return CR}static get NAME(){return bR}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),q.off(document,Rc),q.on(document,AR,t=>this._handleFocusin(t)),q.on(document,wR,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,q.off(document,Rc))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const o=ht.focusableChildren(e);o.length===0?e.focus():this._lastTabNavDirection===w_?o[o.length-1].focus():o[0].focus()}_handleKeydown(t){t.key===ER&&(this._lastTabNavDirection=t.shiftKey?w_:xR)}}const E_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",x_=".sticky-top",Xu="padding-right",T_="margin-right";class Pf{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Xu,e=>e+t),this._setElementAttributes(E_,Xu,e=>e+t),this._setElementAttributes(x_,T_,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Xu),this._resetElementAttributes(E_,Xu),this._resetElementAttributes(x_,T_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,o){const l=this.getWidth(),c=d=>{if(d!==this._element&&window.innerWidth>d.clientWidth+l)return;this._saveInitialAttribute(d,e);const m=window.getComputedStyle(d).getPropertyValue(e);d.style.setProperty(e,`${o(Number.parseFloat(m))}px`)};this._applyManipulationCallback(t,c)}_saveInitialAttribute(t,e){const o=t.style.getPropertyValue(e);o&&wr.setDataAttribute(t,e,o)}_resetElementAttributes(t,e){const o=l=>{const c=wr.getDataAttribute(l,e);if(c===null){l.style.removeProperty(e);return}wr.removeDataAttribute(l,e),l.style.setProperty(e,c)};this._applyManipulationCallback(t,o)}_applyManipulationCallback(t,e){if(Ar(t)){e(t);return}for(const o of ht.find(t,this._element))e(o)}}const SR="modal",LR="bs.modal",ci=`.${LR}`,OR=".data-api",PR="Escape",RR=`hide${ci}`,DR=`hidePrevented${ci}`,Qb=`hidden${ci}`,ty=`show${ci}`,IR=`shown${ci}`,NR=`resize${ci}`,kR=`click.dismiss${ci}`,MR=`mousedown.dismiss${ci}`,BR=`keydown.dismiss${ci}`,FR=`click${ci}${OR}`,C_="modal-open",zR="fade",S_="show",Rd="modal-static",WR=".modal.show",$R=".modal-dialog",HR=".modal-body",UR='[data-bs-toggle="modal"]',VR={backdrop:!0,focus:!0,keyboard:!0},jR={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ha extends Di{constructor(t,e){super(t,e),this._dialog=ht.findOne($R,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pf,this._addEventListeners()}static get Default(){return VR}static get DefaultType(){return jR}static get NAME(){return SR}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||q.trigger(this._element,ty,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(C_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||q.trigger(this._element,RR).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(S_),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){q.off(window,ci),q.off(this._dialog,ci),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Jb({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xb({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=ht.findOne(HR,this._dialog);e&&(e.scrollTop=0),ql(this._element),this._element.classList.add(S_);const o=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,q.trigger(this._element,IR,{relatedTarget:t})};this._queueCallback(o,this._dialog,this._isAnimated())}_addEventListeners(){q.on(this._element,BR,t=>{if(t.key===PR){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),q.on(window,NR,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),q.on(this._element,MR,t=>{q.one(this._element,kR,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(C_),this._resetAdjustments(),this._scrollBar.reset(),q.trigger(this._element,Qb)})}_isAnimated(){return this._element.classList.contains(zR)}_triggerBackdropTransition(){if(q.trigger(this._element,DR).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,o=this._element.style.overflowY;o==="hidden"||this._element.classList.contains(Rd)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Rd),this._queueCallback(()=>{this._element.classList.remove(Rd),this._queueCallback(()=>{this._element.style.overflowY=o},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),o=e>0;if(o&&!t){const l=ui()?"paddingLeft":"paddingRight";this._element.style[l]=`${e}px`}if(!o&&t){const l=ui()?"paddingRight":"paddingLeft";this._element.style[l]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const o=ha.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof o[t]>"u")throw new TypeError(`No method named "${t}"`);o[t](e)}})}}q.on(document,FR,UR,function(n){const t=ht.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),q.one(t,ty,l=>{l.defaultPrevented||q.one(t,Qb,()=>{ba(this)&&this.focus()})});const e=ht.findOne(WR);e&&ha.getInstance(e).hide(),ha.getOrCreateInstance(t).toggle(this)});Xc(ha);di(ha);const qR="offcanvas",ZR="bs.offcanvas",Tr=`.${ZR}`,ey=".data-api",KR=`load${Tr}${ey}`,GR="Escape",L_="show",O_="showing",P_="hiding",YR="offcanvas-backdrop",ny=".offcanvas.show",JR=`show${Tr}`,XR=`shown${Tr}`,QR=`hide${Tr}`,R_=`hidePrevented${Tr}`,iy=`hidden${Tr}`,t1=`resize${Tr}`,e1=`click${Tr}${ey}`,n1=`keydown.dismiss${Tr}`,i1='[data-bs-toggle="offcanvas"]',r1={backdrop:!0,keyboard:!0,scroll:!1},o1={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ro extends Di{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return r1}static get DefaultType(){return o1}static get NAME(){return qR}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||q.trigger(this._element,JR,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(O_);const o=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(L_),this._element.classList.remove(O_),q.trigger(this._element,XR,{relatedTarget:t})};this._queueCallback(o,this._element,!0)}hide(){if(!this._isShown||q.trigger(this._element,QR).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(P_),this._backdrop.hide();const e=()=>{this._element.classList.remove(L_,P_),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pf().reset(),q.trigger(this._element,iy)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){q.trigger(this._element,R_);return}this.hide()},e=!!this._config.backdrop;return new Jb({className:YR,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Xb({trapElement:this._element})}_addEventListeners(){q.on(this._element,n1,t=>{if(t.key===GR){if(this._config.keyboard){this.hide();return}q.trigger(this._element,R_)}})}static jQueryInterface(t){return this.each(function(){const e=ro.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}q.on(document,e1,i1,function(n){const t=ht.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),io(this))return;q.one(t,iy,()=>{ba(this)&&this.focus()});const e=ht.findOne(ny);e&&e!==t&&ro.getInstance(e).hide(),ro.getOrCreateInstance(t).toggle(this)});q.on(window,KR,()=>{for(const n of ht.find(ny))ro.getOrCreateInstance(n).show()});q.on(window,t1,()=>{for(const n of ht.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&ro.getOrCreateInstance(n).hide()});Xc(ro);di(ro);const s1=/^aria-[\w-]*$/i,ry={"*":["class","dir","id","lang","role",s1],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},a1=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),l1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,u1=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?a1.has(e)?!!l1.test(n.nodeValue):!0:t.filter(o=>o instanceof RegExp).some(o=>o.test(e))};function c1(n,t,e){if(!n.length)return n;if(e&&typeof e=="function")return e(n);const l=new window.DOMParser().parseFromString(n,"text/html"),c=[].concat(...l.body.querySelectorAll("*"));for(const d of c){const m=d.nodeName.toLowerCase();if(!Object.keys(t).includes(m)){d.remove();continue}const _=[].concat(...d.attributes),w=[].concat(t["*"]||[],t[m]||[]);for(const E of _)u1(E,w)||d.removeAttribute(E.nodeName)}return l.body.innerHTML}const h1="TemplateFactory",d1={allowList:ry,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},f1={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},p1={entry:"(string|element|function|null)",selector:"(string|element)"};class m1 extends Zl{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return d1}static get DefaultType(){return f1}static get NAME(){return h1}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[l,c]of Object.entries(this._config.content))this._setContent(t,c,l);const e=t.children[0],o=this._resolvePossibleFunction(this._config.extraClass);return o&&e.classList.add(...o.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,o]of Object.entries(t))super._typeCheckConfig({selector:e,entry:o},p1)}_setContent(t,e,o){const l=ht.findOne(o,t);if(l){if(e=this._resolvePossibleFunction(e),!e){l.remove();return}if(Ar(e)){this._putElementInTemplate(no(e),l);return}if(this._config.html){l.innerHTML=this._maybeSanitize(e);return}l.textContent=e}}_maybeSanitize(t){return this._config.sanitize?c1(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return kn(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const g1="tooltip",_1=new Set(["sanitize","allowList","sanitizeFn"]),Dd="fade",v1="modal",Qu="show",b1=".tooltip-inner",D_=`.${v1}`,I_="hide.bs.modal",ml="hover",Id="focus",y1="click",A1="manual",w1="hide",E1="hidden",x1="show",T1="shown",C1="inserted",S1="click",L1="focusin",O1="focusout",P1="mouseenter",R1="mouseleave",D1={AUTO:"auto",TOP:"top",RIGHT:ui()?"left":"right",BOTTOM:"bottom",LEFT:ui()?"right":"left"},I1={allowList:ry,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},N1={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Aa extends Di{constructor(t,e){if(typeof Rb>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return I1}static get DefaultType(){return N1}static get NAME(){return g1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),q.off(this._element.closest(D_),I_,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=q.trigger(this._element,this.constructor.eventName(x1)),o=(Nb(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!o)return;this._disposePopper();const l=this._getTipElement();this._element.setAttribute("aria-describedby",l.getAttribute("id"));const{container:c}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(c.append(l),q.trigger(this._element,this.constructor.eventName(C1))),this._popper=this._createPopper(l),l.classList.add(Qu),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))q.on(m,"mouseover",Oc);const d=()=>{q.trigger(this._element,this.constructor.eventName(T1)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(d,this.tip,this._isAnimated())}hide(){if(!this._isShown()||q.trigger(this._element,this.constructor.eventName(w1)).defaultPrevented)return;if(this._getTipElement().classList.remove(Qu),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))q.off(l,"mouseover",Oc);this._activeTrigger[y1]=!1,this._activeTrigger[Id]=!1,this._activeTrigger[ml]=!1,this._isHovered=null;const o=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),q.trigger(this._element,this.constructor.eventName(E1)))};this._queueCallback(o,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Dd,Qu),e.classList.add(`bs-${this.constructor.NAME}-auto`);const o=yO(this.constructor.NAME).toString();return e.setAttribute("id",o),this._isAnimated()&&e.classList.add(Dd),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new m1({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[b1]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Dd)}_isShown(){return this.tip&&this.tip.classList.contains(Qu)}_createPopper(t){const e=kn(this._config.placement,[this,t,this._element]),o=D1[e.toUpperCase()];return Cp(this._element,t,this._getPopperConfig(o))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return kn(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:o=>{this._getTipElement().setAttribute("data-popper-placement",o.state.placement)}}]};return{...e,...kn(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")q.on(this._element,this.constructor.eventName(S1),this._config.selector,o=>{this._initializeOnDelegatedTarget(o).toggle()});else if(e!==A1){const o=e===ml?this.constructor.eventName(P1):this.constructor.eventName(L1),l=e===ml?this.constructor.eventName(R1):this.constructor.eventName(O1);q.on(this._element,o,this._config.selector,c=>{const d=this._initializeOnDelegatedTarget(c);d._activeTrigger[c.type==="focusin"?Id:ml]=!0,d._enter()}),q.on(this._element,l,this._config.selector,c=>{const d=this._initializeOnDelegatedTarget(c);d._activeTrigger[c.type==="focusout"?Id:ml]=d._element.contains(c.relatedTarget),d._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},q.on(this._element.closest(D_),I_,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=wr.getDataAttributes(this._element);for(const o of Object.keys(e))_1.has(o)&&delete e[o];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:no(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,o]of Object.entries(this._config))this.constructor.Default[e]!==o&&(t[e]=o);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Aa.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}di(Aa);const k1="popover",M1=".popover-header",B1=".popover-body",F1={...Aa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},z1={...Aa.DefaultType,content:"(null|string|element|function)"};class Pp extends Aa{static get Default(){return F1}static get DefaultType(){return z1}static get NAME(){return k1}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[M1]:this._getTitle(),[B1]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=Pp.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}di(Pp);const W1="scrollspy",$1="bs.scrollspy",Rp=`.${$1}`,H1=".data-api",U1=`activate${Rp}`,N_=`click${Rp}`,V1=`load${Rp}${H1}`,j1="dropdown-item",Js="active",q1='[data-bs-spy="scroll"]',Nd="[href]",Z1=".nav, .list-group",k_=".nav-link",K1=".nav-item",G1=".list-group-item",Y1=`${k_}, ${K1} > ${k_}, ${G1}`,J1=".dropdown",X1=".dropdown-toggle",Q1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},tD={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class eh extends Di{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Q1}static get DefaultType(){return tD}static get NAME(){return W1}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=no(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(q.off(this._config.target,N_),q.on(this._config.target,N_,Nd,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const o=this._rootElement||window,l=e.offsetTop-this._element.offsetTop;if(o.scrollTo){o.scrollTo({top:l,behavior:"smooth"});return}o.scrollTop=l}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=d=>this._targetLinks.get(`#${d.target.id}`),o=d=>{this._previousScrollData.visibleEntryTop=d.target.offsetTop,this._process(e(d))},l=(this._rootElement||document.documentElement).scrollTop,c=l>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=l;for(const d of t){if(!d.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(d));continue}const m=d.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(c&&m){if(o(d),!l)return;continue}!c&&!m&&o(d)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ht.find(Nd,this._config.target);for(const e of t){if(!e.hash||io(e))continue;const o=ht.findOne(decodeURI(e.hash),this._element);ba(o)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,o))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Js),this._activateParents(t),q.trigger(this._element,U1,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(j1)){ht.findOne(X1,t.closest(J1)).classList.add(Js);return}for(const e of ht.parents(t,Z1))for(const o of ht.prev(e,Y1))o.classList.add(Js)}_clearActiveClass(t){t.classList.remove(Js);const e=ht.find(`${Nd}.${Js}`,t);for(const o of e)o.classList.remove(Js)}static jQueryInterface(t){return this.each(function(){const e=eh.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}q.on(window,V1,()=>{for(const n of ht.find(q1))eh.getOrCreateInstance(n)});di(eh);const eD="tab",nD="bs.tab",_s=`.${nD}`,iD=`hide${_s}`,rD=`hidden${_s}`,oD=`show${_s}`,sD=`shown${_s}`,aD=`click${_s}`,lD=`keydown${_s}`,uD=`load${_s}`,cD="ArrowLeft",M_="ArrowRight",hD="ArrowUp",B_="ArrowDown",kd="Home",F_="End",Qo="active",z_="fade",Md="show",dD="dropdown",oy=".dropdown-toggle",fD=".dropdown-menu",Bd=`:not(${oy})`,pD='.list-group, .nav, [role="tablist"]',mD=".nav-item, .list-group-item",gD=`.nav-link${Bd}, .list-group-item${Bd}, [role="tab"]${Bd}`,sy='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Fd=`${gD}, ${sy}`,_D=`.${Qo}[data-bs-toggle="tab"], .${Qo}[data-bs-toggle="pill"], .${Qo}[data-bs-toggle="list"]`;class da extends Di{constructor(t){super(t),this._parent=this._element.closest(pD),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),q.on(this._element,lD,e=>this._keydown(e)))}static get NAME(){return eD}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),o=e?q.trigger(e,iD,{relatedTarget:t}):null;q.trigger(t,oD,{relatedTarget:e}).defaultPrevented||o&&o.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Qo),this._activate(ht.getElementFromSelector(t));const o=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Md);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),q.trigger(t,sD,{relatedTarget:e})};this._queueCallback(o,t,t.classList.contains(z_))}_deactivate(t,e){if(!t)return;t.classList.remove(Qo),t.blur(),this._deactivate(ht.getElementFromSelector(t));const o=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Md);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),q.trigger(t,rD,{relatedTarget:e})};this._queueCallback(o,t,t.classList.contains(z_))}_keydown(t){if(![cD,M_,hD,B_,kd,F_].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(l=>!io(l));let o;if([kd,F_].includes(t.key))o=e[t.key===kd?0:e.length-1];else{const l=[M_,B_].includes(t.key);o=Sp(e,t.target,l,!0)}o&&(o.focus({preventScroll:!0}),da.getOrCreateInstance(o).show())}_getChildren(){return ht.find(Fd,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const o of e)this._setInitialAttributesOnChild(o)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),o=this._getOuterElement(t);t.setAttribute("aria-selected",e),o!==t&&this._setAttributeIfNotExists(o,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=ht.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const o=this._getOuterElement(t);if(!o.classList.contains(dD))return;const l=(c,d)=>{const m=ht.findOne(c,o);m&&m.classList.toggle(d,e)};l(oy,Qo),l(fD,Md),o.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,o){t.hasAttribute(e)||t.setAttribute(e,o)}_elemIsActive(t){return t.classList.contains(Qo)}_getInnerElement(t){return t.matches(Fd)?t:ht.findOne(Fd,t)}_getOuterElement(t){return t.closest(mD)||t}static jQueryInterface(t){return this.each(function(){const e=da.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}q.on(document,aD,sy,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!io(this)&&da.getOrCreateInstance(this).show()});q.on(window,uD,()=>{for(const n of ht.find(_D))da.getOrCreateInstance(n)});di(da);const vD="toast",bD="bs.toast",ho=`.${bD}`,yD=`mouseover${ho}`,AD=`mouseout${ho}`,wD=`focusin${ho}`,ED=`focusout${ho}`,xD=`hide${ho}`,TD=`hidden${ho}`,CD=`show${ho}`,SD=`shown${ho}`,LD="fade",W_="hide",tc="show",ec="showing",OD={animation:"boolean",autohide:"boolean",delay:"number"},PD={animation:!0,autohide:!0,delay:5e3};class nh extends Di{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return PD}static get DefaultType(){return OD}static get NAME(){return vD}show(){if(q.trigger(this._element,CD).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(LD);const e=()=>{this._element.classList.remove(ec),q.trigger(this._element,SD),this._maybeScheduleHide()};this._element.classList.remove(W_),ql(this._element),this._element.classList.add(tc,ec),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||q.trigger(this._element,xD).defaultPrevented)return;const e=()=>{this._element.classList.add(W_),this._element.classList.remove(ec,tc),q.trigger(this._element,TD)};this._element.classList.add(ec),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tc),super.dispose()}isShown(){return this._element.classList.contains(tc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const o=t.relatedTarget;this._element===o||this._element.contains(o)||this._maybeScheduleHide()}_setListeners(){q.on(this._element,yD,t=>this._onInteraction(t,!0)),q.on(this._element,AD,t=>this._onInteraction(t,!1)),q.on(this._element,wD,t=>this._onInteraction(t,!0)),q.on(this._element,ED,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=nh.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Xc(nh);di(nh);var RD="2.1.13";const is="[data-trix-attachment]",Dp={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},yn={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return $_(n.parentNode)===yn[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return $_(n.parentNode)===yn[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},$_=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},H_=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),zd=H_&&parseInt(H_[1]);var Yl={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:zd&&zd>12,samsungAndroid:zd&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},ay={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},xt={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const DD=[xt.bytes,xt.KB,xt.MB,xt.GB,xt.TB,xt.PB];var ly={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(xt.bytes);case 1:return"1 ".concat(xt.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const e=Math.floor(Math.log(n)/Math.log(t)),o=(n/Math.pow(t,e)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(o," ").concat(DD[e])}}};const ih="\uFEFF",eo=" ",uy=function(n){for(const t in n){const e=n[t];this[t]=e}return this},Ip=document.documentElement,ID=Ip.matches,_e=function(n){let{onElement:t,matchingSelector:e,withCallback:o,inPhase:l,preventDefault:c,times:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const m=t||Ip,_=e,w=l==="capturing",E=function(P){d!=null&&--d==0&&E.destroy();const M=oo(P.target,{matchingSelector:_});M!=null&&(o==null||o.call(M,P,M),c&&P.preventDefault())};return E.destroy=()=>m.removeEventListener(n,E,w),m.addEventListener(n,E,w),E},Pl=function(n){let{onElement:t,bubbles:e,cancelable:o,attributes:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=t??Ip;e=e!==!1,o=o!==!1;const d=document.createEvent("Events");return d.initEvent(n,e,o),l!=null&&uy.call(d,l),c.dispatchEvent(d)},cy=function(n,t){if((n==null?void 0:n.nodeType)===1)return ID.call(n,t)},oo=function(n){let{matchingSelector:t,untilNode:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(t==null)return n;if(n.closest&&e==null)return n.closest(t);for(;n&&n!==e;){if(cy(n,t))return n;n=n.parentNode}}},Np=n=>document.activeElement!==n&&ts(n,document.activeElement),ts=function(n,t){if(n&&t)for(;t;){if(t===n)return!0;t=t.parentNode}},Wd=function(n){var t;if((t=n)===null||t===void 0||!t.parentNode)return;let e=0;for(n=n.previousSibling;n;)e++,n=n.previousSibling;return e},so=n=>{var t;return n==null||(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)},Dc=function(n){let{onlyNodesOfType:t,usingFilter:e,expandEntityReferences:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,l,e??null,o===!0)},bn=n=>{var t;return n==null||(t=n.tagName)===null||t===void 0?void 0:t.toLowerCase()},Nt=function(n){let t,e,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(o=n,n=o.tagName):o={attributes:o};const l=document.createElement(n);if(o.editable!=null&&(o.attributes==null&&(o.attributes={}),o.attributes.contenteditable=o.editable),o.attributes)for(t in o.attributes)e=o.attributes[t],l.setAttribute(t,e);if(o.style)for(t in o.style)e=o.style[t],l.style[t]=e;if(o.data)for(t in o.data)e=o.data[t],l.dataset[t]=e;return o.className&&o.className.split(" ").forEach(c=>{l.classList.add(c)}),o.textContent&&(l.textContent=o.textContent),o.childNodes&&[].concat(o.childNodes).forEach(c=>{l.appendChild(c)}),l};let gl;const Rl=function(){if(gl!=null)return gl;gl=[];for(const n in yn){const t=yn[n];t.tagName&&gl.push(t.tagName)}return gl},$d=n=>ra(n==null?void 0:n.firstChild),U_=function(n){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?ra(n):ra(n)||!ra(n.firstChild)&&function(e){return Rl().includes(bn(e))&&!Rl().includes(bn(e.firstChild))}(n)},ra=n=>ND(n)&&(n==null?void 0:n.data)==="block",ND=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,oa=function(n){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return Dl(n)?n.data===ih?!t||n.parentNode.dataset.trixCursorTarget===t:void 0:oa(n.firstChild)},rs=n=>cy(n,is),hy=n=>Dl(n)&&(n==null?void 0:n.data)==="",Dl=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,kp={level2Enabled:!0,getLevel(){return this.level2Enabled&&Yl.supportsInputEvents?2:0},pickFiles(n){const t=Nt("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{n(t.files),so(t)}),so(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var bc={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},ds={bold:{tagName:"strong",inheritable:!0,parser(n){const t=window.getComputedStyle(n);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const t="a:not(".concat(is,")"),e=n.closest(t);if(e)return e.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},dy={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(xt.bold,'" tabindex="-1">').concat(xt.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(xt.italic,'" tabindex="-1">').concat(xt.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(xt.strike,'" tabindex="-1">').concat(xt.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(xt.link,'" tabindex="-1">').concat(xt.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(xt.heading1,'" tabindex="-1">').concat(xt.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(xt.quote,'" tabindex="-1">').concat(xt.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(xt.code,'" tabindex="-1">').concat(xt.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(xt.bullets,'" tabindex="-1">').concat(xt.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(xt.numbers,'" tabindex="-1">').concat(xt.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(xt.outdent,'" tabindex="-1">').concat(xt.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(xt.indent,'" tabindex="-1">').concat(xt.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(xt.attachFiles,'" tabindex="-1">').concat(xt.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(xt.undo,'" tabindex="-1">').concat(xt.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(xt.redo,'" tabindex="-1">').concat(xt.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(xt.urlPlaceholder,'" aria-label="').concat(xt.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(xt.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(xt.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Rf={interval:5e3};var Jl=Object.freeze({__proto__:null,attachments:Dp,blockAttributes:yn,browser:Yl,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:ay,fileSize:ly,input:kp,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:xt,parser:bc,textAttributes:ds,toolbar:dy,undo:Rf});class Re{static proxyMethod(t){const{name:e,toMethod:o,toProperty:l,optional:c}=kD(t);this.prototype[e]=function(){let d,m;var _,w;return o?m=c?(_=this[o])===null||_===void 0?void 0:_.call(this):this[o]():l&&(m=this[l]),c?(d=(w=m)===null||w===void 0?void 0:w[e],d?V_.call(d,m,arguments):void 0):(d=m[e],V_.call(d,m,arguments))}}}const kD=function(n){const t=n.match(MD);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(n));const e={name:t[4]};return t[2]!=null?e.toMethod=t[1]:e.toProperty=t[1],t[3]!=null&&(e.optional=!0),e},{apply:V_}=Function.prototype,MD=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Hd,Ud,Vd;class $l extends Re{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,Df(t))}static fromCodepoints(t){return new this(If(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return If(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return Df(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const BD=((Hd=Array.from)===null||Hd===void 0?void 0:Hd.call(Array,"👼").length)===1,FD=((Ud=" ".codePointAt)===null||Ud===void 0?void 0:Ud.call(" ",0))!=null,zD=((Vd=String.fromCodePoint)===null||Vd===void 0?void 0:Vd.call(String,32,128124))===" 👼";let Df,If;Df=BD&&FD?n=>Array.from(n).map(t=>t.codePointAt(0)):function(n){const t=[];let e=0;const{length:o}=n;for(;e<o;){let l=n.charCodeAt(e++);if(55296<=l&&l<=56319&&e<o){const c=n.charCodeAt(e++);(64512&c)==56320?l=((1023&l)<<10)+(1023&c)+65536:e--}t.push(l)}return t},If=zD?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const t=[];return Array.from(n).forEach(e=>{let o="";e>65535&&(e-=65536,o+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t.push(o+String.fromCharCode(e))}),t})().join("")};let WD=0;class vs extends Re{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++WD}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const o in e){const l=e[o];t.push("".concat(o,"=").concat(l))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return $l.box(this)}getCacheKey(){return this.id.toString()}}const fs=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0},Mp=function(n){const t=n.slice(0);for(var e=arguments.length,o=new Array(e>1?e-1:0),l=1;l<e;l++)o[l-1]=arguments[l];return t.splice(...o),t},$D=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,HD=function(){const n=Nt("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=Nt("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),e=Nt("form");e.appendChild(n),e.appendChild(t);const o=function(){try{return new FormData(e).has(t.dirName)}catch{return!1}}(),l=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return o?function(c){return t.value=c,new FormData(e).get(t.dirName)}:l?function(c){return n.value=c,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(c){const d=c.trim().charAt(0);return $D.test(d)?"rtl":"ltr"}}();let jd=null,qd=null,Zd=null,nc=null;const Nf=()=>(jd||(jd=VD().concat(UD())),jd),Le=n=>yn[n],UD=()=>(qd||(qd=Object.keys(yn)),qd),kf=n=>ds[n],VD=()=>(Zd||(Zd=Object.keys(ds)),Zd),fy=function(n,t){jD(n).textContent=t.replace(/%t/g,n)},jD=function(n){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",n.toLowerCase());const e=qD();return e&&t.setAttribute("nonce",e),document.head.insertBefore(t,document.head.firstChild),t},qD=function(){const n=j_("trix-csp-nonce")||j_("csp-nonce");if(n){const{nonce:t,content:e}=n;return t==""?e:t}},j_=n=>document.head.querySelector("meta[name=".concat(n,"]")),q_={"application/x-trix-feature-detection":"test"},py=function(n){const t=n.getData("text/plain"),e=n.getData("text/html");if(!t||!e)return t==null?void 0:t.length;{const{body:o}=new DOMParser().parseFromString(e,"text/html");if(o.textContent===t)return!o.querySelector("*")}},my=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,Bp=n=>setTimeout(n,1),gy=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const e in n){const o=n[e];t[e]=o}return t},wa=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0},Yt=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[Z_(n[0]),Z_(n[1]!=null?n[1]:n[0])]},yr=function(n){if(n==null)return;const[t,e]=Yt(n);return Mf(t,e)},Ic=function(n,t){if(n==null||t==null)return;const[e,o]=Yt(n),[l,c]=Yt(t);return Mf(e,l)&&Mf(o,c)},Z_=function(n){return typeof n=="number"?n:gy(n)},Mf=function(n,t){return typeof n=="number"?n===t:wa(n,t)};class _y extends Re{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(e=>e!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const ps=new _y,vy=function(){const n=window.getSelection();if(n.rangeCount>0)return n},Il=function(){var n;const t=(n=vy())===null||n===void 0?void 0:n.getRangeAt(0);if(t&&!ZD(t))return t},by=function(n){const t=window.getSelection();return t.removeAllRanges(),t.addRange(n),ps.update()},ZD=n=>K_(n.startContainer)||K_(n.endContainer),K_=n=>!Object.getPrototypeOf(n),Cl=n=>n.replace(new RegExp("".concat(ih),"g"),"").replace(new RegExp("".concat(eo),"g")," "),Fp=new RegExp("[^\\S".concat(eo,"]")),zp=n=>n.replace(new RegExp("".concat(Fp.source),"g")," ").replace(/\ {2,}/g," "),G_=function(n,t){if(n.isEqualTo(t))return["",""];const e=Kd(n,t),{length:o}=e.utf16String;let l;if(o){const{offset:c}=e,d=n.codepoints.slice(0,c).concat(n.codepoints.slice(c+o));l=Kd(t,$l.fromCodepoints(d))}else l=Kd(t,n);return[e.utf16String.toString(),l.utf16String.toString()]},Kd=function(n,t){let e=0,o=n.length,l=t.length;for(;e<o&&n.charAt(e).isEqualTo(t.charAt(e));)e++;for(;o>e+1&&n.charAt(o-1).isEqualTo(t.charAt(l-1));)o--,l--;return{utf16String:n.slice(e,o),offset:e}};class qn extends vs{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let e=_l(t[0]),o=e.getKeys();return t.slice(1).forEach(l=>{o=e.getKeysCommonToHash(_l(l)),e=e.slice(o)}),e}static box(t){return _l(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=yc(t)}add(t,e){return this.merge(KD(t,e))}remove(t){return new qn(yc(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new qn(GD(this.values,YD(t)))}slice(t){const e={};return Array.from(t).forEach(o=>{this.has(o)&&(e[o]=this.values[o])}),new qn(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=_l(t),this.getKeys().filter(e=>this.values[e]===t.values[e])}isEqualTo(t){return fs(this.toArray(),_l(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const e in this.values){const o=this.values[e];t.push(t.push(e,o))}this.array=t.slice(0)}return this.array}toObject(){return yc(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const KD=function(n,t){const e={};return e[n]=t,e},GD=function(n,t){const e=yc(n);for(const o in t){const l=t[o];e[o]=l}return e},yc=function(n,t){const e={};return Object.keys(n).sort().forEach(o=>{o!==t&&(e[o]=n[o])}),e},_l=function(n){return n instanceof qn?n:new qn(n)},YD=function(n){return n instanceof qn?n.values:n};class Wp{static groupObjects(){let t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:o,asTree:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l&&o==null&&(o=0);const c=[];return Array.from(e).forEach(d=>{var m;if(t){var _,w,E;if((_=d.canBeGrouped)!==null&&_!==void 0&&_.call(d,o)&&(w=(E=t[t.length-1]).canBeGroupedWith)!==null&&w!==void 0&&w.call(E,d,o))return void t.push(d);c.push(new this(t,{depth:o,asTree:l})),t=null}(m=d.canBeGrouped)!==null&&m!==void 0&&m.call(d,o)?t=[d]:c.push(d)}),t&&c.push(new this(t,{depth:o,asTree:l})),c}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:e,asTree:o}=arguments.length>1?arguments[1]:void 0;this.objects=t,o&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:o,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(e=>{t.push(e.getCacheKey())}),t.join("/")}}class JD extends Re{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(e=>{const o=JSON.stringify(e);this.objects[o]==null&&(this.objects[o]=e)})}find(t){const e=JSON.stringify(t);return this.objects[e]}}class XD{constructor(t){this.reset(t)}add(t){const e=Y_(t);this.elements[e]=t}remove(t){const e=Y_(t),o=this.elements[e];if(o)return delete this.elements[e],o}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(e=>{this.add(e)}),t}}const Y_=n=>n.dataset.trixStoreKey;class Nc extends Re{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,e)=>(this.performing=!0,this.perform((o,l)=>{this.succeeded=o,this.performing=!1,this.performed=!0,this.succeeded?t(l):e(l)})))),this.promise}perform(t){return t(!1)}release(){var t,e;(t=this.promise)===null||t===void 0||(e=t.cancel)===null||e===void 0||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}Nc.proxyMethod("getPromise().then"),Nc.proxyMethod("getPromise().catch");class bs extends Re{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var e;return(e=this.findViewForObject(t))===null||e===void 0?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,o){let l=this.getCachedViewForObject(e);return l?this.recordChildView(l):(l=this.createChildView(...arguments),this.cacheViewForObject(l,e)),l}createChildView(t,e){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e instanceof Wp&&(o.viewClass=t,t=QD);const l=new t(e,o);return this.recordChildView(l)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(e=>{t.push(e),t=t.concat(e.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=t==null?void 0:t.id;if(e)return this.rootView.element.querySelector("[data-trix-id='".concat(e,"']"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return(e=this.getViewCache())===null||e===void 0?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const o=this.getViewCache();o&&(o[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map(o=>o.object.getCacheKey());for(const o in t)e.includes(o)||delete t[o]}}}class QD extends bs{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(e=>{Array.from(e.getNodes()).forEach(o=>{t.appendChild(o)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:yy,setPrototypeOf:J_,isFrozen:tI,getPrototypeOf:eI,getOwnPropertyDescriptor:nI}=Object;let{freeze:Tn,seal:hi,create:Ay}=Object,{apply:Bf,construct:Ff}=typeof Reflect<"u"&&Reflect;Tn||(Tn=function(n){return n}),hi||(hi=function(n){return n}),Bf||(Bf=function(n,t,e){return n.apply(t,e)}),Ff||(Ff=function(n,t){return new n(...t)});const ic=Yn(Array.prototype.forEach),X_=Yn(Array.prototype.pop),vl=Yn(Array.prototype.push),Ac=Yn(String.prototype.toLowerCase),Gd=Yn(String.prototype.toString),Q_=Yn(String.prototype.match),bl=Yn(String.prototype.replace),iI=Yn(String.prototype.indexOf),rI=Yn(String.prototype.trim),Si=Yn(Object.prototype.hasOwnProperty),vn=Yn(RegExp.prototype.test),yl=(tv=TypeError,function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return Ff(tv,t)});var tv;function Yn(n){return function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),l=1;l<e;l++)o[l-1]=arguments[l];return Bf(n,t,o)}}function Mt(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ac;J_&&J_(n,null);let o=t.length;for(;o--;){let l=t[o];if(typeof l=="string"){const c=e(l);c!==l&&(tI(t)||(t[o]=c),l=c)}n[l]=!0}return n}function oI(n){for(let t=0;t<n.length;t++)Si(n,t)||(n[t]=null);return n}function Ko(n){const t=Ay(null);for(const[e,o]of yy(n))Si(n,e)&&(Array.isArray(o)?t[e]=oI(o):o&&typeof o=="object"&&o.constructor===Object?t[e]=Ko(o):t[e]=o);return t}function Al(n,t){for(;n!==null;){const e=nI(n,t);if(e){if(e.get)return Yn(e.get);if(typeof e.value=="function")return Yn(e.value)}n=eI(n)}return function(){return null}}const ev=Tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yd=Tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jd=Tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sI=Tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xd=Tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),aI=Tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nv=Tn(["#text"]),iv=Tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qd=Tn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rv=Tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rc=Tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),lI=hi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uI=hi(/<%[\w\W]*|[\w\W]*%>/gm),cI=hi(/\$\{[\w\W]*}/gm),hI=hi(/^data-[\-\w.\u00B7-\uFFFF]+$/),dI=hi(/^aria-[\-\w]+$/),wy=hi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fI=hi(/^(?:\w+script|data):/i),pI=hi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ey=hi(/^html$/i),mI=hi(/^[a-z][.\w]*(-[.\w]+)+$/i);var ov=Object.freeze({__proto__:null,ARIA_ATTR:dI,ATTR_WHITESPACE:pI,CUSTOM_ELEMENT:mI,DATA_ATTR:hI,DOCTYPE_NAME:Ey,ERB_EXPR:uI,IS_ALLOWED_URI:wy,IS_SCRIPT_OR_DATA:fI,MUSTACHE_EXPR:lI,TMPLIT_EXPR:cI});const gI=1,_I=3,vI=7,bI=8,yI=9,AI=function(){return typeof window>"u"?null:window};var kc=function n(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AI();const e=C=>n(C);if(e.version="3.2.3",e.removed=[],!t||!t.document||t.document.nodeType!==yI)return e.isSupported=!1,e;let{document:o}=t;const l=o,c=l.currentScript,{DocumentFragment:d,HTMLTemplateElement:m,Node:_,Element:w,NodeFilter:E,NamedNodeMap:P=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:U,trustedTypes:W}=t,F=w.prototype,I=Al(F,"cloneNode"),Z=Al(F,"remove"),X=Al(F,"nextSibling"),Y=Al(F,"childNodes"),G=Al(F,"parentNode");if(typeof m=="function"){const C=o.createElement("template");C.content&&C.content.ownerDocument&&(o=C.content.ownerDocument)}let K,it="";const{implementation:ct,createNodeIterator:Ft,createDocumentFragment:qt,getElementsByTagName:Jt}=o,{importNode:zt}=l;let Ot={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};e.isSupported=typeof yy=="function"&&typeof G=="function"&&ct&&ct.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:fe,ERB_EXPR:ue,TMPLIT_EXPR:nn,DATA_ATTR:Zt,ARIA_ATTR:Qt,IS_SCRIPT_OR_DATA:at,ATTR_WHITESPACE:rn,CUSTOM_ELEMENT:lt}=ov;let{IS_ALLOWED_URI:Ct}=ov,St=null;const ce=Mt({},[...ev,...Yd,...Jd,...Xd,...nv]);let mt=null;const gt=Mt({},[...iv,...Qd,...rv,...rc]);let nt=Object.seal(Ay(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,ee=null,on=!0,fi=!0,sn=!1,an=!0,je=!1,Ie=!0,Be=!1,pi=!1,Oe=!1,qe=!1,Ni=!1,Ee=!1,pe=!0,Cn=!1,Sn=!0,Mn=!1,We={},ln=null;const Ln=Mt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let un=null;const Cr=Mt({},["audio","video","img","source","image","track"]);let ki=null;const tr=Mt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mi="http://www.w3.org/1998/Math/MathML",mi="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xhtml";let Bn=$e,er=!1,Fn=null;const Oa=Mt({},[Mi,mi,$e],Gd);let Sr=Mt({},["mi","mo","mn","ms","mtext"]),nr=Mt({},["annotation-xml"]);const po=Mt({},["title","style","font","a","script"]);let gi=null;const Pa=["application/xhtml+xml","text/html"];let ye=null,Bi=null;const Ra=o.createElement("form"),mo=function(C){return C instanceof RegExp||C instanceof Function},go=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Bi||Bi!==C){if(C&&typeof C=="object"||(C={}),C=Ko(C),gi=Pa.indexOf(C.PARSER_MEDIA_TYPE)===-1?"text/html":C.PARSER_MEDIA_TYPE,ye=gi==="application/xhtml+xml"?Gd:Ac,St=Si(C,"ALLOWED_TAGS")?Mt({},C.ALLOWED_TAGS,ye):ce,mt=Si(C,"ALLOWED_ATTR")?Mt({},C.ALLOWED_ATTR,ye):gt,Fn=Si(C,"ALLOWED_NAMESPACES")?Mt({},C.ALLOWED_NAMESPACES,Gd):Oa,ki=Si(C,"ADD_URI_SAFE_ATTR")?Mt(Ko(tr),C.ADD_URI_SAFE_ATTR,ye):tr,un=Si(C,"ADD_DATA_URI_TAGS")?Mt(Ko(Cr),C.ADD_DATA_URI_TAGS,ye):Cr,ln=Si(C,"FORBID_CONTENTS")?Mt({},C.FORBID_CONTENTS,ye):Ln,be=Si(C,"FORBID_TAGS")?Mt({},C.FORBID_TAGS,ye):{},ee=Si(C,"FORBID_ATTR")?Mt({},C.FORBID_ATTR,ye):{},We=!!Si(C,"USE_PROFILES")&&C.USE_PROFILES,on=C.ALLOW_ARIA_ATTR!==!1,fi=C.ALLOW_DATA_ATTR!==!1,sn=C.ALLOW_UNKNOWN_PROTOCOLS||!1,an=C.ALLOW_SELF_CLOSE_IN_ATTR!==!1,je=C.SAFE_FOR_TEMPLATES||!1,Ie=C.SAFE_FOR_XML!==!1,Be=C.WHOLE_DOCUMENT||!1,qe=C.RETURN_DOM||!1,Ni=C.RETURN_DOM_FRAGMENT||!1,Ee=C.RETURN_TRUSTED_TYPE||!1,Oe=C.FORCE_BODY||!1,pe=C.SANITIZE_DOM!==!1,Cn=C.SANITIZE_NAMED_PROPS||!1,Sn=C.KEEP_CONTENT!==!1,Mn=C.IN_PLACE||!1,Ct=C.ALLOWED_URI_REGEXP||wy,Bn=C.NAMESPACE||$e,Sr=C.MATHML_TEXT_INTEGRATION_POINTS||Sr,nr=C.HTML_INTEGRATION_POINTS||nr,nt=C.CUSTOM_ELEMENT_HANDLING||{},C.CUSTOM_ELEMENT_HANDLING&&mo(C.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(nt.tagNameCheck=C.CUSTOM_ELEMENT_HANDLING.tagNameCheck),C.CUSTOM_ELEMENT_HANDLING&&mo(C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(nt.attributeNameCheck=C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),C.CUSTOM_ELEMENT_HANDLING&&typeof C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(nt.allowCustomizedBuiltInElements=C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),je&&(fi=!1),Ni&&(qe=!0),We&&(St=Mt({},nv),mt=[],We.html===!0&&(Mt(St,ev),Mt(mt,iv)),We.svg===!0&&(Mt(St,Yd),Mt(mt,Qd),Mt(mt,rc)),We.svgFilters===!0&&(Mt(St,Jd),Mt(mt,Qd),Mt(mt,rc)),We.mathMl===!0&&(Mt(St,Xd),Mt(mt,rv),Mt(mt,rc))),C.ADD_TAGS&&(St===ce&&(St=Ko(St)),Mt(St,C.ADD_TAGS,ye)),C.ADD_ATTR&&(mt===gt&&(mt=Ko(mt)),Mt(mt,C.ADD_ATTR,ye)),C.ADD_URI_SAFE_ATTR&&Mt(ki,C.ADD_URI_SAFE_ATTR,ye),C.FORBID_CONTENTS&&(ln===Ln&&(ln=Ko(ln)),Mt(ln,C.FORBID_CONTENTS,ye)),Sn&&(St["#text"]=!0),Be&&Mt(St,["html","head","body"]),St.table&&(Mt(St,["tbody"]),delete be.tbody),C.TRUSTED_TYPES_POLICY){if(typeof C.TRUSTED_TYPES_POLICY.createHTML!="function")throw yl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof C.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw yl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');K=C.TRUSTED_TYPES_POLICY,it=K.createHTML("")}else K===void 0&&(K=function(rt,J){if(typeof rt!="object"||typeof rt.createPolicy!="function")return null;let Rt=null;const Wt="data-tt-policy-suffix";J&&J.hasAttribute(Wt)&&(Rt=J.getAttribute(Wt));const wt="dompurify"+(Rt?"#"+Rt:"");try{return rt.createPolicy(wt,{createHTML:ne=>ne,createScriptURL:ne=>ne})}catch{return console.warn("TrustedTypes policy "+wt+" could not be created."),null}}(W,c)),K!==null&&typeof it=="string"&&(it=K.createHTML(""));Tn&&Tn(C),Bi=C}},Lr=Mt({},[...Yd,...Jd,...sI]),ws=Mt({},[...Xd,...aI]),Ze=function(C){vl(e.removed,{element:C});try{G(C).removeChild(C)}catch{Z(C)}},Or=function(C,rt){try{vl(e.removed,{attribute:rt.getAttributeNode(C),from:rt})}catch{vl(e.removed,{attribute:null,from:rt})}if(rt.removeAttribute(C),C==="is")if(qe||Ni)try{Ze(rt)}catch{}else try{rt.setAttribute(C,"")}catch{}},Pr=function(C){let rt=null,J=null;if(Oe)C="<remove></remove>"+C;else{const wt=Q_(C,/^[\r\n\t ]+/);J=wt&&wt[0]}gi==="application/xhtml+xml"&&Bn===$e&&(C='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+C+"</body></html>");const Rt=K?K.createHTML(C):C;if(Bn===$e)try{rt=new U().parseFromString(Rt,gi)}catch{}if(!rt||!rt.documentElement){rt=ct.createDocument(Bn,"template",null);try{rt.documentElement.innerHTML=er?it:Rt}catch{}}const Wt=rt.body||rt.documentElement;return C&&J&&Wt.insertBefore(o.createTextNode(J),Wt.childNodes[0]||null),Bn===$e?Jt.call(rt,Be?"html":"body")[0]:Be?rt.documentElement:Wt},cn=function(C){return Ft.call(C.ownerDocument||C,C,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},ot=function(C){return C instanceof M&&(typeof C.nodeName!="string"||typeof C.textContent!="string"||typeof C.removeChild!="function"||!(C.attributes instanceof P)||typeof C.removeAttribute!="function"||typeof C.setAttribute!="function"||typeof C.namespaceURI!="string"||typeof C.insertBefore!="function"||typeof C.hasChildNodes!="function")},_o=function(C){return typeof _=="function"&&C instanceof _};function On(C,rt,J){ic(C,Rt=>{Rt.call(e,rt,J,Bi)})}const vo=function(C){let rt=null;if(On(Ot.beforeSanitizeElements,C,null),ot(C))return Ze(C),!0;const J=ye(C.nodeName);if(On(Ot.uponSanitizeElement,C,{tagName:J,allowedTags:St}),C.hasChildNodes()&&!_o(C.firstElementChild)&&vn(/<[/\w]/g,C.innerHTML)&&vn(/<[/\w]/g,C.textContent)||C.nodeType===vI||Ie&&C.nodeType===bI&&vn(/<[/\w]/g,C.data))return Ze(C),!0;if(!St[J]||be[J]){if(!be[J]&&Rr(J)&&(nt.tagNameCheck instanceof RegExp&&vn(nt.tagNameCheck,J)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(J)))return!1;if(Sn&&!ln[J]){const Rt=G(C)||C.parentNode,Wt=Y(C)||C.childNodes;if(Wt&&Rt)for(let wt=Wt.length-1;wt>=0;--wt){const ne=I(Wt[wt],!0);ne.__removalCount=(C.__removalCount||0)+1,Rt.insertBefore(ne,X(C))}}return Ze(C),!0}return C instanceof w&&!function(Rt){let Wt=G(Rt);Wt&&Wt.tagName||(Wt={namespaceURI:Bn,tagName:"template"});const wt=Ac(Rt.tagName),ne=Ac(Wt.tagName);return!!Fn[Rt.namespaceURI]&&(Rt.namespaceURI===mi?Wt.namespaceURI===$e?wt==="svg":Wt.namespaceURI===Mi?wt==="svg"&&(ne==="annotation-xml"||Sr[ne]):!!Lr[wt]:Rt.namespaceURI===Mi?Wt.namespaceURI===$e?wt==="math":Wt.namespaceURI===mi?wt==="math"&&nr[ne]:!!ws[wt]:Rt.namespaceURI===$e?!(Wt.namespaceURI===mi&&!nr[ne])&&!(Wt.namespaceURI===Mi&&!Sr[ne])&&!ws[wt]&&(po[wt]||!Lr[wt]):!(gi!=="application/xhtml+xml"||!Fn[Rt.namespaceURI]))}(C)?(Ze(C),!0):J!=="noscript"&&J!=="noembed"&&J!=="noframes"||!vn(/<\/no(script|embed|frames)/i,C.innerHTML)?(je&&C.nodeType===_I&&(rt=C.textContent,ic([fe,ue,nn],Rt=>{rt=bl(rt,Rt," ")}),C.textContent!==rt&&(vl(e.removed,{element:C.cloneNode()}),C.textContent=rt)),On(Ot.afterSanitizeElements,C,null),!1):(Ze(C),!0)},bo=function(C,rt,J){if(pe&&(rt==="id"||rt==="name")&&(J in o||J in Ra))return!1;if(!(fi&&!ee[rt]&&vn(Zt,rt))){if(!(on&&vn(Qt,rt))){if(!mt[rt]||ee[rt]){if(!(Rr(C)&&(nt.tagNameCheck instanceof RegExp&&vn(nt.tagNameCheck,C)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(C))&&(nt.attributeNameCheck instanceof RegExp&&vn(nt.attributeNameCheck,rt)||nt.attributeNameCheck instanceof Function&&nt.attributeNameCheck(rt))||rt==="is"&&nt.allowCustomizedBuiltInElements&&(nt.tagNameCheck instanceof RegExp&&vn(nt.tagNameCheck,J)||nt.tagNameCheck instanceof Function&&nt.tagNameCheck(J))))return!1}else if(!ki[rt]){if(!vn(Ct,bl(J,rn,""))){if((rt!=="src"&&rt!=="xlink:href"&&rt!=="href"||C==="script"||iI(J,"data:")!==0||!un[C])&&!(sn&&!vn(at,bl(J,rn,"")))){if(J)return!1}}}}}return!0},Rr=function(C){return C!=="annotation-xml"&&Q_(C,lt)},yo=function(C){On(Ot.beforeSanitizeAttributes,C,null);const{attributes:rt}=C;if(!rt||ot(C))return;const J={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:mt,forceKeepAttr:void 0};let Rt=rt.length;for(;Rt--;){const Wt=rt[Rt],{name:wt,namespaceURI:ne,value:Ke}=Wt,He=ye(wt);let Ne=wt==="value"?Ke:rI(Ke);if(J.attrName=He,J.attrValue=Ne,J.keepAttr=!0,J.forceKeepAttr=void 0,On(Ot.uponSanitizeAttribute,C,J),Ne=J.attrValue,!Cn||He!=="id"&&He!=="name"||(Or(wt,C),Ne="user-content-"+Ne),Ie&&vn(/((--!?|])>)|<\/(style|title)/i,Ne)){Or(wt,C);continue}if(J.forceKeepAttr||(Or(wt,C),!J.keepAttr))continue;if(!an&&vn(/\/>/i,Ne)){Or(wt,C);continue}je&&ic([fe,ue,nn],xs=>{Ne=bl(Ne,xs," ")});const Es=ye(C.nodeName);if(bo(Es,He,Ne)){if(K&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!ne)switch(W.getAttributeType(Es,He)){case"TrustedHTML":Ne=K.createHTML(Ne);break;case"TrustedScriptURL":Ne=K.createScriptURL(Ne)}try{ne?C.setAttributeNS(ne,wt,Ne):C.setAttribute(wt,Ne),ot(C)?Ze(C):X_(e.removed)}catch{}}}On(Ot.afterSanitizeAttributes,C,null)},_i=function C(rt){let J=null;const Rt=cn(rt);for(On(Ot.beforeSanitizeShadowDOM,rt,null);J=Rt.nextNode();)On(Ot.uponSanitizeShadowNode,J,null),vo(J),yo(J),J.content instanceof d&&C(J.content);On(Ot.afterSanitizeShadowDOM,rt,null)};return e.sanitize=function(C){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,Rt=null,Wt=null,wt=null;if(er=!C,er&&(C="<!-->"),typeof C!="string"&&!_o(C)){if(typeof C.toString!="function")throw yl("toString is not a function");if(typeof(C=C.toString())!="string")throw yl("dirty is not a string, aborting")}if(!e.isSupported)return C;if(pi||go(rt),e.removed=[],typeof C=="string"&&(Mn=!1),Mn){if(C.nodeName){const He=ye(C.nodeName);if(!St[He]||be[He])throw yl("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof _)J=Pr("<!---->"),Rt=J.ownerDocument.importNode(C,!0),Rt.nodeType===gI&&Rt.nodeName==="BODY"||Rt.nodeName==="HTML"?J=Rt:J.appendChild(Rt);else{if(!qe&&!je&&!Be&&C.indexOf("<")===-1)return K&&Ee?K.createHTML(C):C;if(J=Pr(C),!J)return qe?null:Ee?it:""}J&&Oe&&Ze(J.firstChild);const ne=cn(Mn?C:J);for(;Wt=ne.nextNode();)vo(Wt),yo(Wt),Wt.content instanceof d&&_i(Wt.content);if(Mn)return C;if(qe){if(Ni)for(wt=qt.call(J.ownerDocument);J.firstChild;)wt.appendChild(J.firstChild);else wt=J;return(mt.shadowroot||mt.shadowrootmode)&&(wt=zt.call(l,wt,!0)),wt}let Ke=Be?J.outerHTML:J.innerHTML;return Be&&St["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&vn(Ey,J.ownerDocument.doctype.name)&&(Ke="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+Ke),je&&ic([fe,ue,nn],He=>{Ke=bl(Ke,He," ")}),K&&Ee?K.createHTML(Ke):Ke},e.setConfig=function(){go(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),pi=!0},e.clearConfig=function(){Bi=null,pi=!1},e.isValidAttribute=function(C,rt,J){Bi||go({});const Rt=ye(C),Wt=ye(rt);return bo(Rt,Wt,J)},e.addHook=function(C,rt){typeof rt=="function"&&vl(Ot[C],rt)},e.removeHook=function(C){return X_(Ot[C])},e.removeHooks=function(C){Ot[C]=[]},e.removeAllHooks=function(){Ot={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},e}();kc.addHook("uponSanitizeAttribute",function(n,t){/^data-trix-/.test(t.attrName)&&(t.forceKeepAttr=!0)});const wI="style href src width height language class".split(" "),EI="javascript:".split(" "),xI="script iframe form noscript".split(" ");class rh extends Re{static setHTML(t,e){const o=new this(e).sanitize(),l=o.getHTML?o.getHTML():o.outerHTML;t.innerHTML=l}static sanitize(t,e){const o=new this(t,e);return o.sanitize(),o}constructor(t){let{allowedAttributes:e,forbiddenProtocols:o,forbiddenElements:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=e||wI,this.forbiddenProtocols=o||EI,this.forbiddenElements=l||xI,this.body=TI(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting(),kc.setConfig(ay),this.body=kc.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=Dc(this.body),e=[];for(;t.nextNode();){const o=t.currentNode;switch(o.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(o)?e.push(o):this.sanitizeElement(o);break;case Node.COMMENT_NODE:e.push(o)}}return e.forEach(o=>so(o)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(e=>{let{name:o}=e;this.allowedAttributes.includes(o)||o.indexOf("data-trix")===0||t.removeAttribute(o)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const e=t.previousElementSibling;e&&bn(e)==="li"&&e.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(bn(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!rs(t)}}const TI=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=n,Array.from(t.head.querySelectorAll("style")).forEach(e=>{t.body.appendChild(e)}),t.body},{css:Jr}=Jl;class $p extends bs{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=Nt({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),o=this.getHref();return o&&(t=Nt({tagName:"a",editable:!1,attributes:{href:o,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?rh.setHTML(t,this.attachment.getContent()):this.createContentNodes().forEach(l=>{t.appendChild(l)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Nt({tagName:"progress",attributes:{class:Jr.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),e.appendChild(this.progressElement)),[sv("left"),e,sv("right")]}createCaptionElement(){const t=Nt({tagName:"figcaption",className:Jr.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add("".concat(Jr.attachmentCaption,"--edited")),t.textContent=e;else{let o,l;const c=this.getCaptionConfig();if(c.name&&(o=this.attachment.getFilename()),c.size&&(l=this.attachment.getFormattedFilesize()),o){const d=Nt({tagName:"span",className:Jr.attachmentName,textContent:o});t.appendChild(d)}if(l){o&&t.appendChild(document.createTextNode(" "));const d=Nt({tagName:"span",className:Jr.attachmentSize,textContent:l});t.appendChild(d)}}return t}getClassName(){const t=[Jr.attachment,"".concat(Jr.attachment,"--").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push("".concat(Jr.attachment,"--").concat(e)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!CI(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),o=gy((t=Dp[e])===null||t===void 0?void 0:t.caption);return e==="file"&&(o.name=!0),o}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}}const sv=n=>Nt({tagName:"span",textContent:ih,data:{trixCursorTarget:n,trixSerialize:!1}}),CI=function(n,t){const e=Nt("div");return rh.setHTML(e,n||""),e.querySelector(t)};class xy extends $p{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Nt({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",xt.captionPlaceholder),t}refresh(t){var e;if(t||(t=(e=this.findElement())===null||e===void 0?void 0:e.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),o=this.attachment.getPreviewURL();if(t.src=o||e,o===e)t.removeAttribute("data-trix-serialized-attributes");else{const m=JSON.stringify({src:e});t.setAttribute("data-trix-serialized-attributes",m)}const l=this.attachment.getWidth(),c=this.attachment.getHeight();l!=null&&(t.width=l),c!=null&&(t.height=c);const d=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=d}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class Ty extends bs{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const o=function(l){for(;(c=l)!==null&&c!==void 0&&c.firstElementChild;){var c;l=l.firstElementChild}return l}(e);Array.from(t).forEach(l=>{o.appendChild(l)}),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?xy:$p;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const e=[],o=this.string.split(`
`);for(let l=0;l<o.length;l++){const c=o[l];if(l>0){const d=Nt("br");e.push(d)}if(c.length){const d=document.createTextNode(this.preserveSpaces(c));e.push(d)}}return e}}createElement(){let t,e,o;const l={};for(e in this.attributes){o=this.attributes[e];const d=kf(e);if(d){if(d.tagName){var c;const m=Nt(d.tagName);c?(c.appendChild(m),c=m):t=c=m}if(d.styleProperty&&(l[d.styleProperty]=o),d.style)for(e in d.style)o=d.style[e],l[e]=o}}if(Object.keys(l).length)for(e in t||(t=Nt("span")),l)o=l[e],t.style[e]=o;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],o=kf(t);if(o&&o.groupTagName){const l={};return l[t]=e,Nt(o.groupTagName,l)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,eo)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(eo," $2")).replace(/\ {2}/g,"".concat(eo," ")).replace(/\ {2}/g," ".concat(eo)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,eo)),t}}class Cy extends bs{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=Wp.groupObjects(this.getPieces()),o=e.length-1;for(let c=0;c<e.length;c++){const d=e[c],m={};c===0&&(m.isFirst=!0),c===o&&(m.isLast=!0),SI(l)&&(m.followsWhitespace=!0);const _=this.findOrCreateCachedChildView(Ty,d,{textConfig:this.textConfig,context:m});t.push(...Array.from(_.getNodes()||[]));var l=d}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const SI=n=>/\s$/.test(n==null?void 0:n.toString()),{css:av}=Jl;class Sy extends bs{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(Nt("br"));else{var e;const o=(e=Le(this.block.getLastAttribute()))===null||e===void 0?void 0:e.text,l=this.findOrCreateCachedChildView(Cy,this.block.text,{textConfig:o});t.push(...Array.from(l.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(Nt("br"))}if(this.attributes.length)return t;{let o;const{tagName:l}=yn.default;this.block.isRTL()&&(o={dir:"rtl"});const c=Nt({tagName:l,attributes:o});return t.forEach(d=>c.appendChild(d)),[c]}}createContainerElement(t){const e={};let o;const l=this.attributes[t],{tagName:c,htmlAttributes:d=[]}=Le(l);if(t===0&&this.block.isRTL()&&Object.assign(e,{dir:"rtl"}),l==="attachmentGallery"){const m=this.block.getBlockBreakPosition();o="".concat(av.attachmentGallery," ").concat(av.attachmentGallery,"--").concat(m)}return Object.entries(this.block.htmlAttributes).forEach(m=>{let[_,w]=m;d.includes(_)&&(e[_]=w)}),Nt({tagName:c,className:o,attributes:e})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class oh extends bs{static render(t){const e=Nt("div"),o=new this(t,{element:e});return o.render(),o.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new XD,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=Nt("div"),!this.document.isEmpty()){const t=Wp.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(e=>{const o=this.findOrCreateCachedChildView(Sy,e);Array.from(o.getNodes()).map(l=>this.shadowElement.appendChild(l))})}}isSynced(){return LI(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(lv(this.element)),Bp(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(e=>{t.appendChild(e.cloneNode(!0))}),Array.from(lv(t)).forEach(e=>{const o=this.elementStore.remove(e);o&&e.parentNode.replaceChild(o,e)}),t}}const lv=n=>n.querySelectorAll("[data-trix-store-key]"),LI=(n,t)=>uv(n.innerHTML)===uv(t.innerHTML),uv=n=>n.replace(/&nbsp;/g," ");function En(n,t,e){return(t=OI(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function OI(n){var t=function(e,o){if(typeof e!="object"||e===null)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var c=l.call(e,o||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(n,"string");return typeof t=="symbol"?t:String(t)}function se(n,t){return PI(n,Ly(n,t,"get"))}function Hp(n,t,e){return RI(n,Ly(n,t,"set"),e),e}function Ly(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function PI(n,t){return t.get?t.get.call(n):t.value}function RI(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}function oc(n,t,e){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return e}function Oy(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nl(n,t,e){Oy(n,t),t.set(n,e)}class ys extends vs{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=qn.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}En(ys,"types",{});class Py extends Nc{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}}class Ea extends vs{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new qn({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=qn.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this.attributes.merge(t);var o,l,c,d;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),(o=this.previewDelegate)===null||o===void 0||(l=o.attachmentDidChangeAttributes)===null||l===void 0||l.call(o,this),(c=this.delegate)===null||c===void 0||(d=c.attachmentDidChangeAttributes)===null||d===void 0?void 0:d.call(c,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Ea.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?ly.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var e,o;if(this.uploadProgress!==t)return this.uploadProgress=t,(e=this.uploadProgressDelegate)===null||e===void 0||(o=e.attachmentDidChangeUploadProgress)===null||o===void 0?void 0:o.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,o,l,c;if(t!==this.getPreviewURL())return this.previewURL=t,(e=this.previewDelegate)===null||e===void 0||(o=e.attachmentDidChangeAttributes)===null||o===void 0||o.call(e,this),(l=this.delegate)===null||l===void 0||(c=l.attachmentDidChangePreviewURL)===null||c===void 0?void 0:c.call(l,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new Py(t).then(o=>{let{width:l,height:c}=o;return this.getWidth()&&this.getHeight()||this.setAttributes({width:l,height:c}),this.preloadingURL=null,this.setPreviewURL(t),e==null?void 0:e()}).catch(()=>(this.preloadingURL=null,e==null?void 0:e()))}}En(Ea,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class fa extends ys{static fromJSON(t){return new this(Ea.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(fa.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(t==null||(e=t.attachment)===null||e===void 0?void 0:e.id)}toString(){return"￼"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}En(fa,"permittedAttributes",["caption","presentation"]),ys.registerType("attachment",fa);class Up extends ys{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(e=>e.replace(/\r\n?/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,o;return t===0?(e=null,o=this):t===this.length?(e=this,o=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),o=new this.constructor(this.string.slice(t),this.attributes)),[e,o]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"…"),JSON.stringify(t.toString())}}ys.registerType("string",Up);class Mc extends vs{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return new this.constructor(Mp(this.objects,...e))}eachObject(t){return this.objects.map((e,o)=>t(e,o))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[o,l]=this.splitObjectAtPosition(e);return new this.constructor(o).insertSplittableListAtIndex(t,l)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,o,l]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(o,l+1))}selectSplittableList(t){const e=this.objects.filter(o=>t(o));return new this.constructor(e)}removeObjectsInRange(t){const[e,o,l]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(o,l-o+1)}transformObjectsInRange(t,e){const[o,l,c]=this.splitObjectsAtRange(t),d=o.map((m,_)=>l<=_&&_<=c?e(m):m);return new this.constructor(d)}splitObjectsAtRange(t){let e,[o,l,c]=this.splitObjectAtPosition(II(t));return[o,e]=new this.constructor(o).splitObjectAtPosition(NI(t)+c),[o,l,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,o;const{index:l,offset:c}=this.findIndexAndOffsetAtPosition(t),d=this.objects.slice(0);if(l!=null)if(c===0)e=l,o=0;else{const m=this.getObjectAtIndex(l),[_,w]=m.splitAtOffset(c);d.splice(l,1,_,w),e=l+1,o=_.getLength()-c}else e=d.length,o=0;return[d,e,o]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach(o=>{var l,c;(l=(c=e).canBeConsolidatedWith)!==null&&l!==void 0&&l.call(c,o)?e=e.consolidateWith(o):(t.push(e),e=o)}),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const o=this.objects.slice(0).slice(t,e+1),l=new this.constructor(o).consolidate().toArray();return this.splice(t,o.length,...l)}findIndexAndOffsetAtPosition(t){let e,o=0;for(e=0;e<this.objects.length;e++){const l=o+this.objects[e].getLength();if(o<=t&&t<l)return{index:e,offset:t-o};o=l}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let o=0;for(let l=0;l<this.objects.length;l++){const c=this.objects[l];if(l<t)o+=c.getLength();else if(l===t){o+=e;break}}return o}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||DI(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const DI=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==t.length)return!1;let e=!0;for(let o=0;o<n.length;o++){const l=n[o];e&&!l.isEqualTo(t[o])&&(e=!1)}return e},II=n=>n[0],NI=n=>n[1];class Li extends vs{static textForAttachmentWithAttributes(t,e){return new this([new fa(t,e)])}static textForStringWithAttributes(t,e){return new this([new Up(t,e)])}static fromJSON(t){return new this(Array.from(t).map(e=>ys.fromJSON(e)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const e=t.filter(o=>!o.isEmpty());this.pieceList=new Mc(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map(o=>t.find(o)||o);return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const o=this.getTextAtRange(t),l=o.getLength();return t[0]<e&&(e-=l),this.removeTextAtRange(t).insertTextAtPosition(o,e)}addAttributeAtRange(t,e,o){const l={};return l[t]=e,this.addAttributesAtRange(l,o)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,o=>o.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,o=>o.copyWithoutAttribute(t)))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,o=>o.copyWithAttributes(t)))}getAttributesAtPosition(t){var e;return((e=this.pieceList.getObjectAtPosition(t))===null||e===void 0?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(e=>e.getAttributes());return qn.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let o,l=o=e;const c=this.getLength();for(;l>0&&this.getCommonAttributesAtRange([l-1,o])[t];)l--;for(;o<c&&this.getCommonAttributesAtRange([e,o+1])[t];)o++;return[l,o]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let e=0;for(const l of this.pieceList.toArray()){var o;if(((o=l.attachment)===null||o===void 0?void 0:o.id)===t)return{attachment:l.attachment,position:e};e+=l.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),o=e.position;if(t=e.attachment)return[o,o+1]}updateAttributesForAttachment(t,e){const o=this.getRangeOfAttachment(e);return o?this.addAttributesAtRange(t,o):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var e;return super.isEqualTo(t)||(t==null||(e=t.pieceList)===null||e===void 0?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(e=>e.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return HD(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Yi extends vs{static fromJSON(t){return new this(Li.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,e,o){super(...arguments),this.text=kI(t||new Li),this.attributes=e||[],this.htmlAttributes=o||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&fs(this.attributes,t==null?void 0:t.attributes)&&wa(this.htmlAttributes,t==null?void 0:t.htmlAttributes)}copyWithText(t){return new Yi(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new Yi(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(cv(t));return this.copyWithAttributes(e)}addHTMLAttribute(t,e){const o=Object.assign({},this.htmlAttributes,{[t]:e});return new Yi(this.text,this.attributes,o)}removeAttribute(t){const{listAttribute:e}=Le(t),o=dv(dv(this.attributes,t),e);return this.copyWithAttributes(o)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return hv(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return hv(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>Le(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),o=Mp(this.attributes,e+1,0,...cv(t));return this.copyWithAttributes(o)}return this}getListItemAttributes(){return this.attributes.filter(t=>Le(t).listAttribute)}isListItem(){var t;return(t=Le(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=Le(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=Le(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const o=this.toString();let l;switch(t){case"forward":l=o.indexOf(`
`,e);break;case"backward":l=o.slice(0,e).lastIndexOf(`
`)}if(l!==-1)return l}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=Li.textForStringWithAttributes(`
`),o=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(o.appendText(t.text))}splitAtOffset(t){let e,o;return t===0?(e=null,o=this):t===this.getLength()?(e=this,o=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),o=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,o]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Ry(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const o=t.getAttributes(),l=o[e],c=this.attributes[e];return c===l&&!(Le(c).group===!1&&!(()=>{if(!nc){nc=[];for(const d in yn){const{listAttribute:m}=yn[d];m!=null&&nc.push(m)}}return nc})().includes(o[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const kI=function(n){return n=MI(n),n=FI(n)},MI=function(n){let t=!1;const e=n.getPieces();let o=e.slice(0,e.length-1);const l=e[e.length-1];return l?(o=o.map(c=>c.isBlockBreak()?(t=!0,zI(c)):c),t?new Li([...o,l]):n):n},BI=Li.textForStringWithAttributes(`
`,{blockBreak:!0}),FI=function(n){return Ry(n)?n:n.appendText(BI)},Ry=function(n){const t=n.getLength();return t===0?!1:n.getTextAtRange([t-1,t]).isBlockBreak()},zI=n=>n.copyWithoutAttribute("blockBreak"),cv=function(n){const{listAttribute:t}=Le(n);return t?[t,n]:[n]},hv=n=>n.slice(-1)[0],dv=function(n,t){const e=n.lastIndexOf(t);return e===-1?n:Mp(n,e,1)};let si=class extends vs{static fromJSON(t){return new this(Array.from(t).map(e=>Yi.fromJSON(e)))}static fromString(t,e){const o=Li.textForStringWithAttributes(t,e);return new this([new Yi(o)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new Yi]),this.blockList=Mc.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new JD(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map(o=>t.find(o)||o.copyUsingObjectMap(t));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.getBlocks().map(o=>{const l=t.concat(o.getAttributes());return o.copyWithAttributes(l)});return new this.constructor(e)}replaceBlock(t,e){const o=this.blockList.indexOf(t);return o===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,o))}insertDocumentAtRange(t,e){const{blockList:o}=t;e=Yt(e);let[l]=e;const{index:c,offset:d}=this.locationFromPosition(l);let m=this;const _=this.getBlockAtPosition(l);return yr(e)&&_.isEmpty()&&!_.hasAttributes()?m=new this.constructor(m.blockList.removeObjectAtIndex(c)):_.getBlockBreakPosition()===d&&l++,m=m.removeTextAtRange(e),new this.constructor(m.blockList.insertSplittableListAtPosition(o,l))}mergeDocumentAtRange(t,e){let o,l;e=Yt(e);const[c]=e,d=this.locationFromPosition(c),m=this.getBlockAtIndex(d.index).getAttributes(),_=t.getBaseBlockAttributes(),w=m.slice(-_.length);if(fs(_,w)){const M=m.slice(0,-_.length);o=t.copyWithBaseBlockAttributes(M)}else o=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(m);const E=o.getBlockCount(),P=o.getBlockAtIndex(0);if(fs(m,P.getAttributes())){const M=P.getTextWithoutBlockBreak();if(l=this.insertTextAtRange(M,e),E>1){o=new this.constructor(o.getBlocks().slice(1));const U=c+M.getLength();l=l.insertDocumentAtRange(o,U)}}else l=this.insertDocumentAtRange(o,e);return l}insertTextAtRange(t,e){e=Yt(e);const[o]=e,{index:l,offset:c}=this.locationFromPosition(o),d=this.removeTextAtRange(e);return new this.constructor(d.blockList.editObjectAtIndex(l,m=>m.copyWithText(m.text.insertTextAtPosition(t,c))))}removeTextAtRange(t){let e;t=Yt(t);const[o,l]=t;if(yr(t))return this;const[c,d]=Array.from(this.locationRangeFromRange(t)),m=c.index,_=c.offset,w=this.getBlockAtIndex(m),E=d.index,P=d.offset,M=this.getBlockAtIndex(E);if(l-o==1&&w.getBlockBreakPosition()===_&&M.getBlockBreakPosition()!==P&&M.text.getStringAtPosition(P)===`
`)e=this.blockList.editObjectAtIndex(E,U=>U.copyWithText(U.text.removeTextAtRange([P,P+1])));else{let U;const W=w.text.getTextAtRange([0,_]),F=M.text.getTextAtRange([P,M.getLength()]),I=W.appendText(F);U=m!==E&&_===0&&w.getAttributeLevel()>=M.getAttributeLevel()?M.copyWithText(I):w.copyWithText(I);const Z=E+1-m;e=this.blockList.splice(m,Z,U)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let o;t=Yt(t);const[l,c]=t;if(l<=e&&e<=c)return this;let d=this.getDocumentAtRange(t),m=this.removeTextAtRange(t);const _=l<e;_&&(e-=d.getLength());const[w,...E]=d.getBlocks();return E.length===0?(o=w.getTextWithoutBlockBreak(),_&&(e+=1)):o=w.text,m=m.insertTextAtRange(o,e),E.length===0?m:(d=new this.constructor(E),e+=o.getLength(),m.insertDocumentAtRange(d,e))}addAttributeAtRange(t,e,o){let{blockList:l}=this;return this.eachBlockAtRange(o,(c,d,m)=>l=l.editObjectAtIndex(m,function(){return Le(t)?c.addAttribute(t,e):d[0]===d[1]?c:c.copyWithText(c.text.addAttributeAtRange(t,e,d))})),new this.constructor(l)}addAttribute(t,e){let{blockList:o}=this;return this.eachBlock((l,c)=>o=o.editObjectAtIndex(c,()=>l.addAttribute(t,e))),new this.constructor(o)}removeAttributeAtRange(t,e){let{blockList:o}=this;return this.eachBlockAtRange(e,function(l,c,d){Le(t)?o=o.editObjectAtIndex(d,()=>l.removeAttribute(t)):c[0]!==c[1]&&(o=o.editObjectAtIndex(d,()=>l.copyWithText(l.text.removeAttributeAtRange(t,c))))}),new this.constructor(o)}updateAttributesForAttachment(t,e){const o=this.getRangeOfAttachment(e),[l]=Array.from(o),{index:c}=this.locationFromPosition(l),d=this.getTextAtIndex(c);return new this.constructor(this.blockList.editObjectAtIndex(c,m=>m.copyWithText(d.updateAttributesForAttachment(t,e))))}removeAttributeForAttachment(t,e){const o=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,o)}setHTMLAttributeAtPosition(t,e,o){const l=this.getBlockAtPosition(t),c=l.addHTMLAttribute(e,o);return this.replaceBlock(l,c)}insertBlockBreakAtRange(t){let e;t=Yt(t);const[o]=t,{offset:l}=this.locationFromPosition(o),c=this.removeTextAtRange(t);return l===0&&(e=[new Yi]),new this.constructor(c.blockList.insertSplittableListAtPosition(new Mc(e),o))}applyBlockAttributeAtRange(t,e,o){const l=this.expandRangeToLineBreaksAndSplitBlocks(o);let c=l.document;o=l.range;const d=Le(t);if(d.listAttribute){c=c.removeLastListAttributeAtRange(o,{exceptAttributeName:t});const m=c.convertLineBreaksToBlockBreaksInRange(o);c=m.document,o=m.range}else c=d.exclusive?c.removeBlockAttributesAtRange(o):d.terminal?c.removeLastTerminalAttributeAtRange(o):c.consolidateBlocksAtRange(o);return c.addAttributeAtRange(t,e,o)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:o}=this;return this.eachBlockAtRange(t,function(l,c,d){const m=l.getLastAttribute();m&&Le(m).listAttribute&&m!==e.exceptAttributeName&&(o=o.editObjectAtIndex(d,()=>l.removeAttribute(m)))}),new this.constructor(o)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(o,l,c){const d=o.getLastAttribute();d&&Le(d).terminal&&(e=e.editObjectAtIndex(c,()=>o.removeAttribute(d)))}),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,function(o,l,c){o.hasAttributes()&&(e=e.editObjectAtIndex(c,()=>o.copyWithoutAttributes()))}),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=Yt(t);let[o,l]=t;const c=this.locationFromPosition(o),d=this.locationFromPosition(l);let m=this;const _=m.getBlockAtIndex(c.index);if(c.offset=_.findLineBreakInDirectionFromPosition("backward",c.offset),c.offset!=null&&(e=m.positionFromLocation(c),m=m.insertBlockBreakAtRange([e,e+1]),d.index+=1,d.offset-=m.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,d.offset===0&&d.index>c.index)d.index-=1,d.offset=m.getBlockAtIndex(d.index).getBlockBreakPosition();else{const w=m.getBlockAtIndex(d.index);w.text.getStringAtRange([d.offset-1,d.offset])===`
`?d.offset-=1:d.offset=w.findLineBreakInDirectionFromPosition("forward",d.offset),d.offset!==w.getBlockBreakPosition()&&(e=m.positionFromLocation(d),m=m.insertBlockBreakAtRange([e,e+1]))}return o=m.positionFromLocation(c),l=m.positionFromLocation(d),{document:m,range:t=Yt([o,l])}}convertLineBreaksToBlockBreaksInRange(t){t=Yt(t);let[e]=t;const o=this.getStringAtRange(t).slice(0,-1);let l=this;return o.replace(/.*?\n/g,function(c){e+=c.length,l=l.insertBlockBreakAtRange([e-1,e])}),{document:l,range:t}}consolidateBlocksAtRange(t){t=Yt(t);const[e,o]=t,l=this.locationFromPosition(e).index,c=this.locationFromPosition(o).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(l,c))}getDocumentAtRange(t){t=Yt(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const o=t=Yt(t);return o[o.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return(e=this.getBlockAtIndex(t))===null||e===void 0?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:o}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(o)}getCharacterAtPosition(t){const{index:e,offset:o}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([o,o+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let o,l;t=Yt(t);const[c,d]=t,m=this.locationFromPosition(c),_=this.locationFromPosition(d);if(m.index===_.index)return o=this.getBlockAtIndex(m.index),l=[m.offset,_.offset],e(o,l,m.index);for(let w=m.index;w<=_.index;w++)if(o=this.getBlockAtIndex(w),o){switch(w){case m.index:l=[m.offset,o.text.getLength()];break;case _.index:l=[0,_.offset];break;default:l=[0,o.text.getLength()]}e(o,l,w)}}getCommonAttributesAtRange(t){t=Yt(t);const[e]=t;if(yr(t))return this.getCommonAttributesAtPosition(e);{const o=[],l=[];return this.eachBlockAtRange(t,function(c,d){if(d[0]!==d[1])return o.push(c.text.getCommonAttributesAtRange(d)),l.push(fv(c))}),qn.fromCommonAttributesOfObjects(o).merge(qn.fromCommonAttributesOfObjects(l)).toObject()}}getCommonAttributesAtPosition(t){let e,o;const{index:l,offset:c}=this.locationFromPosition(t),d=this.getBlockAtIndex(l);if(!d)return{};const m=fv(d),_=d.text.getAttributesAtPosition(c),w=d.text.getAttributesAtPosition(c-1),E=Object.keys(ds).filter(P=>ds[P].inheritable);for(e in w)o=w[e],(o===_[e]||E.includes(e))&&(m[e]=o);return m}getRangeOfCommonAttributeAtPosition(t,e){const{index:o,offset:l}=this.locationFromPosition(e),c=this.getTextAtIndex(o),[d,m]=Array.from(c.getExpandedRangeForAttributeAtOffset(t,l)),_=this.positionFromLocation({index:o,offset:d}),w=this.positionFromLocation({index:o,offset:m});return Yt([_,w])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const o=this.getBlockAtIndex(e).getAttributes(),l=Math.min(t.length,o.length);t=(()=>{const c=[];for(let d=0;d<l&&o[d]===t[d];d++)c.push(o[d]);return c})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject(e=>{let{text:o}=e;return t=t.concat(o.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let e=0;const o=this.blockList.toArray();for(let l=0;l<o.length;l++){const{text:c}=o[l],d=c.getRangeOfAttachment(t);if(d)return Yt([e+d[0],e+d[1]]);e+=c.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const o=[];return this.getBlocks().forEach(l=>{const c=l.getLength();l.hasAttribute(t)&&o.push([e,e+c]),e+=c}),o}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=0,l=[];const c=[];return this.getPieces().forEach(d=>{const m=d.getLength();(function(_){return e?_.getAttribute(t)===e:_.hasAttribute(t)})(d)&&(l[1]===o?l[1]=o+m:c.push(l=[o,o+m])),o+=m}),c}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(e.index!=null)return e;{const o=this.getBlocks();return{index:o.length-1,offset:o[o.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return Yt(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=Yt(t)))return;const[e,o]=Array.from(t),l=this.locationFromPosition(e),c=this.locationFromPosition(o);return Yt([l,c])}rangeFromLocationRange(t){let e;t=Yt(t);const o=this.positionFromLocation(t[0]);return yr(t)||(e=this.positionFromLocation(t[1])),Yt([o,e])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(e=>{t.push(...Array.from(e.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(e=>t.push(e.copyWithText(e.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(t=>JSON.parse(t.text.toConsole())))}};const fv=function(n){const t={},e=n.getLastAttribute();return e&&(t[e]=!0),t},tf=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:n=Cl(n),attributes:t,type:"string"}},pv=(n,t)=>{try{return JSON.parse(n.getAttribute("data-trix-".concat(t)))}catch{return{}}};class Hl extends Re{static parse(t,e){const o=new this(t,e);return o.parse(),o}constructor(t){let{referenceElement:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return si.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),rh.setHTML(this.containerElement,this.html);const t=Dc(this.containerElement,{usingFilter:$I});for(;t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Nt({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return so(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(e===this.containerElement||this.isBlockElement(e)){var o;const l=this.getBlockAttributes(e),c=this.getBlockHTMLAttributes(e);fs(l,(o=this.currentBlock)===null||o===void 0?void 0:o.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(l,e,c),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),o=ts(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const l=this.getBlockAttributes(t),c=this.getBlockHTMLAttributes(t);if(t.firstChild){if(o&&fs(l,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(l,t,c),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!o&&!e){const l=this.findParentBlockElement(t);if(l)return this.appendBlockForElement(l);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var o;return mv(t.parentNode)||(e=zp(e),Dy((o=t.previousSibling)===null||o===void 0?void 0:o.textContent)&&(e=HI(e))),this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(rs(t)){if(e=pv(t,"attachment"),Object.keys(e).length){const o=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,o),t.innerHTML=""}return this.processedElements.push(t)}switch(bn(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":e={url:t.getAttribute("src"),contentType:"image"};const o=(l=>{const c=l.getAttribute("width"),d=l.getAttribute("height"),m={};return c&&(m.width=parseInt(c,10)),d&&(m.height=parseInt(d,10)),m})(t);for(const l in o){const c=o[l];e[l]=c}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(bc.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(bc.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(e);const l=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(t,o);return this.blocks.push(l),l}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(tf(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(o){return{attachment:o,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,e))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:o}=this.blocks[e],l=o[o.length-1];if((l==null?void 0:l.type)!=="string")return o.push(tf(t));l.string+=t}prependStringToTextAtIndex(t,e){const{text:o}=this.blocks[e],l=o[0];if((l==null?void 0:l.type)!=="string")return o.unshift(tf(t));l.string=t+l.string}getTextAttributes(t){let e;const o={};for(const l in ds){const c=ds[l];if(c.tagName&&oo(t,{matchingSelector:c.tagName,untilNode:this.containerElement}))o[l]=!0;else if(c.parser){if(e=c.parser(t),e){let d=!1;for(const m of this.findBlockElementAncestors(t))if(c.parser(m)===e){d=!0;break}d||(o[l]=e)}}else c.styleProperty&&(e=t.style[c.styleProperty],e&&(o[l]=e))}if(rs(t)){const l=pv(t,"attributes");for(const c in l)e=l[c],o[c]=e}return o}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const l in yn){const c=yn[l];var o;c.parse!==!1&&bn(t)===c.tagName&&((o=c.test)!==null&&o!==void 0&&o.call(c,t)||!c.test)&&(e.push(l),c.listAttribute&&e.push(c.listAttribute))}t=t.parentNode}return e.reverse()}getBlockHTMLAttributes(t){const e={},o=Object.values(yn).find(l=>l.tagName===bn(t));return((o==null?void 0:o.htmlAttributes)||[]).forEach(l=>{t.hasAttribute(l)&&(e[l]=t.getAttribute(l))}),e}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const o=bn(t);Rl().includes(o)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!rs(t)&&!oo(t,{matchingSelector:"td",untilNode:this.containerElement}))return Rl().includes(bn(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!UI(t.data))return;const{parentNode:e,previousSibling:o,nextSibling:l}=t;return WI(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||mv(e)?void 0:!o||this.isBlockElement(o)||!l||this.isBlockElement(l)}isExtraBR(t){return bn(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(bc.removeBlankTableCells){var e;const o=(e=t.previousSibling)===null||e===void 0?void 0:e.textContent;return o&&/\S/.test(o)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const o=this.getMarginOfBlockElementAtIndex(e);o&&(o.top>2*t.top&&this.prependStringToTextAtIndex(`
`,e),o.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!Rl().includes(bn(e))&&!this.processedElements.includes(e))return gv(e)}getMarginOfDefaultBlockElement(){const t=Nt(yn.default.tagName);return this.containerElement.appendChild(t),gv(t)}}const mv=function(n){const{whiteSpace:t}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(t)},WI=n=>n&&!Dy(n.textContent),gv=function(n){const t=window.getComputedStyle(n);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},$I=function(n){return bn(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},HI=n=>n.replace(new RegExp("^".concat(Fp.source,"+")),""),UI=n=>new RegExp("^".concat(Fp.source,"*$")).test(n),Dy=n=>/\s$/.test(n),VI=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],zf="data-trix-serialized-attributes",jI="[".concat(zf,"]"),qI=new RegExp("<!--block-->","g"),ZI={"application/json":function(n){let t;if(n instanceof si)t=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=Hl.parse(n.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(n){let t;if(n instanceof si)t=oh.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");t=n.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(e=>{so(e)}),VI.forEach(e=>{Array.from(t.querySelectorAll("[".concat(e,"]"))).forEach(o=>{o.removeAttribute(e)})}),Array.from(t.querySelectorAll(jI)).forEach(e=>{try{const o=JSON.parse(e.getAttribute(zf));e.removeAttribute(zf);for(const l in o){const c=o[l];e.setAttribute(l,c)}}catch{}}),t.innerHTML.replace(qI,"")}};var KI=Object.freeze({__proto__:null});class Se extends Re{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Se.proxyMethod("attachment.getAttribute"),Se.proxyMethod("attachment.hasAttribute"),Se.proxyMethod("attachment.setAttribute"),Se.proxyMethod("attachment.getAttributes"),Se.proxyMethod("attachment.setAttributes"),Se.proxyMethod("attachment.isPending"),Se.proxyMethod("attachment.isPreviewable"),Se.proxyMethod("attachment.getURL"),Se.proxyMethod("attachment.getHref"),Se.proxyMethod("attachment.getFilename"),Se.proxyMethod("attachment.getFilesize"),Se.proxyMethod("attachment.getFormattedFilesize"),Se.proxyMethod("attachment.getExtension"),Se.proxyMethod("attachment.getContentType"),Se.proxyMethod("attachment.getFile"),Se.proxyMethod("attachment.setFile"),Se.proxyMethod("attachment.releaseFile"),Se.proxyMethod("attachment.getUploadProgress"),Se.proxyMethod("attachment.setUploadProgress");class Iy extends Re{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(e=>{this.manageAttachment(e)})}getAttachments(){const t=[];for(const e in this.managedAttachments){const o=this.managedAttachments[e];t.push(o)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new Se(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,o;if(this.attachmentIsManaged(t))return(e=this.delegate)===null||e===void 0||(o=e.attachmentManagerDidRequestRemovalOfAttachment)===null||o===void 0?void 0:o.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}}class Ny{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class to extends Re{constructor(){super(...arguments),this.document=new si,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,o;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(e=this.delegate)===null||e===void 0||(o=e.compositionDidChangeDocument)===null||o===void 0?void 0:o.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,o,l,c;let{document:d,selectedRange:m}=t;return(e=this.delegate)===null||e===void 0||(o=e.compositionWillLoadSnapshot)===null||o===void 0||o.call(e),this.setDocument(d??new si),this.setSelection(m??[0,0]),(l=this.delegate)===null||l===void 0||(c=l.compositionDidLoadSnapshot)===null||c===void 0?void 0:c.call(l)}insertText(t){let{updatePosition:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const o=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,o));const l=o[0],c=l+t.getLength();return e&&this.setSelection(c),this.notifyDelegateOfInsertionAtRange([l,c])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Yi;const e=new si([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new si;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const o=e[0],l=o+t.getLength();return this.setSelection(l),this.notifyDelegateOfInsertionAtRange([o,l])}insertString(t,e){const o=this.getCurrentTextAttributes(),l=Li.textForStringWithAttributes(t,o);return this.insertText(l,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],o=e+1;return this.setSelection(o),this.notifyDelegateOfInsertionAtRange([e,o])}insertLineBreak(){const t=new Ny(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new si([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const e=Hl.parse(t).getDocument(),o=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,o));const l=o[0],c=l+e.getLength()-1;return this.setSelection(c),this.notifyDelegateOfInsertionAtRange([l,c])}replaceHTML(t){const e=Hl.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),o=this.getLocationRange({strict:!1}),l=this.document.rangeFromLocationRange(o);return this.setDocument(e),this.setSelection(l)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach(o=>{var l;if((l=this.delegate)!==null&&l!==void 0&&l.compositionShouldAcceptFile(o)){const c=Ea.attachmentForFile(o);e.push(c)}}),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new Li;return Array.from(t).forEach(o=>{var l;const c=o.getType(),d=(l=Dp[c])===null||l===void 0?void 0:l.presentation,m=this.getCurrentTextAttributes();d&&(m.presentation=d);const _=Li.textForAttachmentWithAttributes(o,m);e=e.appendText(_)}),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(yr(e)){if(t==="backward"&&e[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,o,l,{length:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=this.getLocationRange();let m=this.getSelectedRange();const _=yr(m);if(_?o=t==="backward"&&d[0].offset===0:l=d[0].index!==d[1].index,o&&this.canDecreaseBlockAttributeLevel()){const w=this.getBlock();if(w.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(m[0]),w.isEmpty())return!1}return _&&(m=this.getExpandedRangeInDirection(t,{length:c}),t==="backward"&&(e=this.getAttachmentAtRange(m))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(m)),this.setSelection(m[0]),!o&&!l&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),o=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(o.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return e!=null&&e!==!1}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return Le(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const o of Array.from(e.getAttachments()))if(!o.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return Le(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,e,o){var l;const c=this.document.getBlockAtPosition(t),d=(l=Le(c.getLastAttribute()))===null||l===void 0?void 0:l.htmlAttributes;if(c&&d!=null&&d.includes(e)){const m=this.document.setHTMLAttributeAtPosition(t,e,o);this.setDocument(m)}}setTextAttribute(t,e){const o=this.getSelectedRange();if(!o)return;const[l,c]=Array.from(o);if(l!==c)return this.setDocument(this.document.addAttributeAtRange(t,e,o));if(t==="href"){const d=Li.textForStringWithAttributes(e,{href:e});return this.insertText(d)}}setBlockAttribute(t,e){const o=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,o)),this.setSelection(o)}removeCurrentAttribute(t){return Le(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if((t=Le(e.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return e.getNestingLevel()>0;{const o=this.getPreviousBlock();if(o)return function(){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return fs((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,l.length),l)}(o.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let o=e;const l=this.getBlock().getAttributeLevel();let c=this.document.getBlockAtIndex(o+1);for(;c&&c.isListItem()&&!(c.getAttributeLevel()<=l);)o++,c=this.document.getBlockAtIndex(o+1);t=this.document.positionFromLocation({index:e,offset:0});const d=this.document.positionFromLocation({index:o,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,d]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(Nf()).forEach(o=>{e[o]||this.canSetCurrentAttribute(o)||(e[o]=!1)}),!wa(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return uy.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const o=this.currentAttributes[e];o!==!1&&kf(e)&&(t[e]=o)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var e;const o=this.document.locationRangeFromRange(t);return(e=this.delegate)===null||e===void 0?void 0:e.compositionDidRequestChangingSelectionToLocationRange(o)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||Yt({index:0,offset:0})}withTargetLocationRange(t,e){let o;this.targetLocationRange=t;try{o=e()}finally{this.targetLocationRange=null}return o}withTargetRange(t,e){const o=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(o,e)}withTargetDOMRange(t,e){const o=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(o,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[o,l]=Array.from(this.getSelectedRange());return t==="backward"?e?o-=e:o=this.translateUTF16PositionFromOffset(o,-1):e?l+=e:l=this.translateUTF16PositionFromOffset(l,1),Yt([o,l])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(e)!=null}moveCursorInDirection(t){let e,o;if(this.editingAttachment)o=this.document.getRangeOfAttachment(this.editingAttachment);else{const l=this.getSelectedRange();o=this.getExpandedRangeInDirection(t),e=!Ic(l,o)}if(t==="backward"?this.setSelectedRange(o[0]):this.setSelectedRange(o[1]),e){const l=this.getAttachmentAtRange(o);if(l)return this.editAttachment(l)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(o)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),o=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(o)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return(e=this.document.getPieceAtPosition(t))===null||e===void 0?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:o}=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const d=[],m=[],_=new Set;l.forEach(E=>{_.add(E)});const w=new Set;return c.forEach(E=>{w.add(E),_.has(E)||d.push(E)}),l.forEach(E=>{w.has(E)||m.push(E)}),{added:d,removed:m}}(this.attachments,t);return this.attachments=t,Array.from(o).forEach(l=>{var c,d;l.delegate=null,(c=this.delegate)===null||c===void 0||(d=c.compositionDidRemoveAttachment)===null||d===void 0||d.call(c,l)}),(()=>{const l=[];return Array.from(e).forEach(c=>{var d,m;c.delegate=this,l.push((d=this.delegate)===null||d===void 0||(m=d.compositionDidAddAttachment)===null||m===void 0?void 0:m.call(d,c))}),l})()}attachmentDidChangeAttributes(t){var e,o;return this.revision++,(e=this.delegate)===null||e===void 0||(o=e.compositionDidEditAttachment)===null||o===void 0?void 0:o.call(e,t)}attachmentDidChangePreviewURL(t){var e,o;return this.revision++,(e=this.delegate)===null||e===void 0||(o=e.compositionDidChangeAttachmentPreviewURL)===null||o===void 0?void 0:o.call(e,t)}editAttachment(t,e){var o,l;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(o=this.delegate)===null||o===void 0||(l=o.compositionDidStartEditingAttachment)===null||l===void 0?void 0:l.call(o,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(e=t.compositionDidStopEditingAttachment)===null||e===void 0||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:o}=t;let l=t.startPosition,c=[l-1,l];o.getBlockBreakPosition()===t.startLocation.offset?(o.breaksOnReturn()&&t.nextCharacter===`
`?l+=1:e=e.removeTextAtRange(c),c=[l,l]):t.nextCharacter===`
`?t.previousCharacter===`
`?c=[l-1,l+1]:(c=[l,l+1],l+=1):t.startLocation.offset-1!=0&&(l+=1);const d=new si([o.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(d,c)),this.setSelection(l)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()==="".concat("￼",`
`))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.compositionDidChangeCurrentAttributes)===null||e===void 0?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,o;return(e=this.delegate)===null||e===void 0||(o=e.compositionDidPerformInsertionAtRange)===null||o===void 0?void 0:o.call(e,t)}translateUTF16PositionFromOffset(t,e){const o=this.document.toUTF16String(),l=o.offsetFromUCS2Offset(t);return o.offsetToUCS2Offset(l+e)}}to.proxyMethod("getSelectionManager().getPointRange"),to.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),to.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),to.proxyMethod("getSelectionManager().locationIsCursorTarget"),to.proxyMethod("getSelectionManager().selectionIsExpanded"),to.proxyMethod("delegate?.getSelectionManager");class Wf extends Re{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=this.undoEntries.slice(-1)[0];if(!o||!GI(l,t,e)){const c=this.createEntry({description:t,context:e});this.undoEntries.push(c),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}}const GI=(n,t,e)=>(n==null?void 0:n.description)===(t==null?void 0:t.toString())&&(n==null?void 0:n.context)===JSON.stringify(e),ef="attachmentGallery";class ky{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange(ef,t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,this.document.getCharacterAtPosition(e[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),e[0]!==0&&this.document.getCharacterAtPosition(e[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(ef,!0,e))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(ef)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const My=function(n){const t=new ky(n);return t.perform(),t.getSnapshot()},YI=[My];class By{constructor(t,e,o){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=o,this.undoManager=new Wf(this.composition),this.filters=YI.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=Hl.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:o}=t;return e=si.fromJSON(e),this.loadSnapshot({document:e,selectedRange:o})}loadSnapshot(t){return this.undoManager=new Wf(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,e,o){this.composition.setHTMLAtributeAtPosition(t,e,o)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:o})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Fy{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},l=0,c=!1;const d={index:0,offset:0},m=this.findAttachmentElementParentForNode(t);m&&(t=m.parentNode,e=Wd(m));const _=Dc(this.element,{usingFilter:zy});for(;_.nextNode();){const w=_.currentNode;if(w===t&&Dl(t)){oa(w)||(d.offset+=e);break}if(w.parentNode===t){if(l++===e)break}else if(!ts(t,w)&&l>0)break;U_(w,{strict:o})?(c&&d.index++,d.offset=0,c=!0):d.offset+=nf(w)}return d}findContainerAndOffsetFromLocation(t){let e,o;if(t.index===0&&t.offset===0){for(e=this.element,o=0;e.firstChild;)if(e=e.firstChild,$d(e)){o=1;break}return[e,o]}let[l,c]=this.findNodeAndOffsetFromLocation(t);if(l){if(Dl(l))nf(l)===0?(e=l.parentNode.parentNode,o=Wd(l.parentNode),oa(l,{name:"right"})&&o++):(e=l,o=t.offset-c);else{if(e=l.parentNode,!U_(l.previousSibling)&&!$d(e))for(;l===e.lastChild&&(l=e,e=e.parentNode,!$d(e)););o=Wd(l),t.offset!==0&&o++}return[e,o]}}findNodeAndOffsetFromLocation(t){let e,o,l=0;for(const c of this.getSignificantNodesForIndex(t.index)){const d=nf(c);if(t.offset<=l+d)if(Dl(c)){if(e=c,o=l,t.offset===o&&oa(e))break}else e||(e=c,o=l);if(l+=d,l>t.offset)break}return[e,o]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(rs(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],o=Dc(this.element,{usingFilter:JI});let l=!1;for(;o.nextNode();){const d=o.currentNode;var c;if(ra(d)){if(c!=null?c++:c=0,c===t)l=!0;else if(l)break}else l&&e.push(d)}return e}}const nf=function(n){return n.nodeType===Node.TEXT_NODE?oa(n)?0:n.textContent.length:bn(n)==="br"||rs(n)?1:0},JI=function(n){return XI(n)===NodeFilter.FILTER_ACCEPT?zy(n):NodeFilter.FILTER_REJECT},XI=function(n){return hy(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},zy=function(n){return rs(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Wy{createDOMRangeFromPoint(t){let e,{x:o,y:l}=t;if(document.caretPositionFromPoint){const{offsetNode:c,offset:d}=document.caretPositionFromPoint(o,l);return e=document.createRange(),e.setStart(c,d),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(o,l);if(document.body.createTextRange){const c=Il();try{const d=document.body.createTextRange();d.moveToPoint(o,l),d.select()}catch{}return e=Il(),by(c),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}}class Yo extends Re{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new Fy(this.element),this.pointMapper=new Wy,this.lockCount=0,_e("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(Il()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=Yt(t);const e=this.createDOMRangeFromLocationRange(t);e&&(by(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=Yt(t);const e=this.getLocationAtPoint(t[0]),o=this.getLocationAtPoint(t[1]);this.setLocationRange([e,o])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return oa(e)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=vy())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=Il())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(t==null||!this.domRangeWithinElement(t))return;const o=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!o)return;const l=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return Yt([o,l])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(o),Array.from(t).forEach(l=>{l.destroy()}),ts(document,this.element))return this.selectionDidChange()},o=setTimeout(e,200);t=["mousemove","keydown"].map(l=>_e(l,{onElement:document,withCallback:e}))}selectionDidChange(){if(!this.paused&&!Np(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,o;if((t??(t=this.createLocationRangeFromDOMRange(Il())))&&!Ic(t,this.currentLocationRange))return this.currentLocationRange=t,(e=this.delegate)===null||e===void 0||(o=e.locationRangeDidChange)===null||o===void 0?void 0:o.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),o=yr(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(e!=null&&o!=null){const l=document.createRange();return l.setStart(...Array.from(e||[])),l.setEnd(...Array.from(o||[])),l}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var o;if(e)return(o=this.createLocationRangeFromDOMRange(e))===null||o===void 0?void 0:o[0]}domRangeWithinElement(t){return t.collapsed?ts(this.element,t.startContainer):ts(this.element,t.startContainer)&&ts(this.element,t.endContainer)}}Yo.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Yo.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Yo.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Yo.proxyMethod("pointMapper.createDOMRangeFromPoint"),Yo.proxyMethod("pointMapper.getClientRectsForDOMRange");var $y=Object.freeze({__proto__:null,Attachment:Ea,AttachmentManager:Iy,AttachmentPiece:fa,Block:Yi,Composition:to,Document:si,Editor:By,HTMLParser:Hl,HTMLSanitizer:rh,LineBreakInsertion:Ny,LocationMapper:Fy,ManagedAttachment:Se,Piece:ys,PointMapper:Wy,SelectionManager:Yo,SplittableList:Mc,StringPiece:Up,Text:Li,UndoManager:Wf}),QI=Object.freeze({__proto__:null,ObjectView:bs,AttachmentView:$p,BlockView:Sy,DocumentView:oh,PieceView:Ty,PreviewableAttachmentView:xy,TextView:Cy});const{lang:rf,css:Zo,keyNames:tN}=Jl,of=function(n){return function(){const t=n.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class Hy extends Re{constructor(t,e,o){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),En(this,"makeElementMutable",of(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),En(this,"addToolbar",of(()=>{const c=Nt({tagName:"div",className:Zo.attachmentToolbar,data:{trixMutable:!0},childNodes:Nt({tagName:"div",className:"trix-button-row",childNodes:Nt({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Nt({tagName:"button",className:"trix-button trix-button--remove",textContent:rf.remove,attributes:{title:rf.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&c.appendChild(Nt({tagName:"div",className:Zo.attachmentMetadataContainer,childNodes:Nt({tagName:"span",className:Zo.attachmentMetadata,childNodes:[Nt({tagName:"span",className:Zo.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Nt({tagName:"span",className:Zo.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),_e("click",{onElement:c,withCallback:this.didClickToolbar}),_e("click",{onElement:c,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),Pl("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:c,attachment:this.attachment}}),{do:()=>this.element.appendChild(c),undo:()=>so(c)}})),En(this,"installCaptionEditor",of(()=>{const c=Nt({tagName:"textarea",className:Zo.attachmentCaptionEditor,attributes:{placeholder:rf.captionPlaceholder},data:{trixMutable:!0}});c.value=this.attachmentPiece.getCaption();const d=c.cloneNode();d.classList.add("trix-autoresize-clone"),d.tabIndex=-1;const m=function(){d.value=c.value,c.style.height=d.scrollHeight+"px"};_e("input",{onElement:c,withCallback:m}),_e("input",{onElement:c,withCallback:this.didInputCaption}),_e("keydown",{onElement:c,withCallback:this.didKeyDownCaption}),_e("change",{onElement:c,withCallback:this.didChangeCaption}),_e("blur",{onElement:c,withCallback:this.didBlurCaption});const _=this.element.querySelector("figcaption"),w=_.cloneNode();return{do:()=>{if(_.style.display="none",w.appendChild(c),w.appendChild(d),w.classList.add("".concat(Zo.attachmentCaption,"--editing")),_.parentElement.insertBefore(w,_),m(),this.options.editCaption)return Bp(()=>c.focus())},undo(){so(w),_.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=o,this.options=l,this.attachment=this.attachmentPiece.attachment,bn(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const c=this.pendingCaption;var t,e,o,l;this.pendingCaption=null,c?(t=this.delegate)===null||t===void 0||(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||e===void 0||e.call(t,{caption:c},this.attachment):(o=this.delegate)===null||o===void 0||(l=o.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||l===void 0||l.call(o,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(t.target.getAttribute("data-trix-action")==="remove")return(e=this.delegate)===null||e===void 0?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,o;if(tN[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(e=this.delegate)===null||e===void 0||(o=e.attachmentEditorDidRequestDeselectingAttachment)===null||o===void 0?void 0:o.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class Uy extends Re{constructor(t,e){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=e,this.documentView=new oh(this.composition.document,{element:this.element}),_e("focus",{onElement:this.element,withCallback:this.didFocus}),_e("blur",{onElement:this.element,withCallback:this.didBlur}),_e("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),_e("mousedown",{onElement:this.element,matchingSelector:is,withCallback:this.didClickAttachment}),_e("click",{onElement:this.element,matchingSelector:"a".concat(is),preventDefault:!0})}didFocus(t){var e;const o=()=>{var l,c;if(!this.focused)return this.focused=!0,(l=this.delegate)===null||l===void 0||(c=l.compositionControllerDidFocus)===null||c===void 0?void 0:c.call(l)};return((e=this.blurPromise)===null||e===void 0?void 0:e.then(o))||o()}didBlur(t){this.blurPromise=new Promise(e=>Bp(()=>{var o,l;return Np(this.element)||(this.focused=null,(o=this.delegate)===null||o===void 0||(l=o.compositionControllerDidBlur)===null||l===void 0||l.call(o)),this.blurPromise=null,e()}))}didClickAttachment(t,e){var o,l;const c=this.findAttachmentForElement(e),d=!!oo(t.target,{matchingSelector:"figcaption"});return(o=this.delegate)===null||o===void 0||(l=o.compositionControllerDidSelectAttachment)===null||l===void 0?void 0:l.call(o,c,{editCaption:d})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,o,l,c,d;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((o=this.delegate)===null||o===void 0||(l=o.compositionControllerWillSyncDocumentView)===null||l===void 0||l.call(o),this.documentView.sync(),(c=this.delegate)===null||c===void 0||(d=c.compositionControllerDidSyncDocumentView)===null||d===void 0||d.call(c)),(t=this.delegate)===null||t===void 0||(e=t.compositionControllerDidRender)===null||e===void 0?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var o;if(((o=this.attachmentEditor)===null||o===void 0?void 0:o.attachment)===t)return;const l=this.documentView.findElementForObject(t);if(!l)return;this.uninstallAttachmentEditor();const c=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new Hy(c,l,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var o,l;return(o=this.delegate)===null||o===void 0||(l=o.compositionControllerWillUpdateAttachment)===null||l===void 0||l.call(o,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var o,l;return(o=this.delegate)===null||o===void 0||(l=o.compositionControllerWillUpdateAttachment)===null||l===void 0||l.call(o,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,o;return(e=this.delegate)===null||e===void 0||(o=e.compositionControllerDidRequestRemovalOfAttachment)===null||o===void 0?void 0:o.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,o;return(e=this.delegate)===null||e===void 0||(o=e.compositionControllerDidRequestDeselectingAttachment)===null||o===void 0?void 0:o.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class Vy extends Re{}const jy="data-trix-mutable",eN="[".concat(jy,"]"),nN={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class qy extends Re{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,nN)}stop(){return this.observer.disconnect()}didMutate(t){var e,o;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(e=this.delegate)===null||e===void 0||(o=e.elementDidMutate)===null||o===void 0||o.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(e=>this.mutationIsSignificant(e))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!hy(t)}nodeIsMutable(t){return oo(t,{matchingSelector:eN})}nodesModifiedByMutation(t){const e=[];switch(t.type){case"attributes":t.attributeName!==jy&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),o=this.getTextChangesFromChildList();Array.from(o.additions).forEach(m=>{Array.from(t).includes(m)||t.push(m)}),e.push(...Array.from(o.deletions||[]));const l={},c=t.join("");c&&(l.textAdded=c);const d=e.join("");return d&&(l.textDeleted=d),l}getMutationsByType(t){return Array.from(this.mutations).filter(e=>e.type===t)}getTextChangesFromChildList(){let t,e;const o=[],l=[];Array.from(this.getMutationsByType("childList")).forEach(m=>{o.push(...Array.from(m.addedNodes||[])),l.push(...Array.from(m.removedNodes||[]))}),o.length===0&&l.length===1&&ra(l[0])?(t=[],e=[`
`]):(t=$f(o),e=$f(l));const c=t.filter((m,_)=>m!==e[_]).map(Cl),d=e.filter((m,_)=>m!==t[_]).map(Cl);return{additions:c,deletions:d}}getTextChangesFromCharacterData(){let t,e;const o=this.getMutationsByType("characterData");if(o.length){const l=o[0],c=o[o.length-1],d=function(m,_){let w,E;return m=$l.box(m),(_=$l.box(_)).length<m.length?[E,w]=G_(m,_):[w,E]=G_(_,m),{added:w,removed:E}}(Cl(l.oldValue),Cl(c.target.data));t=d.added,e=d.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}const $f=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const e of Array.from(n))switch(e.nodeType){case Node.TEXT_NODE:t.push(e.data);break;case Node.ELEMENT_NODE:bn(e)==="br"?t.push(`
`):t.push(...Array.from($f(e.childNodes)||[]))}return t};class Zy extends Nc{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch{}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class iN{constructor(t){this.element=t}shouldIgnore(t){return!!Yl.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&rN(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,e;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((e=this.previousEvent)===null||e===void 0?void 0:e.key)==="Unidentified"}}const rN=(n,t)=>_v(n)===_v(t),oN=new RegExp("(".concat("￼","|").concat(ih,"|").concat(eo,"|\\s)+"),"g"),_v=n=>n.replace(oN," ").trim();class sh extends Re{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new qy(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new iN(this.element);for(const e in this.constructor.events)_e(e,{onElement:this.element,withCallback:this.handlerFor(e)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestRender)===null||e===void 0?void 0:e.call(t)}requestReparse(){var t,e;return(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidRequestReparse)===null||e===void 0||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map(o=>new Zy(o));return Promise.all(e).then(o=>{this.handleInput(function(){var l,c;return(l=this.delegate)===null||l===void 0||l.inputControllerWillAttachFiles(),(c=this.responder)===null||c===void 0||c.insertFiles(o),this.requestRender()})})}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput(()=>{if(!Np(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}})}}handleInput(t){try{var e;(e=this.delegate)===null||e===void 0||e.inputControllerWillHandleInput(),t.call(this)}finally{var o;(o=this.delegate)===null||o===void 0||o.inputControllerDidHandleInput()}}createLinkHTML(t,e){const o=document.createElement("a");return o.href=t,o.textContent=e||t,o.outerHTML}}var sf;En(sh,"events",{});const{browser:sN,keyNames:Ky}=Jl;let aN=0;class br extends sh{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const o=t[e];this.inputSummary[e]=o}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),ps.reset()}elementDidMutate(t){var e,o;return this.isComposing()?(e=this.delegate)===null||e===void 0||(o=e.inputControllerDidAllowUnhandledInput)===null||o===void 0?void 0:o.call(e):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:e,textDeleted:o}=t;if(this.inputSummary.preferDocument)return!0;const l=e!=null?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,c=o!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,d=[`
`,` 
`].includes(e)&&!l,m=o===`
`&&!c;if(d&&!m||m&&!d){const w=this.getSelectedRange();if(w){var _;const E=d?e.replace(/\n$/,"").length||-1:(e==null?void 0:e.length)||1;if((_=this.responder)!==null&&_!==void 0&&_.positionIsBlockBreak(w[1]+E))return!0}}return l&&c}mutationIsSignificant(t){var e;const o=Object.keys(t).length>0,l=((e=this.compositionInput)===null||e===void 0?void 0:e.getEndData())==="";return o||!l}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Qr(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var o;return((o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(l){if(l==null||!l.setData)return!1;for(const c in q_){const d=q_[c];try{if(l.setData(c,d),!l.getData(c)===d)return!1}catch{return!1}}return!0}(t))return;const o=(e=this.responder)===null||e===void 0?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(o)),t.setData("text/html",oh.render(o).innerHTML),t.setData("text/plain",o.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const e={};return Array.from((t==null?void 0:t.types)||[]).forEach(o=>{e[o]=!0}),e.Files||e["application/x-trix-document"]||e["text/html"]||e["text/plain"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),o={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},l=Nt({style:o,tagName:"div",editable:!0});return document.body.appendChild(l),l.focus(),requestAnimationFrame(()=>{const c=l.innerHTML;return so(l),this.setSelectedRange(e),t(c)})}}En(br,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=Ky[n.keyCode];if(t){var e;let l=this.keys;["ctrl","alt","shift","meta"].forEach(c=>{var d;n["".concat(c,"Key")]&&(c==="ctrl"&&(c="control"),l=(d=l)===null||d===void 0?void 0:d[c])}),((e=l)===null||e===void 0?void 0:e[t])!=null&&(this.setInputSummary({keyName:t}),ps.reset(),l[t].call(this,n))}if(my(n)){const l=String.fromCharCode(n.keyCode).toLowerCase();if(l){var o;const c=["alt","shift"].map(d=>{if(n["".concat(d,"Key")])return d}).filter(d=>d);c.push(l),(o=this.delegate)!==null&&o!==void 0&&o.inputControllerDidReceiveKeyboardCommand(c)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const t=cN(n);var e,o;return t?((e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(o=this.responder)===null||o===void 0||o.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:t}=n,{textAdded:e}=this.inputSummary;if(e&&e!==t&&e.toUpperCase()===t){var o;const l=this.getSelectedRange();return this.setSelectedRange([l[0],l[1]+e.length]),(o=this.responder)===null||o===void 0||o.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(l)}},dragenter(n){n.preventDefault()},dragstart(n){var t,e;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidStartDrag)===null||e===void 0?void 0:e.call(t)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const o={x:n.clientX,y:n.clientY};var t,e;if(!wa(o,this.draggingPoint))return this.draggingPoint=o,(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidReceiveDragOverPoint)===null||e===void 0?void 0:e.call(t,this.draggingPoint)}},dragend(n){var t,e;(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidCancelDrag)===null||e===void 0||e.call(t),this.draggedRange=null,this.draggingPoint=null},drop(n){var t,e;n.preventDefault();const o=(t=n.dataTransfer)===null||t===void 0?void 0:t.files,l=n.dataTransfer.getData("application/x-trix-document"),c={x:n.clientX,y:n.clientY};if((e=this.responder)===null||e===void 0||e.setLocationRangeFromPointRange(c),o!=null&&o.length)this.attachFiles(o);else if(this.draggedRange){var d,m;(d=this.delegate)===null||d===void 0||d.inputControllerWillMoveText(),(m=this.responder)===null||m===void 0||m.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(l){var _;const w=si.fromJSONString(l);(_=this.responder)===null||_===void 0||_.insertDocument(w),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var t,e;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const t=n.clipboardData||n.testClipboardData,e={clipboard:t};if(!t||hN(n))return void this.getPastedHTMLUsingHiddenElement(G=>{var K,it,ct;return e.type="text/html",e.html=G,(K=this.delegate)===null||K===void 0||K.inputControllerWillPaste(e),(it=this.responder)===null||it===void 0||it.insertHTML(e.html),this.requestRender(),(ct=this.delegate)===null||ct===void 0?void 0:ct.inputControllerDidPaste(e)});const o=t.getData("URL"),l=t.getData("text/html"),c=t.getData("public.url-name");if(o){var d,m,_;let G;e.type="text/html",G=c?zp(c).trim():o,e.html=this.createLinkHTML(o,G),(d=this.delegate)===null||d===void 0||d.inputControllerWillPaste(e),this.setInputSummary({textAdded:G,didDelete:this.selectionIsExpanded()}),(m=this.responder)===null||m===void 0||m.insertHTML(e.html),this.requestRender(),(_=this.delegate)===null||_===void 0||_.inputControllerDidPaste(e)}else if(py(t)){var w,E,P;e.type="text/plain",e.string=t.getData("text/plain"),(w=this.delegate)===null||w===void 0||w.inputControllerWillPaste(e),this.setInputSummary({textAdded:e.string,didDelete:this.selectionIsExpanded()}),(E=this.responder)===null||E===void 0||E.insertString(e.string),this.requestRender(),(P=this.delegate)===null||P===void 0||P.inputControllerDidPaste(e)}else if(l){var M,U,W;e.type="text/html",e.html=l,(M=this.delegate)===null||M===void 0||M.inputControllerWillPaste(e),(U=this.responder)===null||U===void 0||U.insertHTML(e.html),this.requestRender(),(W=this.delegate)===null||W===void 0||W.inputControllerDidPaste(e)}else if(Array.from(t.types).includes("Files")){var F,I;const G=(F=t.items)===null||F===void 0||(F=F[0])===null||F===void 0||(I=F.getAsFile)===null||I===void 0?void 0:I.call(F);if(G){var Z,X,Y;const K=lN(G);!G.name&&K&&(G.name="pasted-file-".concat(++aN,".").concat(K)),e.type="File",e.file=G,(Z=this.delegate)===null||Z===void 0||Z.inputControllerWillAttachFiles(),(X=this.responder)===null||X===void 0||X.insertFile(e.file),this.requestRender(),(Y=this.delegate)===null||Y===void 0||Y.inputControllerDidPaste(e)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),En(br,"keys",{backspace(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var t,e;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(n){var t;if(this.selectionIsInCursorTarget())return n.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var t,e;return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var t,e;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(n){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),br.proxyMethod("responder?.getSelectedRange"),br.proxyMethod("responder?.setSelectedRange"),br.proxyMethod("responder?.expandSelectionInDirection"),br.proxyMethod("responder?.selectionIsInCursorTarget"),br.proxyMethod("responder?.selectionIsExpanded");const lN=n=>{var t;return(t=n.type)===null||t===void 0||(t=t.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},uN=!((sf=" ".codePointAt)===null||sf===void 0||!sf.call(" ",0)),cN=function(n){if(n.key&&uN&&n.key.codePointAt(0)===n.keyCode)return n.key;{let t;if(n.which===null?t=n.keyCode:n.which!==0&&n.charCode!==0&&(t=n.charCode),t!=null&&Ky[t]!=="escape")return $l.fromCodepoints([t]).toString()}},hN=function(n){const t=n.clipboardData;if(t){if(t.types.includes("text/html")){for(const e of t.types){const o=/^CorePasteboardFlavorType/.test(e),l=/^dyn\./.test(e)&&t.getData(e);if(o||l)return!0}return!1}{const e=t.types.includes("com.apple.webarchive"),o=t.types.includes("com.apple.flat-rtfd");return e||o}}};class Qr extends Re{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,o;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((o=this.responder)===null||o===void 0||o.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const e=this.selectPlaceholder();e&&(this.forgetPlaceholder(),this.range=e)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(o=this.responder)===null||o===void 0||o.setSelectedRange(this.range),(l=this.responder)===null||l===void 0||l.insertString(this.data.end),(c=this.responder)===null||c===void 0?void 0:c.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,o,l,c}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!sN.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((e=this.data.end)===null||e===void 0?void 0:e.length)>0&&this.range}}Qr.proxyMethod("inputController.setInputSummary"),Qr.proxyMethod("inputController.requestRender"),Qr.proxyMethod("inputController.requestReparse"),Qr.proxyMethod("responder?.selectionIsExpanded"),Qr.proxyMethod("responder?.insertPlaceholder"),Qr.proxyMethod("responder?.selectPlaceholder"),Qr.proxyMethod("responder?.forgetPlaceholder");class kl extends sh{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(e=t.inputControllerDidAllowUnhandledInput)===null||e===void 0?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(e=this.delegate)===null||e===void 0||e.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertString(e,o)})}toggleAttributeIfSupported(t){var e;if(Nf().includes(t))return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var o;return(o=this.responder)===null||o===void 0?void 0:o.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,e){var o;if(Nf().includes(t))return(o=this.delegate)===null||o===void 0||o.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.setCurrentAttribute(t,e)})}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var o;e&&((o=this.delegate)===null||o===void 0||o.inputControllerWillPerformTyping());const l=()=>{var d;return(d=this.responder)===null||d===void 0?void 0:d.deleteInDirection(t)},c=this.getTargetDOMRange({minLength:this.composing?1:2});return c?this.withTargetDOMRange(c,l):l()}withTargetDOMRange(t,e){var o;return typeof t=="function"&&(e=t,t=this.getTargetDOMRange()),t?(o=this.responder)===null||o===void 0?void 0:o.withTargetDOMRange(t,e.bind(this)):(ps.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const l=(t=(e=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(e);if(l&&l.length){const c=dN(l[0]);if(o===0||c.toString().length>=o)return c}}withEvent(t,e){let o;this.event=t;try{o=e.call(this)}finally{this.event=null}return o}}En(kl,"events",{keydown(n){if(my(n)){var t;const e=mN(n);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(e)&&n.preventDefault()}else{let e=n.key;n.altKey&&(e+="+Alt"),n.shiftKey&&(e+="+Shift");const o=this.constructor.keys[e];if(o)return this.withEvent(n,o)}},paste(n){var t;let e;const o=(t=n.clipboardData)===null||t===void 0?void 0:t.getData("URL");return Gy(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):pN(n)?(n.preventDefault(),e={type:"text/plain",string:n.clipboardData.getData("text/plain")},(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),(c=this.responder)===null||c===void 0||c.insertString(e.string),this.render(),(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(e)):o?(n.preventDefault(),e={type:"text/html",html:this.createLinkHTML(o)},(m=this.delegate)===null||m===void 0||m.inputControllerWillPaste(e),(_=this.responder)===null||_===void 0||_.insertHTML(e.html),this.render(),(w=this.delegate)===null||w===void 0?void 0:w.inputControllerDidPaste(e)):void 0;var l,c,d,m,_,w},beforeinput(n){const t=this.constructor.inputTypes[n.inputType],e=(o=n,!(!/iPhone|iPad/.test(navigator.userAgent)||o.inputType&&o.inputType!=="insertParagraph"));var o;t&&(this.withEvent(n,t),e||this.scheduleRender()),e&&this.render()},input(n){ps.reset()},dragstart(n){var t,e;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange(),point:lf(n)})},dragenter(n){af(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const e=lf(n);var t;if(!wa(e,this.dragging.point))return this.dragging.point=e,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(e)}else af(n)&&n.preventDefault()},drop(n){var t,e;if(this.dragging)return n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(e=this.responder)===null||e===void 0||e.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(af(n)){var o;n.preventDefault();const l=lf(n);return(o=this.responder)===null||o===void 0||o.setLocationRangeFromPointRange(l),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Yl.recentAndroid||this.scheduleRender())}}),En(kl,"keys",{ArrowLeft(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var n,t,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(e=this.responder)===null||e===void 0||e.deleteInDirection("backward"),this.render()},Tab(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,t;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),En(kl,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const e in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(e)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var t;if(n)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.moveTextFromRange(n)})},insertFromPaste(){const{dataTransfer:n}=this.event,t={dataTransfer:n},e=n.getData("URL"),o=n.getData("text/html");if(e){var l;let _;this.event.preventDefault(),t.type="text/html";const w=n.getData("public.url-name");_=w?zp(w).trim():e,t.html=this.createLinkHTML(e,_),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var E;return(E=this.responder)===null||E===void 0?void 0:E.insertHTML(t.html)}),this.afterRender=()=>{var E;return(E=this.delegate)===null||E===void 0?void 0:E.inputControllerDidPaste(t)}}else if(py(n)){var c;t.type="text/plain",t.string=n.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var _;return(_=this.responder)===null||_===void 0?void 0:_.insertString(t.string)}),this.afterRender=()=>{var _;return(_=this.delegate)===null||_===void 0?void 0:_.inputControllerDidPaste(t)}}else if(fN(this.event)){var d;t.type="File",t.file=n.files[0],(d=this.delegate)===null||d===void 0||d.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var _;return(_=this.responder)===null||_===void 0?void 0:_.insertFile(t.file)}),this.afterRender=()=>{var _;return(_=this.delegate)===null||_===void 0?void 0:_.inputControllerDidPaste(t)}}else if(o){var m;this.event.preventDefault(),t.type="text/html",t.html=o,(m=this.delegate)===null||m===void 0||m.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var _;return(_=this.responder)===null||_===void 0?void 0:_.insertHTML(t.html)}),this.afterRender=()=>{var _;return(_=this.delegate)===null||_===void 0?void 0:_.inputControllerDidPaste(t)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){const n=this.event.dataTransfer.getData("text/plain"),t=this.event.getTargetRanges()[0];this.withTargetDOMRange(t,()=>{this.insertString(n,{updatePosition:!1})})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const dN=function(n){const t=document.createRange();return t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),t},af=n=>{var t;return Array.from(((t=n.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},fN=n=>{var t;return((t=n.dataTransfer.files)===null||t===void 0?void 0:t[0])&&!Gy(n)&&!(e=>{let{dataTransfer:o}=e;return o.types.includes("Files")&&o.types.includes("text/html")&&o.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(n)},Gy=function(n){const t=n.clipboardData;if(t)return Array.from(t.types).filter(e=>e.match(/file/i)).length===t.types.length&&t.files.length>=1},pN=function(n){const t=n.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},mN=function(n){const t=[];return n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(n.key),t},lf=n=>({x:n.clientX,y:n.clientY}),Hf="[data-trix-attribute]",Uf="[data-trix-action]",gN="".concat(Hf,", ").concat(Uf),ah="[data-trix-dialog]",_N="".concat(ah,"[data-trix-active]"),vN="".concat(ah," [data-trix-method]"),vv="".concat(ah," [data-trix-input]"),bv=(n,t)=>(t||(t=na(n)),n.querySelector("[data-trix-input][name='".concat(t,"']"))),yv=n=>n.getAttribute("data-trix-action"),na=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class Yy extends Re{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),_e("mousedown",{onElement:this.element,matchingSelector:Uf,withCallback:this.didClickActionButton}),_e("mousedown",{onElement:this.element,matchingSelector:Hf,withCallback:this.didClickAttributeButton}),_e("click",{onElement:this.element,matchingSelector:gN,preventDefault:!0}),_e("click",{onElement:this.element,matchingSelector:vN,withCallback:this.didClickDialogButton}),_e("keydown",{onElement:this.element,matchingSelector:vv,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var o;(o=this.delegate)===null||o===void 0||o.toolbarDidClickButton(),t.preventDefault();const l=yv(e);return this.getDialog(l)?this.toggleDialog(l):(c=this.delegate)===null||c===void 0?void 0:c.toolbarDidInvokeAction(l,e);var c}didClickAttributeButton(t,e){var o;(o=this.delegate)===null||o===void 0||o.toolbarDidClickButton(),t.preventDefault();const l=na(e);var c;return this.getDialog(l)?this.toggleDialog(l):(c=this.delegate)===null||c===void 0||c.toolbarDidToggleAttribute(l),this.refreshAttributeButtons()}didClickDialogButton(t,e){const o=oo(e,{matchingSelector:ah});return this[e.getAttribute("data-trix-method")].call(this,o)}didKeyDownDialogInput(t,e){if(t.keyCode===13){t.preventDefault();const o=e.getAttribute("name"),l=this.getDialog(o);this.setAttribute(l)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,e)=>{t.disabled=this.actions[e]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll(Uf)).map(e=>t(e,yv(e)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,e)=>(t.disabled=this.attributes[e]===!1,this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(Hf)).map(e=>t(e,na(e)))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const o of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const l=o.getAttribute("data-trix-key").split("+");if(JSON.stringify(l.sort())===e)return Pl("mousedown",{onElement:o}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,o;this.hideDialog(),(e=this.delegate)===null||e===void 0||e.toolbarWillShowDialog();const l=this.getDialog(t);l.setAttribute("data-trix-active",""),l.classList.add("trix-active"),Array.from(l.querySelectorAll("input[disabled]")).forEach(d=>{d.removeAttribute("disabled")});const c=na(l);if(c){const d=bv(l,t);d&&(d.value=this.attributes[c]||"",d.select())}return(o=this.delegate)===null||o===void 0?void 0:o.toolbarDidShowDialog(t)}setAttribute(t){var e;const o=na(t),l=bv(t,o);return!l.willValidate||(l.setCustomValidity(""),l.checkValidity()&&this.isSafeAttribute(l))?((e=this.delegate)===null||e===void 0||e.toolbarDidUpdateAttribute(o,l.value),this.hideDialog()):(l.setCustomValidity("Invalid value"),l.setAttribute("data-trix-validate",""),l.classList.add("trix-validate"),l.focus())}isSafeAttribute(t){return!t.hasAttribute("data-trix-validate-href")||kc.isValidAttribute("a","href",t.value)}removeAttribute(t){var e;const o=na(t);return(e=this.delegate)===null||e===void 0||e.toolbarDidRemoveAttribute(o),this.hideDialog()}hideDialog(){const t=this.element.querySelector(_N);var e;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(e=this.delegate)===null||e===void 0?void 0:e.toolbarDidHideDialog((o=>o.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(vv)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class Ml extends Vy{constructor(t){let{editorElement:e,document:o,html:l}=t;super(...arguments),this.editorElement=e,this.selectionManager=new Yo(this.editorElement),this.selectionManager.delegate=this,this.composition=new to,this.composition.delegate=this,this.attachmentManager=new Iy(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=kp.getLevel()===2?new kl(this.editorElement):new br(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Uy(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Yy(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new By(this.composition,this.selectionManager,this.editorElement),o?this.editor.loadDocument(o):this.editor.loadHTML(l)}registerSelectionManager(){return ps.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return ps.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Ic(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,e){return this.invokeAction(t,e)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((e=this.actions[t])===null||e===void 0||(e=e.test)===null||e===void 0||!e.call(this));var e}invokeAction(t,e){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:e}):(o=this.actions[t])===null||o===void 0||(o=o.perform)===null||o===void 0?void 0:o.call(this);var o}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!wa(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(l=>{const{document:c,selectedRange:d}=t;t=l.call(this.editor,t)||{},t.document||(t.document=c),t.selectedRange||(t.selectedRange=d)}),e=t,o=this.composition.getSnapshot(),!Ic(e.selectedRange,o.selectedRange)||!e.document.isEqualTo(o.document))return this.composition.loadSnapshot(t);var e,o}updateInputElement(){const t=function(e,o){const l=ZI[o];if(l)return l(e);throw new Error("unknown content type: ".concat(o))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(t)}notifyEditorElement(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=Le(t),o=this.selectionManager.getLocationRange();if(e||!yr(o))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return yr(t)?t[0].index:t}getTimeContext(){return Rf.interval>0?Math.floor(new Date().getTime()/Rf.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}En(Ml,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return kp.pickFiles(this.editor.insertFiles)}}}),Ml.proxyMethod("getSelectionManager().setLocationRange"),Ml.proxyMethod("getSelectionManager().getLocationRange");var bN=Object.freeze({__proto__:null,AttachmentEditorController:Hy,CompositionController:Uy,Controller:Vy,EditorController:Ml,InputController:sh,Level0InputController:br,Level2InputController:kl,ToolbarController:Yy}),yN=Object.freeze({__proto__:null,MutationObserver:qy,SelectionChangeObserver:_y}),AN=Object.freeze({__proto__:null,FileVerificationOperation:Zy,ImagePreloadOperation:Py});fy("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Jy extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=dy.getDefaultHTML())}}let wN=0;const EN=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.times=1,_e(t,e)}("focus",{onElement:n,withCallback:()=>xN(n)})},xN=function(n){return TN(n),CN()},TN=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),_e("mscontrolselect",{onElement:n,preventDefault:!0})},CN=function(n){var t,e;if((t=(e=document).queryCommandSupported)!==null&&t!==void 0&&t.call(e,"DefaultParagraphSeparator")){const{tagName:o}=yn.default;if(["div","p"].includes(o))return document.execCommand("DefaultParagraphSeparator",!1,o)}},Av=Yl.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};fy("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(is,` figcaption textarea {
    resize: none;
}

%t `).concat(is,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(is,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Av.display,` !important;
    width: `).concat(Av.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var vr=new WeakMap,wl=new WeakSet;class SN{constructor(t){var e,o;Oy(e=this,o=wl),o.add(e),Nl(this,vr,{writable:!0,value:void 0}),this.element=t,Hp(this,vr,t.attachInternals())}connectedCallback(){oc(this,wl,sc).call(this)}disconnectedCallback(){}get labels(){return se(this,vr).labels}get disabled(){var t;return(t=this.element.inputElement)===null||t===void 0?void 0:t.disabled}set disabled(t){this.element.toggleAttribute("disabled",t)}get required(){return this.element.hasAttribute("required")}set required(t){this.element.toggleAttribute("required",t),oc(this,wl,sc).call(this)}get validity(){return se(this,vr).validity}get validationMessage(){return se(this,vr).validationMessage}get willValidate(){return se(this,vr).willValidate}setFormValue(t){oc(this,wl,sc).call(this)}checkValidity(){return se(this,vr).checkValidity()}reportValidity(){return se(this,vr).reportValidity()}setCustomValidity(t){oc(this,wl,sc).call(this,t)}}function sc(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:t,value:e}=this.element,o=t&&!e,l=!!n,c=Nt("input",{required:t}),d=n||c.validationMessage;se(this,vr).setValidity({valueMissing:o,customError:l},d)}var uf=new WeakMap,cf=new WeakMap,hf=new WeakMap;class LN{constructor(t){Nl(this,uf,{writable:!0,value:void 0}),Nl(this,cf,{writable:!0,value:e=>{e.defaultPrevented||e.target===this.element.form&&this.element.reset()}}),Nl(this,hf,{writable:!0,value:e=>{if(e.defaultPrevented||this.element.contains(e.target))return;const o=oo(e.target,{matchingSelector:"label"});o&&Array.from(this.labels).includes(o)&&this.element.focus()}}),this.element=t}connectedCallback(){Hp(this,uf,function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const e=function(){const o=Array.from(t.labels).map(c=>{if(!c.contains(t))return c.textContent}).filter(c=>c),l=o.join(" ");return l?t.setAttribute("aria-label",l):t.removeAttribute("aria-label")};return e(),_e("focus",{onElement:t,withCallback:e})}(this.element)),window.addEventListener("reset",se(this,cf),!1),window.addEventListener("click",se(this,hf),!1)}disconnectedCallback(){var t;(t=se(this,uf))===null||t===void 0||t.destroy(),window.removeEventListener("reset",se(this,cf),!1),window.removeEventListener("click",se(this,hf),!1)}get labels(){const t=[];this.element.id&&this.element.ownerDocument&&t.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const e=oo(this.element,{matchingSelector:"label"});return e&&[this.element,null].includes(e.control)&&t.push(e),t}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(t){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(t){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(t){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(t){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var tn=new WeakMap;class Bc extends HTMLElement{constructor(){super(),Nl(this,tn,{writable:!0,value:void 0}),Hp(this,tn,this.constructor.formAssociated?new SN(this):new LN(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++wN),this.trixId)}get labels(){return se(this,tn).labels}get disabled(){return se(this,tn).disabled}set disabled(t){se(this,tn).disabled=t}get required(){return se(this,tn).required}set required(t){se(this,tn).required=t}get validity(){return se(this,tn).validity}get validationMessage(){return se(this,tn).validationMessage}get willValidate(){return se(this,tn).willValidate}get type(){return this.localName}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const e="trix-toolbar-".concat(this.trixId);return this.setAttribute("toolbar",e),this.internalToolbar=Nt("trix-toolbar",{id:e}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const e="trix-input-".concat(this.trixId);this.setAttribute("input",e);const o=Nt("input",{type:"hidden",id:e});return this.parentNode.insertBefore(o,this.nextElementSibling),o}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var e;this.defaultValue=t,(e=this.editor)===null||e===void 0||e.loadHTML(this.defaultValue)}attributeChangedCallback(t,e,o){t==="connected"&&this.isConnected&&e!=null&&e!==o&&requestAnimationFrame(()=>this.reconnect())}notify(t,e){if(this.editorController)return Pl("trix-".concat(t),{onElement:this,attributes:e})}setFormValue(t){this.inputElement&&(this.inputElement.value=t,se(this,tn).setFormValue(t))}connectedCallback(){this.hasAttribute("data-trix-internal")||(EN(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),this.editorController||(Pl("trix-before-initialize",{onElement:this}),this.editorController=new Ml({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>Pl("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),se(this,tn).connectedCallback(),this.toggleAttribute("connected",!0),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),se(this,tn).disconnectedCallback(),this.toggleAttribute("connected",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var t;(t=this.internalToolbar)===null||t===void 0||t.remove(),this.internalToolbar=null}checkValidity(){return se(this,tn).checkValidity()}reportValidity(){return se(this,tn).reportValidity()}setCustomValidity(t){se(this,tn).setCustomValidity(t)}formDisabledCallback(t){this.inputElement&&(this.inputElement.disabled=t),this.toggleAttribute("contenteditable",!t)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}En(Bc,"formAssociated","ElementInternals"in window),En(Bc,"observedAttributes",["connected"]);const wv={VERSION:RD,config:Jl,core:KI,models:$y,views:QI,controllers:bN,observers:yN,operations:AN,elements:Object.freeze({__proto__:null,TrixEditorElement:Bc,TrixToolbarElement:Jy}),filters:Object.freeze({__proto__:null,Filter:ky,attachmentGalleryFilter:My})};Object.assign(wv,$y),window.Trix=wv,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Jy),customElements.get("trix-editor")||customElements.define("trix-editor",Bc)},0);var Vf=!1,jf=!1,os=[],qf=-1;function ON(n){PN(n)}function PN(n){os.includes(n)||os.push(n),DN()}function RN(n){let t=os.indexOf(n);t!==-1&&t>qf&&os.splice(t,1)}function DN(){!jf&&!Vf&&(Vf=!0,queueMicrotask(IN))}function IN(){Vf=!1,jf=!0;for(let n=0;n<os.length;n++)os[n](),qf=n;os.length=0,qf=-1,jf=!1}var xa,As,Ta,Xy,Zf=!0;function NN(n){Zf=!1,n(),Zf=!0}function kN(n){xa=n.reactive,Ta=n.release,As=t=>n.effect(t,{scheduler:e=>{Zf?ON(e):e()}}),Xy=n.raw}function Ev(n){As=n}function MN(n){let t=()=>{};return[o=>{let l=As(o);return n._x_effects||(n._x_effects=new Set,n._x_runEffects=()=>{n._x_effects.forEach(c=>c())}),n._x_effects.add(l),t=()=>{l!==void 0&&(n._x_effects.delete(l),Ta(l))},l},()=>{t()}]}function Qy(n,t){let e=!0,o,l=As(()=>{let c=n();JSON.stringify(c),e?o=c:queueMicrotask(()=>{t(c,o),o=c}),e=!1});return()=>Ta(l)}var tA=[],eA=[],nA=[];function BN(n){nA.push(n)}function Vp(n,t){typeof t=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(t)):(t=n,eA.push(t))}function iA(n){tA.push(n)}function rA(n,t,e){n._x_attributeCleanups||(n._x_attributeCleanups={}),n._x_attributeCleanups[t]||(n._x_attributeCleanups[t]=[]),n._x_attributeCleanups[t].push(e)}function oA(n,t){n._x_attributeCleanups&&Object.entries(n._x_attributeCleanups).forEach(([e,o])=>{(t===void 0||t.includes(e))&&(o.forEach(l=>l()),delete n._x_attributeCleanups[e])})}function FN(n){var t,e;for((t=n._x_effects)==null||t.forEach(RN);(e=n._x_cleanups)!=null&&e.length;)n._x_cleanups.pop()()}var jp=new MutationObserver(Gp),qp=!1;function Zp(){jp.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),qp=!0}function sA(){zN(),jp.disconnect(),qp=!1}var El=[];function zN(){let n=jp.takeRecords();El.push(()=>n.length>0&&Gp(n));let t=El.length;queueMicrotask(()=>{if(El.length===t)for(;El.length>0;)El.shift()()})}function ve(n){if(!qp)return n();sA();let t=n();return Zp(),t}var Kp=!1,Fc=[];function WN(){Kp=!0}function $N(){Kp=!1,Gp(Fc),Fc=[]}function Gp(n){if(Kp){Fc=Fc.concat(n);return}let t=[],e=new Set,o=new Map,l=new Map;for(let c=0;c<n.length;c++)if(!n[c].target._x_ignoreMutationObserver&&(n[c].type==="childList"&&(n[c].removedNodes.forEach(d=>{d.nodeType===1&&d._x_marker&&e.add(d)}),n[c].addedNodes.forEach(d=>{if(d.nodeType===1){if(e.has(d)){e.delete(d);return}d._x_marker||t.push(d)}})),n[c].type==="attributes")){let d=n[c].target,m=n[c].attributeName,_=n[c].oldValue,w=()=>{o.has(d)||o.set(d,[]),o.get(d).push({name:m,value:d.getAttribute(m)})},E=()=>{l.has(d)||l.set(d,[]),l.get(d).push(m)};d.hasAttribute(m)&&_===null?w():d.hasAttribute(m)?(E(),w()):E()}l.forEach((c,d)=>{oA(d,c)}),o.forEach((c,d)=>{tA.forEach(m=>m(d,c))});for(let c of e)t.some(d=>d.contains(c))||eA.forEach(d=>d(c));for(let c of t)c.isConnected&&nA.forEach(d=>d(c));t=null,e=null,o=null,l=null}function aA(n){return Ql(pa(n))}function Xl(n,t,e){return n._x_dataStack=[t,...pa(e||n)],()=>{n._x_dataStack=n._x_dataStack.filter(o=>o!==t)}}function pa(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?pa(n.host):n.parentNode?pa(n.parentNode):[]}function Ql(n){return new Proxy({objects:n},HN)}var HN={ownKeys({objects:n}){return Array.from(new Set(n.flatMap(t=>Object.keys(t))))},has({objects:n},t){return t==Symbol.unscopables?!1:n.some(e=>Object.prototype.hasOwnProperty.call(e,t)||Reflect.has(e,t))},get({objects:n},t,e){return t=="toJSON"?UN:Reflect.get(n.find(o=>Reflect.has(o,t))||{},t,e)},set({objects:n},t,e,o){const l=n.find(d=>Object.prototype.hasOwnProperty.call(d,t))||n[n.length-1],c=Object.getOwnPropertyDescriptor(l,t);return c!=null&&c.set&&(c!=null&&c.get)?c.set.call(o,e)||!0:Reflect.set(l,t,e)}};function UN(){return Reflect.ownKeys(this).reduce((t,e)=>(t[e]=Reflect.get(this,e),t),{})}function lA(n){let t=o=>typeof o=="object"&&!Array.isArray(o)&&o!==null,e=(o,l="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([c,{value:d,enumerable:m}])=>{if(m===!1||d===void 0||typeof d=="object"&&d!==null&&d.__v_skip)return;let _=l===""?c:`${l}.${c}`;typeof d=="object"&&d!==null&&d._x_interceptor?o[c]=d.initialize(n,_,c):t(d)&&d!==o&&!(d instanceof Element)&&e(d,_)})};return e(n)}function uA(n,t=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(o,l,c){return n(this.initialValue,()=>VN(o,l),d=>Kf(o,l,d),l,c)}};return t(e),o=>{if(typeof o=="object"&&o!==null&&o._x_interceptor){let l=e.initialize.bind(e);e.initialize=(c,d,m)=>{let _=o.initialize(c,d,m);return e.initialValue=_,l(c,d,m)}}else e.initialValue=o;return e}}function VN(n,t){return t.split(".").reduce((e,o)=>e[o],n)}function Kf(n,t,e){if(typeof t=="string"&&(t=t.split(".")),t.length===1)n[t[0]]=e;else{if(t.length===0)throw error;return n[t[0]]||(n[t[0]]={}),Kf(n[t[0]],t.slice(1),e)}}var cA={};function Ii(n,t){cA[n]=t}function Gf(n,t){let e=jN(t);return Object.entries(cA).forEach(([o,l])=>{Object.defineProperty(n,`$${o}`,{get(){return l(t,e)},enumerable:!1})}),n}function jN(n){let[t,e]=gA(n),o={interceptor:uA,...t};return Vp(n,e),o}function qN(n,t,e,...o){try{return e(...o)}catch(l){Ul(l,n,t)}}function Ul(n,t,e=void 0){n=Object.assign(n??{message:"No error message given."},{el:t,expression:e}),console.warn(`Alpine Expression Error: ${n.message}

${e?'Expression: "'+e+`"

`:""}`,t),setTimeout(()=>{throw n},0)}var wc=!0;function hA(n){let t=wc;wc=!1;let e=n();return wc=t,e}function ss(n,t,e={}){let o;return xn(n,t)(l=>o=l,e),o}function xn(...n){return dA(...n)}var dA=fA;function ZN(n){dA=n}function fA(n,t){let e={};Gf(e,n);let o=[e,...pa(n)],l=typeof t=="function"?KN(o,t):YN(o,t,n);return qN.bind(null,n,t,l)}function KN(n,t){return(e=()=>{},{scope:o={},params:l=[]}={})=>{let c=t.apply(Ql([o,...n]),l);zc(e,c)}}var df={};function GN(n,t){if(df[n])return df[n];let e=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(n.trim())||/^(let|const)\s/.test(n.trim())?`(async()=>{ ${n} })()`:n,c=(()=>{try{let d=new e(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`);return Object.defineProperty(d,"name",{value:`[Alpine] ${n}`}),d}catch(d){return Ul(d,t,n),Promise.resolve()}})();return df[n]=c,c}function YN(n,t,e){let o=GN(t,e);return(l=()=>{},{scope:c={},params:d=[]}={})=>{o.result=void 0,o.finished=!1;let m=Ql([c,...n]);if(typeof o=="function"){let _=o(o,m).catch(w=>Ul(w,e,t));o.finished?(zc(l,o.result,m,d,e),o.result=void 0):_.then(w=>{zc(l,w,m,d,e)}).catch(w=>Ul(w,e,t)).finally(()=>o.result=void 0)}}}function zc(n,t,e,o,l){if(wc&&typeof t=="function"){let c=t.apply(e,o);c instanceof Promise?c.then(d=>zc(n,d,e,o)).catch(d=>Ul(d,l,t)):n(c)}else typeof t=="object"&&t instanceof Promise?t.then(c=>n(c)):n(t)}var Yp="x-";function Ca(n=""){return Yp+n}function JN(n){Yp=n}var Wc={};function De(n,t){return Wc[n]=t,{before(e){if(!Wc[e]){console.warn(String.raw`Cannot find directive \`${e}\`. \`${n}\` will use the default order of execution`);return}const o=es.indexOf(e);es.splice(o>=0?o:es.indexOf("DEFAULT"),0,n)}}}function XN(n){return Object.keys(Wc).includes(n)}function Jp(n,t,e){if(t=Array.from(t),n._x_virtualDirectives){let c=Object.entries(n._x_virtualDirectives).map(([m,_])=>({name:m,value:_})),d=pA(c);c=c.map(m=>d.find(_=>_.name===m.name)?{name:`x-bind:${m.name}`,value:`"${m.value}"`}:m),t=t.concat(c)}let o={};return t.map(bA((c,d)=>o[c]=d)).filter(AA).map(ek(o,e)).sort(nk).map(c=>tk(n,c))}function pA(n){return Array.from(n).map(bA()).filter(t=>!AA(t))}var Yf=!1,Sl=new Map,mA=Symbol();function QN(n){Yf=!0;let t=Symbol();mA=t,Sl.set(t,[]);let e=()=>{for(;Sl.get(t).length;)Sl.get(t).shift()();Sl.delete(t)},o=()=>{Yf=!1,e()};n(e),o()}function gA(n){let t=[],e=m=>t.push(m),[o,l]=MN(n);return t.push(l),[{Alpine:tu,effect:o,cleanup:e,evaluateLater:xn.bind(xn,n),evaluate:ss.bind(ss,n)},()=>t.forEach(m=>m())]}function tk(n,t){let e=()=>{},o=Wc[t.type]||e,[l,c]=gA(n);rA(n,t.original,c);let d=()=>{n._x_ignore||n._x_ignoreSelf||(o.inline&&o.inline(n,t,l),o=o.bind(o,n,t,l),Yf?Sl.get(mA).push(o):o())};return d.runCleanups=c,d}var _A=(n,t)=>({name:e,value:o})=>(e.startsWith(n)&&(e=e.replace(n,t)),{name:e,value:o}),vA=n=>n;function bA(n=()=>{}){return({name:t,value:e})=>{let{name:o,value:l}=yA.reduce((c,d)=>d(c),{name:t,value:e});return o!==t&&n(o,t),{name:o,value:l}}}var yA=[];function Xp(n){yA.push(n)}function AA({name:n}){return wA().test(n)}var wA=()=>new RegExp(`^${Yp}([^:^.]+)\\b`);function ek(n,t){return({name:e,value:o})=>{let l=e.match(wA()),c=e.match(/:([a-zA-Z0-9\-_:]+)/),d=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],m=t||n[e]||e;return{type:l?l[1]:null,value:c?c[1]:null,modifiers:d.map(_=>_.replace(".","")),expression:o,original:m}}}var Jf="DEFAULT",es=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Jf,"teleport"];function nk(n,t){let e=es.indexOf(n.type)===-1?Jf:n.type,o=es.indexOf(t.type)===-1?Jf:t.type;return es.indexOf(e)-es.indexOf(o)}function Bl(n,t,e={}){n.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function ms(n,t){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot){Array.from(n.children).forEach(l=>ms(l,t));return}let e=!1;if(t(n,()=>e=!0),e)return;let o=n.firstElementChild;for(;o;)ms(o,t),o=o.nextElementSibling}function ai(n,...t){console.warn(`Alpine Warning: ${n}`,...t)}var xv=!1;function ik(){xv&&ai("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),xv=!0,document.body||ai("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Bl(document,"alpine:init"),Bl(document,"alpine:initializing"),Zp(),BN(t=>xr(t,ms)),Vp(t=>La(t)),iA((t,e)=>{Jp(t,e).forEach(o=>o())});let n=t=>!lh(t.parentElement,!0);Array.from(document.querySelectorAll(TA().join(","))).filter(n).forEach(t=>{xr(t)}),Bl(document,"alpine:initialized"),setTimeout(()=>{ak()})}var Qp=[],EA=[];function xA(){return Qp.map(n=>n())}function TA(){return Qp.concat(EA).map(n=>n())}function CA(n){Qp.push(n)}function SA(n){EA.push(n)}function lh(n,t=!1){return Sa(n,e=>{if((t?TA():xA()).some(l=>e.matches(l)))return!0})}function Sa(n,t){if(n){if(t(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),!!n.parentElement)return Sa(n.parentElement,t)}}function rk(n){return xA().some(t=>n.matches(t))}var LA=[];function ok(n){LA.push(n)}var sk=1;function xr(n,t=ms,e=()=>{}){Sa(n,o=>o._x_ignore)||QN(()=>{t(n,(o,l)=>{o._x_marker||(e(o,l),LA.forEach(c=>c(o,l)),Jp(o,o.attributes).forEach(c=>c()),o._x_ignore||(o._x_marker=sk++),o._x_ignore&&l())})})}function La(n,t=ms){t(n,e=>{FN(e),oA(e),delete e._x_marker})}function ak(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,e,o])=>{XN(e)||o.some(l=>{if(document.querySelector(l))return ai(`found "${l}", but missing ${t} plugin`),!0})})}var Xf=[],tm=!1;function em(n=()=>{}){return queueMicrotask(()=>{tm||setTimeout(()=>{Qf()})}),new Promise(t=>{Xf.push(()=>{n(),t()})})}function Qf(){for(tm=!1;Xf.length;)Xf.shift()()}function lk(){tm=!0}function nm(n,t){return Array.isArray(t)?Tv(n,t.join(" ")):typeof t=="object"&&t!==null?uk(n,t):typeof t=="function"?nm(n,t()):Tv(n,t)}function Tv(n,t){let e=l=>l.split(" ").filter(c=>!n.classList.contains(c)).filter(Boolean),o=l=>(n.classList.add(...l),()=>{n.classList.remove(...l)});return t=t===!0?t="":t||"",o(e(t))}function uk(n,t){let e=m=>m.split(" ").filter(Boolean),o=Object.entries(t).flatMap(([m,_])=>_?e(m):!1).filter(Boolean),l=Object.entries(t).flatMap(([m,_])=>_?!1:e(m)).filter(Boolean),c=[],d=[];return l.forEach(m=>{n.classList.contains(m)&&(n.classList.remove(m),d.push(m))}),o.forEach(m=>{n.classList.contains(m)||(n.classList.add(m),c.push(m))}),()=>{d.forEach(m=>n.classList.add(m)),c.forEach(m=>n.classList.remove(m))}}function uh(n,t){return typeof t=="object"&&t!==null?ck(n,t):hk(n,t)}function ck(n,t){let e={};return Object.entries(t).forEach(([o,l])=>{e[o]=n.style[o],o.startsWith("--")||(o=dk(o)),n.style.setProperty(o,l)}),setTimeout(()=>{n.style.length===0&&n.removeAttribute("style")}),()=>{uh(n,e)}}function hk(n,t){let e=n.getAttribute("style",t);return n.setAttribute("style",t),()=>{n.setAttribute("style",e||"")}}function dk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tp(n,t=()=>{}){let e=!1;return function(){e?t.apply(this,arguments):(e=!0,n.apply(this,arguments))}}De("transition",(n,{value:t,modifiers:e,expression:o},{evaluate:l})=>{typeof o=="function"&&(o=l(o)),o!==!1&&(!o||typeof o=="boolean"?pk(n,e,t):fk(n,o,t))});function fk(n,t,e){OA(n,nm,""),{enter:l=>{n._x_transition.enter.during=l},"enter-start":l=>{n._x_transition.enter.start=l},"enter-end":l=>{n._x_transition.enter.end=l},leave:l=>{n._x_transition.leave.during=l},"leave-start":l=>{n._x_transition.leave.start=l},"leave-end":l=>{n._x_transition.leave.end=l}}[e](t)}function pk(n,t,e){OA(n,uh);let o=!t.includes("in")&&!t.includes("out")&&!e,l=o||t.includes("in")||["enter"].includes(e),c=o||t.includes("out")||["leave"].includes(e);t.includes("in")&&!o&&(t=t.filter((Z,X)=>X<t.indexOf("out"))),t.includes("out")&&!o&&(t=t.filter((Z,X)=>X>t.indexOf("out")));let d=!t.includes("opacity")&&!t.includes("scale"),m=d||t.includes("opacity"),_=d||t.includes("scale"),w=m?0:1,E=_?xl(t,"scale",95)/100:1,P=xl(t,"delay",0)/1e3,M=xl(t,"origin","center"),U="opacity, transform",W=xl(t,"duration",150)/1e3,F=xl(t,"duration",75)/1e3,I="cubic-bezier(0.4, 0.0, 0.2, 1)";l&&(n._x_transition.enter.during={transformOrigin:M,transitionDelay:`${P}s`,transitionProperty:U,transitionDuration:`${W}s`,transitionTimingFunction:I},n._x_transition.enter.start={opacity:w,transform:`scale(${E})`},n._x_transition.enter.end={opacity:1,transform:"scale(1)"}),c&&(n._x_transition.leave.during={transformOrigin:M,transitionDelay:`${P}s`,transitionProperty:U,transitionDuration:`${F}s`,transitionTimingFunction:I},n._x_transition.leave.start={opacity:1,transform:"scale(1)"},n._x_transition.leave.end={opacity:w,transform:`scale(${E})`})}function OA(n,t,e={}){n._x_transition||(n._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(o=()=>{},l=()=>{}){ep(n,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,l)},out(o=()=>{},l=()=>{}){ep(n,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,l)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,t,e,o){const l=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let c=()=>l(e);if(t){n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(e):c():n._x_transition?n._x_transition.in(e):c();return}n._x_hidePromise=n._x_transition?new Promise((d,m)=>{n._x_transition.out(()=>{},()=>d(o)),n._x_transitioning&&n._x_transitioning.beforeCancel(()=>m({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let d=PA(n);d?(d._x_hideChildren||(d._x_hideChildren=[]),d._x_hideChildren.push(n)):l(()=>{let m=_=>{let w=Promise.all([_._x_hidePromise,...(_._x_hideChildren||[]).map(m)]).then(([E])=>E==null?void 0:E());return delete _._x_hidePromise,delete _._x_hideChildren,w};m(n).catch(_=>{if(!_.isFromCancelledTransition)throw _})})})};function PA(n){let t=n.parentNode;if(t)return t._x_hidePromise?t:PA(t)}function ep(n,t,{during:e,start:o,end:l}={},c=()=>{},d=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(o).length===0&&Object.keys(l).length===0){c(),d();return}let m,_,w;mk(n,{start(){m=t(n,o)},during(){_=t(n,e)},before:c,end(){m(),w=t(n,l)},after:d,cleanup(){_(),w()}})}function mk(n,t){let e,o,l,c=tp(()=>{ve(()=>{e=!0,o||t.before(),l||(t.end(),Qf()),t.after(),n.isConnected&&t.cleanup(),delete n._x_transitioning})});n._x_transitioning={beforeCancels:[],beforeCancel(d){this.beforeCancels.push(d)},cancel:tp(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();c()}),finish:c},ve(()=>{t.start(),t.during()}),lk(),requestAnimationFrame(()=>{if(e)return;let d=Number(getComputedStyle(n).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,m=Number(getComputedStyle(n).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;d===0&&(d=Number(getComputedStyle(n).animationDuration.replace("s",""))*1e3),ve(()=>{t.before()}),o=!0,requestAnimationFrame(()=>{e||(ve(()=>{t.end()}),Qf(),setTimeout(n._x_transitioning.finish,d+m),l=!0)})})}function xl(n,t,e){if(n.indexOf(t)===-1)return e;const o=n[n.indexOf(t)+1];if(!o||t==="scale"&&isNaN(o))return e;if(t==="duration"||t==="delay"){let l=o.match(/([0-9]+)ms/);if(l)return l[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(t)+2])?[o,n[n.indexOf(t)+2]].join(" "):o}var ao=!1;function fo(n,t=()=>{}){return(...e)=>ao?t(...e):n(...e)}function gk(n){return(...t)=>ao&&n(...t)}var RA=[];function ch(n){RA.push(n)}function _k(n,t){RA.forEach(e=>e(n,t)),ao=!0,DA(()=>{xr(t,(e,o)=>{o(e,()=>{})})}),ao=!1}var np=!1;function vk(n,t){t._x_dataStack||(t._x_dataStack=n._x_dataStack),ao=!0,np=!0,DA(()=>{bk(t)}),ao=!1,np=!1}function bk(n){let t=!1;xr(n,(o,l)=>{ms(o,(c,d)=>{if(t&&rk(c))return d();t=!0,l(c,d)})})}function DA(n){let t=As;Ev((e,o)=>{let l=t(e);return Ta(l),()=>{}}),n(),Ev(t)}function IA(n,t,e,o=[]){switch(n._x_bindings||(n._x_bindings=xa({})),n._x_bindings[t]=e,t=o.includes("camel")?Sk(t):t,t){case"value":yk(n,e);break;case"style":wk(n,e);break;case"class":Ak(n,e);break;case"selected":case"checked":Ek(n,t,e);break;default:NA(n,t,e);break}}function yk(n,t){if(BA(n))n.attributes.value===void 0&&(n.value=t),window.fromModel&&(typeof t=="boolean"?n.checked=Ec(n.value)===t:n.checked=Cv(n.value,t));else if(im(n))Number.isInteger(t)?n.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?n.value=String(t):Array.isArray(t)?n.checked=t.some(e=>Cv(e,n.value)):n.checked=!!t;else if(n.tagName==="SELECT")Ck(n,t);else{if(n.value===t)return;n.value=t===void 0?"":t}}function Ak(n,t){n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedClasses=nm(n,t)}function wk(n,t){n._x_undoAddedStyles&&n._x_undoAddedStyles(),n._x_undoAddedStyles=uh(n,t)}function Ek(n,t,e){NA(n,t,e),Tk(n,t,e)}function NA(n,t,e){[null,void 0,!1].includes(e)&&Ok(t)?n.removeAttribute(t):(kA(t)&&(e=t),xk(n,t,e))}function xk(n,t,e){n.getAttribute(t)!=e&&n.setAttribute(t,e)}function Tk(n,t,e){n[t]!==e&&(n[t]=e)}function Ck(n,t){const e=[].concat(t).map(o=>o+"");Array.from(n.options).forEach(o=>{o.selected=e.includes(o.value)})}function Sk(n){return n.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function Cv(n,t){return n==t}function Ec(n){return[1,"1","true","on","yes",!0].includes(n)?!0:[0,"0","false","off","no",!1].includes(n)?!1:n?!!n:null}var Lk=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function kA(n){return Lk.has(n)}function Ok(n){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(n)}function Pk(n,t,e){return n._x_bindings&&n._x_bindings[t]!==void 0?n._x_bindings[t]:MA(n,t,e)}function Rk(n,t,e,o=!0){if(n._x_bindings&&n._x_bindings[t]!==void 0)return n._x_bindings[t];if(n._x_inlineBindings&&n._x_inlineBindings[t]!==void 0){let l=n._x_inlineBindings[t];return l.extract=o,hA(()=>ss(n,l.expression))}return MA(n,t,e)}function MA(n,t,e){let o=n.getAttribute(t);return o===null?typeof e=="function"?e():e:o===""?!0:kA(t)?!![t,"true"].includes(o):o}function im(n){return n.type==="checkbox"||n.localName==="ui-checkbox"||n.localName==="ui-switch"}function BA(n){return n.type==="radio"||n.localName==="ui-radio"}function FA(n,t){var e;return function(){var o=this,l=arguments,c=function(){e=null,n.apply(o,l)};clearTimeout(e),e=setTimeout(c,t)}}function zA(n,t){let e;return function(){let o=this,l=arguments;e||(n.apply(o,l),e=!0,setTimeout(()=>e=!1,t))}}function WA({get:n,set:t},{get:e,set:o}){let l=!0,c,d=As(()=>{let m=n(),_=e();if(l)o(ff(m)),l=!1;else{let w=JSON.stringify(m),E=JSON.stringify(_);w!==c?o(ff(m)):w!==E&&t(ff(_))}c=JSON.stringify(n()),JSON.stringify(e())});return()=>{Ta(d)}}function ff(n){return typeof n=="object"?JSON.parse(JSON.stringify(n)):n}function Dk(n){(Array.isArray(n)?n:[n]).forEach(e=>e(tu))}var Go={},Sv=!1;function Ik(n,t){if(Sv||(Go=xa(Go),Sv=!0),t===void 0)return Go[n];Go[n]=t,lA(Go[n]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Go[n].init()}function Nk(){return Go}var $A={};function kk(n,t){let e=typeof t!="function"?()=>t:t;return n instanceof Element?HA(n,e()):($A[n]=e,()=>{})}function Mk(n){return Object.entries($A).forEach(([t,e])=>{Object.defineProperty(n,t,{get(){return(...o)=>e(...o)}})}),n}function HA(n,t,e){let o=[];for(;o.length;)o.pop()();let l=Object.entries(t).map(([d,m])=>({name:d,value:m})),c=pA(l);return l=l.map(d=>c.find(m=>m.name===d.name)?{name:`x-bind:${d.name}`,value:`"${d.value}"`}:d),Jp(n,l,e).map(d=>{o.push(d.runCleanups),d()}),()=>{for(;o.length;)o.pop()()}}var UA={};function Bk(n,t){UA[n]=t}function Fk(n,t){return Object.entries(UA).forEach(([e,o])=>{Object.defineProperty(n,e,{get(){return(...l)=>o.bind(t)(...l)},enumerable:!1})}),n}var zk={get reactive(){return xa},get release(){return Ta},get effect(){return As},get raw(){return Xy},version:"3.14.9",flushAndStopDeferringMutations:$N,dontAutoEvaluateFunctions:hA,disableEffectScheduling:NN,startObservingMutations:Zp,stopObservingMutations:sA,setReactivityEngine:kN,onAttributeRemoved:rA,onAttributesAdded:iA,closestDataStack:pa,skipDuringClone:fo,onlyDuringClone:gk,addRootSelector:CA,addInitSelector:SA,interceptClone:ch,addScopeToNode:Xl,deferMutations:WN,mapAttributes:Xp,evaluateLater:xn,interceptInit:ok,setEvaluator:ZN,mergeProxies:Ql,extractProp:Rk,findClosest:Sa,onElRemoved:Vp,closestRoot:lh,destroyTree:La,interceptor:uA,transition:ep,setStyles:uh,mutateDom:ve,directive:De,entangle:WA,throttle:zA,debounce:FA,evaluate:ss,initTree:xr,nextTick:em,prefixed:Ca,prefix:JN,plugin:Dk,magic:Ii,store:Ik,start:ik,clone:vk,cloneNode:_k,bound:Pk,$data:aA,watch:Qy,walk:ms,data:Bk,bind:kk},tu=zk;function Wk(n,t){const e=Object.create(null),o=n.split(",");for(let l=0;l<o.length;l++)e[o[l]]=!0;return t?l=>!!e[l.toLowerCase()]:l=>!!e[l]}var $k=Object.freeze({}),Hk=Object.prototype.hasOwnProperty,hh=(n,t)=>Hk.call(n,t),as=Array.isArray,Fl=n=>VA(n)==="[object Map]",Uk=n=>typeof n=="string",rm=n=>typeof n=="symbol",dh=n=>n!==null&&typeof n=="object",Vk=Object.prototype.toString,VA=n=>Vk.call(n),jA=n=>VA(n).slice(8,-1),om=n=>Uk(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,jk=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},qk=jk(n=>n.charAt(0).toUpperCase()+n.slice(1)),qA=(n,t)=>n!==t&&(n===n||t===t),ip=new WeakMap,Tl=[],Gi,ls=Symbol("iterate"),rp=Symbol("Map key iterate");function Zk(n){return n&&n._isEffect===!0}function Kk(n,t=$k){Zk(n)&&(n=n.raw);const e=Jk(n,t);return t.lazy||e(),e}function Gk(n){n.active&&(ZA(n),n.options.onStop&&n.options.onStop(),n.active=!1)}var Yk=0;function Jk(n,t){const e=function(){if(!e.active)return n();if(!Tl.includes(e)){ZA(e);try{return Qk(),Tl.push(e),Gi=e,n()}finally{Tl.pop(),KA(),Gi=Tl[Tl.length-1]}}};return e.id=Yk++,e.allowRecurse=!!t.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=n,e.deps=[],e.options=t,e}function ZA(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}var ma=!0,sm=[];function Xk(){sm.push(ma),ma=!1}function Qk(){sm.push(ma),ma=!0}function KA(){const n=sm.pop();ma=n===void 0?!0:n}function Pi(n,t,e){if(!ma||Gi===void 0)return;let o=ip.get(n);o||ip.set(n,o=new Map);let l=o.get(e);l||o.set(e,l=new Set),l.has(Gi)||(l.add(Gi),Gi.deps.push(l),Gi.options.onTrack&&Gi.options.onTrack({effect:Gi,target:n,type:t,key:e}))}function lo(n,t,e,o,l,c){const d=ip.get(n);if(!d)return;const m=new Set,_=E=>{E&&E.forEach(P=>{(P!==Gi||P.allowRecurse)&&m.add(P)})};if(t==="clear")d.forEach(_);else if(e==="length"&&as(n))d.forEach((E,P)=>{(P==="length"||P>=o)&&_(E)});else switch(e!==void 0&&_(d.get(e)),t){case"add":as(n)?om(e)&&_(d.get("length")):(_(d.get(ls)),Fl(n)&&_(d.get(rp)));break;case"delete":as(n)||(_(d.get(ls)),Fl(n)&&_(d.get(rp)));break;case"set":Fl(n)&&_(d.get(ls));break}const w=E=>{E.options.onTrigger&&E.options.onTrigger({effect:E,target:n,key:e,type:t,newValue:o,oldValue:l,oldTarget:c}),E.options.scheduler?E.options.scheduler(E):E()};m.forEach(w)}var tM=Wk("__proto__,__v_isRef,__isVue"),GA=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(rm)),eM=YA(),nM=YA(!0),Lv=iM();function iM(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const o=le(this);for(let c=0,d=this.length;c<d;c++)Pi(o,"get",c+"");const l=o[t](...e);return l===-1||l===!1?o[t](...e.map(le)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){Xk();const o=le(this)[t].apply(this,e);return KA(),o}}),n}function YA(n=!1,t=!1){return function(o,l,c){if(l==="__v_isReactive")return!n;if(l==="__v_isReadonly")return n;if(l==="__v_raw"&&c===(n?t?bM:t0:t?vM:QA).get(o))return o;const d=as(o);if(!n&&d&&hh(Lv,l))return Reflect.get(Lv,l,c);const m=Reflect.get(o,l,c);return(rm(l)?GA.has(l):tM(l))||(n||Pi(o,"get",l),t)?m:op(m)?!d||!om(l)?m.value:m:dh(m)?n?e0(m):cm(m):m}}var rM=oM();function oM(n=!1){return function(e,o,l,c){let d=e[o];if(!n&&(l=le(l),d=le(d),!as(e)&&op(d)&&!op(l)))return d.value=l,!0;const m=as(e)&&om(o)?Number(o)<e.length:hh(e,o),_=Reflect.set(e,o,l,c);return e===le(c)&&(m?qA(l,d)&&lo(e,"set",o,l,d):lo(e,"add",o,l)),_}}function sM(n,t){const e=hh(n,t),o=n[t],l=Reflect.deleteProperty(n,t);return l&&e&&lo(n,"delete",t,void 0,o),l}function aM(n,t){const e=Reflect.has(n,t);return(!rm(t)||!GA.has(t))&&Pi(n,"has",t),e}function lM(n){return Pi(n,"iterate",as(n)?"length":ls),Reflect.ownKeys(n)}var uM={get:eM,set:rM,deleteProperty:sM,has:aM,ownKeys:lM},cM={get:nM,set(n,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,n),!0},deleteProperty(n,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,n),!0}},am=n=>dh(n)?cm(n):n,lm=n=>dh(n)?e0(n):n,um=n=>n,fh=n=>Reflect.getPrototypeOf(n);function ac(n,t,e=!1,o=!1){n=n.__v_raw;const l=le(n),c=le(t);t!==c&&!e&&Pi(l,"get",t),!e&&Pi(l,"get",c);const{has:d}=fh(l),m=o?um:e?lm:am;if(d.call(l,t))return m(n.get(t));if(d.call(l,c))return m(n.get(c));n!==l&&n.get(t)}function lc(n,t=!1){const e=this.__v_raw,o=le(e),l=le(n);return n!==l&&!t&&Pi(o,"has",n),!t&&Pi(o,"has",l),n===l?e.has(n):e.has(n)||e.has(l)}function uc(n,t=!1){return n=n.__v_raw,!t&&Pi(le(n),"iterate",ls),Reflect.get(n,"size",n)}function Ov(n){n=le(n);const t=le(this);return fh(t).has.call(t,n)||(t.add(n),lo(t,"add",n,n)),this}function Pv(n,t){t=le(t);const e=le(this),{has:o,get:l}=fh(e);let c=o.call(e,n);c?XA(e,o,n):(n=le(n),c=o.call(e,n));const d=l.call(e,n);return e.set(n,t),c?qA(t,d)&&lo(e,"set",n,t,d):lo(e,"add",n,t),this}function Rv(n){const t=le(this),{has:e,get:o}=fh(t);let l=e.call(t,n);l?XA(t,e,n):(n=le(n),l=e.call(t,n));const c=o?o.call(t,n):void 0,d=t.delete(n);return l&&lo(t,"delete",n,void 0,c),d}function Dv(){const n=le(this),t=n.size!==0,e=Fl(n)?new Map(n):new Set(n),o=n.clear();return t&&lo(n,"clear",void 0,void 0,e),o}function cc(n,t){return function(o,l){const c=this,d=c.__v_raw,m=le(d),_=t?um:n?lm:am;return!n&&Pi(m,"iterate",ls),d.forEach((w,E)=>o.call(l,_(w),_(E),c))}}function hc(n,t,e){return function(...o){const l=this.__v_raw,c=le(l),d=Fl(c),m=n==="entries"||n===Symbol.iterator&&d,_=n==="keys"&&d,w=l[n](...o),E=e?um:t?lm:am;return!t&&Pi(c,"iterate",_?rp:ls),{next(){const{value:P,done:M}=w.next();return M?{value:P,done:M}:{value:m?[E(P[0]),E(P[1])]:E(P),done:M}},[Symbol.iterator](){return this}}}}function Xr(n){return function(...t){{const e=t[0]?`on key "${t[0]}" `:"";console.warn(`${qk(n)} operation ${e}failed: target is readonly.`,le(this))}return n==="delete"?!1:this}}function hM(){const n={get(c){return ac(this,c)},get size(){return uc(this)},has:lc,add:Ov,set:Pv,delete:Rv,clear:Dv,forEach:cc(!1,!1)},t={get(c){return ac(this,c,!1,!0)},get size(){return uc(this)},has:lc,add:Ov,set:Pv,delete:Rv,clear:Dv,forEach:cc(!1,!0)},e={get(c){return ac(this,c,!0)},get size(){return uc(this,!0)},has(c){return lc.call(this,c,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:cc(!0,!1)},o={get(c){return ac(this,c,!0,!0)},get size(){return uc(this,!0)},has(c){return lc.call(this,c,!0)},add:Xr("add"),set:Xr("set"),delete:Xr("delete"),clear:Xr("clear"),forEach:cc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{n[c]=hc(c,!1,!1),e[c]=hc(c,!0,!1),t[c]=hc(c,!1,!0),o[c]=hc(c,!0,!0)}),[n,e,t,o]}var[dM,fM,pM,mM]=hM();function JA(n,t){const e=t?n?mM:pM:n?fM:dM;return(o,l,c)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?o:Reflect.get(hh(e,l)&&l in o?e:o,l,c)}var gM={get:JA(!1,!1)},_M={get:JA(!0,!1)};function XA(n,t,e){const o=le(e);if(o!==e&&t.call(n,o)){const l=jA(n);console.warn(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var QA=new WeakMap,vM=new WeakMap,t0=new WeakMap,bM=new WeakMap;function yM(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AM(n){return n.__v_skip||!Object.isExtensible(n)?0:yM(jA(n))}function cm(n){return n&&n.__v_isReadonly?n:n0(n,!1,uM,gM,QA)}function e0(n){return n0(n,!0,cM,_M,t0)}function n0(n,t,e,o,l){if(!dh(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(t&&n.__v_isReactive))return n;const c=l.get(n);if(c)return c;const d=AM(n);if(d===0)return n;const m=new Proxy(n,d===2?o:e);return l.set(n,m),m}function le(n){return n&&le(n.__v_raw)||n}function op(n){return!!(n&&n.__v_isRef===!0)}Ii("nextTick",()=>em);Ii("dispatch",n=>Bl.bind(Bl,n));Ii("watch",(n,{evaluateLater:t,cleanup:e})=>(o,l)=>{let c=t(o),m=Qy(()=>{let _;return c(w=>_=w),_},l);e(m)});Ii("store",Nk);Ii("data",n=>aA(n));Ii("root",n=>lh(n));Ii("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=Ql(wM(n))),n._x_refs_proxy));function wM(n){let t=[];return Sa(n,e=>{e._x_refs&&t.push(e._x_refs)}),t}var pf={};function i0(n){return pf[n]||(pf[n]=0),++pf[n]}function EM(n,t){return Sa(n,e=>{if(e._x_ids&&e._x_ids[t])return!0})}function xM(n,t){n._x_ids||(n._x_ids={}),n._x_ids[t]||(n._x_ids[t]=i0(t))}Ii("id",(n,{cleanup:t})=>(e,o=null)=>{let l=`${e}${o?`-${o}`:""}`;return TM(n,l,t,()=>{let c=EM(n,e),d=c?c._x_ids[e]:i0(e);return o?`${e}-${d}-${o}`:`${e}-${d}`})});ch((n,t)=>{n._x_id&&(t._x_id=n._x_id)});function TM(n,t,e,o){if(n._x_id||(n._x_id={}),n._x_id[t])return n._x_id[t];let l=o();return n._x_id[t]=l,e(()=>{delete n._x_id[t]}),l}Ii("el",n=>n);r0("Focus","focus","focus");r0("Persist","persist","persist");function r0(n,t,e){Ii(t,o=>ai(`You can't use [$${t}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,o))}De("modelable",(n,{expression:t},{effect:e,evaluateLater:o,cleanup:l})=>{let c=o(t),d=()=>{let E;return c(P=>E=P),E},m=o(`${t} = __placeholder`),_=E=>m(()=>{},{scope:{__placeholder:E}}),w=d();_(w),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let E=n._x_model.get,P=n._x_model.set,M=WA({get(){return E()},set(U){P(U)}},{get(){return d()},set(U){_(U)}});l(M)})});De("teleport",(n,{modifiers:t,expression:e},{cleanup:o})=>{n.tagName.toLowerCase()!=="template"&&ai("x-teleport can only be used on a <template> tag",n);let l=Iv(e),c=n.content.cloneNode(!0).firstElementChild;n._x_teleport=c,c._x_teleportBack=n,n.setAttribute("data-teleport-template",!0),c.setAttribute("data-teleport-target",!0),n._x_forwardEvents&&n._x_forwardEvents.forEach(m=>{c.addEventListener(m,_=>{_.stopPropagation(),n.dispatchEvent(new _.constructor(_.type,_))})}),Xl(c,{},n);let d=(m,_,w)=>{w.includes("prepend")?_.parentNode.insertBefore(m,_):w.includes("append")?_.parentNode.insertBefore(m,_.nextSibling):_.appendChild(m)};ve(()=>{d(c,l,t),fo(()=>{xr(c)})()}),n._x_teleportPutBack=()=>{let m=Iv(e);ve(()=>{d(n._x_teleport,m,t)})},o(()=>ve(()=>{c.remove(),La(c)}))});var CM=document.createElement("div");function Iv(n){let t=fo(()=>document.querySelector(n),()=>CM)();return t||ai(`Cannot find x-teleport element for selector: "${n}"`),t}var o0=()=>{};o0.inline=(n,{modifiers:t},{cleanup:e})=>{t.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,e(()=>{t.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})};De("ignore",o0);De("effect",fo((n,{expression:t},{effect:e})=>{e(xn(n,t))}));function sp(n,t,e,o){let l=n,c=_=>o(_),d={},m=(_,w)=>E=>w(_,E);if(e.includes("dot")&&(t=SM(t)),e.includes("camel")&&(t=LM(t)),e.includes("passive")&&(d.passive=!0),e.includes("capture")&&(d.capture=!0),e.includes("window")&&(l=window),e.includes("document")&&(l=document),e.includes("debounce")){let _=e[e.indexOf("debounce")+1]||"invalid-wait",w=$c(_.split("ms")[0])?Number(_.split("ms")[0]):250;c=FA(c,w)}if(e.includes("throttle")){let _=e[e.indexOf("throttle")+1]||"invalid-wait",w=$c(_.split("ms")[0])?Number(_.split("ms")[0]):250;c=zA(c,w)}return e.includes("prevent")&&(c=m(c,(_,w)=>{w.preventDefault(),_(w)})),e.includes("stop")&&(c=m(c,(_,w)=>{w.stopPropagation(),_(w)})),e.includes("once")&&(c=m(c,(_,w)=>{_(w),l.removeEventListener(t,c,d)})),(e.includes("away")||e.includes("outside"))&&(l=document,c=m(c,(_,w)=>{n.contains(w.target)||w.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&_(w))})),e.includes("self")&&(c=m(c,(_,w)=>{w.target===n&&_(w)})),(PM(t)||s0(t))&&(c=m(c,(_,w)=>{RM(w,e)||_(w)})),l.addEventListener(t,c,d),()=>{l.removeEventListener(t,c,d)}}function SM(n){return n.replace(/-/g,".")}function LM(n){return n.toLowerCase().replace(/-(\w)/g,(t,e)=>e.toUpperCase())}function $c(n){return!Array.isArray(n)&&!isNaN(n)}function OM(n){return[" ","_"].includes(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function PM(n){return["keydown","keyup"].includes(n)}function s0(n){return["contextmenu","click","mouse"].some(t=>n.includes(t))}function RM(n,t){let e=t.filter(c=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(c));if(e.includes("debounce")){let c=e.indexOf("debounce");e.splice(c,$c((e[c+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let c=e.indexOf("throttle");e.splice(c,$c((e[c+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&Nv(n.key).includes(e[0]))return!1;const l=["ctrl","shift","alt","meta","cmd","super"].filter(c=>e.includes(c));return e=e.filter(c=>!l.includes(c)),!(l.length>0&&l.filter(d=>((d==="cmd"||d==="super")&&(d="meta"),n[`${d}Key`])).length===l.length&&(s0(n.type)||Nv(n.key).includes(e[0])))}function Nv(n){if(!n)return[];n=OM(n);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[n]=n,Object.keys(t).map(e=>{if(t[e]===n)return e}).filter(e=>e)}De("model",(n,{modifiers:t,expression:e},{effect:o,cleanup:l})=>{let c=n;t.includes("parent")&&(c=n.parentNode);let d=xn(c,e),m;typeof e=="string"?m=xn(c,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?m=xn(c,`${e()} = __placeholder`):m=()=>{};let _=()=>{let M;return d(U=>M=U),kv(M)?M.get():M},w=M=>{let U;d(W=>U=W),kv(U)?U.set(M):m(()=>{},{scope:{__placeholder:M}})};typeof e=="string"&&n.type==="radio"&&ve(()=>{n.hasAttribute("name")||n.setAttribute("name",e)});var E=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||t.includes("lazy")?"change":"input";let P=ao?()=>{}:sp(n,E,t,M=>{w(mf(n,t,M,_()))});if(t.includes("fill")&&([void 0,null,""].includes(_())||im(n)&&Array.isArray(_())||n.tagName.toLowerCase()==="select"&&n.multiple)&&w(mf(n,t,{target:n},_())),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=P,l(()=>n._x_removeModelListeners.default()),n.form){let M=sp(n.form,"reset",[],U=>{em(()=>n._x_model&&n._x_model.set(mf(n,t,{target:n},_())))});l(()=>M())}n._x_model={get(){return _()},set(M){w(M)}},n._x_forceModelUpdate=M=>{M===void 0&&typeof e=="string"&&e.match(/\./)&&(M=""),window.fromModel=!0,ve(()=>IA(n,"value",M)),delete window.fromModel},o(()=>{let M=_();t.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(M)})});function mf(n,t,e,o){return ve(()=>{if(e instanceof CustomEvent&&e.detail!==void 0)return e.detail!==null&&e.detail!==void 0?e.detail:e.target.value;if(im(n))if(Array.isArray(o)){let l=null;return t.includes("number")?l=gf(e.target.value):t.includes("boolean")?l=Ec(e.target.value):l=e.target.value,e.target.checked?o.includes(l)?o:o.concat([l]):o.filter(c=>!DM(c,l))}else return e.target.checked;else{if(n.tagName.toLowerCase()==="select"&&n.multiple)return t.includes("number")?Array.from(e.target.selectedOptions).map(l=>{let c=l.value||l.text;return gf(c)}):t.includes("boolean")?Array.from(e.target.selectedOptions).map(l=>{let c=l.value||l.text;return Ec(c)}):Array.from(e.target.selectedOptions).map(l=>l.value||l.text);{let l;return BA(n)?e.target.checked?l=e.target.value:l=o:l=e.target.value,t.includes("number")?gf(l):t.includes("boolean")?Ec(l):t.includes("trim")?l.trim():l}}})}function gf(n){let t=n?parseFloat(n):null;return IM(t)?t:n}function DM(n,t){return n==t}function IM(n){return!Array.isArray(n)&&!isNaN(n)}function kv(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}De("cloak",n=>queueMicrotask(()=>ve(()=>n.removeAttribute(Ca("cloak")))));SA(()=>`[${Ca("init")}]`);De("init",fo((n,{expression:t},{evaluate:e})=>typeof t=="string"?!!t.trim()&&e(t,{},!1):e(t,{},!1)));De("text",(n,{expression:t},{effect:e,evaluateLater:o})=>{let l=o(t);e(()=>{l(c=>{ve(()=>{n.textContent=c})})})});De("html",(n,{expression:t},{effect:e,evaluateLater:o})=>{let l=o(t);e(()=>{l(c=>{ve(()=>{n.innerHTML=c,n._x_ignoreSelf=!0,xr(n),delete n._x_ignoreSelf})})})});Xp(_A(":",vA(Ca("bind:"))));var a0=(n,{value:t,modifiers:e,expression:o,original:l},{effect:c,cleanup:d})=>{if(!t){let _={};Mk(_),xn(n,o)(E=>{HA(n,E,l)},{scope:_});return}if(t==="key")return NM(n,o);if(n._x_inlineBindings&&n._x_inlineBindings[t]&&n._x_inlineBindings[t].extract)return;let m=xn(n,o);c(()=>m(_=>{_===void 0&&typeof o=="string"&&o.match(/\./)&&(_=""),ve(()=>IA(n,t,_,e))})),d(()=>{n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedStyles&&n._x_undoAddedStyles()})};a0.inline=(n,{value:t,modifiers:e,expression:o})=>{t&&(n._x_inlineBindings||(n._x_inlineBindings={}),n._x_inlineBindings[t]={expression:o,extract:!1})};De("bind",a0);function NM(n,t){n._x_keyExpression=t}CA(()=>`[${Ca("data")}]`);De("data",(n,{expression:t},{cleanup:e})=>{if(kM(n))return;t=t===""?"{}":t;let o={};Gf(o,n);let l={};Fk(l,o);let c=ss(n,t,{scope:l});(c===void 0||c===!0)&&(c={}),Gf(c,n);let d=xa(c);lA(d);let m=Xl(n,d);d.init&&ss(n,d.init),e(()=>{d.destroy&&ss(n,d.destroy),m()})});ch((n,t)=>{n._x_dataStack&&(t._x_dataStack=n._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function kM(n){return ao?np?!0:n.hasAttribute("data-has-alpine-state"):!1}De("show",(n,{modifiers:t,expression:e},{effect:o})=>{let l=xn(n,e);n._x_doHide||(n._x_doHide=()=>{ve(()=>{n.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{ve(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let c=()=>{n._x_doHide(),n._x_isShown=!1},d=()=>{n._x_doShow(),n._x_isShown=!0},m=()=>setTimeout(d),_=tp(P=>P?d():c(),P=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,P,d,c):P?m():c()}),w,E=!0;o(()=>l(P=>{!E&&P===w||(t.includes("immediate")&&(P?m():c()),_(P),w=P,E=!1)}))});De("for",(n,{expression:t},{effect:e,cleanup:o})=>{let l=BM(t),c=xn(n,l.items),d=xn(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},e(()=>MM(n,l,c,d)),o(()=>{Object.values(n._x_lookup).forEach(m=>ve(()=>{La(m),m.remove()})),delete n._x_prevKeys,delete n._x_lookup})});function MM(n,t,e,o){let l=d=>typeof d=="object"&&!Array.isArray(d),c=n;e(d=>{FM(d)&&d>=0&&(d=Array.from(Array(d).keys(),I=>I+1)),d===void 0&&(d=[]);let m=n._x_lookup,_=n._x_prevKeys,w=[],E=[];if(l(d))d=Object.entries(d).map(([I,Z])=>{let X=Mv(t,Z,I,d);o(Y=>{E.includes(Y)&&ai("Duplicate key on x-for",n),E.push(Y)},{scope:{index:I,...X}}),w.push(X)});else for(let I=0;I<d.length;I++){let Z=Mv(t,d[I],I,d);o(X=>{E.includes(X)&&ai("Duplicate key on x-for",n),E.push(X)},{scope:{index:I,...Z}}),w.push(Z)}let P=[],M=[],U=[],W=[];for(let I=0;I<_.length;I++){let Z=_[I];E.indexOf(Z)===-1&&U.push(Z)}_=_.filter(I=>!U.includes(I));let F="template";for(let I=0;I<E.length;I++){let Z=E[I],X=_.indexOf(Z);if(X===-1)_.splice(I,0,Z),P.push([F,I]);else if(X!==I){let Y=_.splice(I,1)[0],G=_.splice(X-1,1)[0];_.splice(I,0,G),_.splice(X,0,Y),M.push([Y,G])}else W.push(Z);F=Z}for(let I=0;I<U.length;I++){let Z=U[I];Z in m&&(ve(()=>{La(m[Z]),m[Z].remove()}),delete m[Z])}for(let I=0;I<M.length;I++){let[Z,X]=M[I],Y=m[Z],G=m[X],K=document.createElement("div");ve(()=>{G||ai('x-for ":key" is undefined or invalid',c,X,m),G.after(K),Y.after(G),G._x_currentIfEl&&G.after(G._x_currentIfEl),K.before(Y),Y._x_currentIfEl&&Y.after(Y._x_currentIfEl),K.remove()}),G._x_refreshXForScope(w[E.indexOf(X)])}for(let I=0;I<P.length;I++){let[Z,X]=P[I],Y=Z==="template"?c:m[Z];Y._x_currentIfEl&&(Y=Y._x_currentIfEl);let G=w[X],K=E[X],it=document.importNode(c.content,!0).firstElementChild,ct=xa(G);Xl(it,ct,c),it._x_refreshXForScope=Ft=>{Object.entries(Ft).forEach(([qt,Jt])=>{ct[qt]=Jt})},ve(()=>{Y.after(it),fo(()=>xr(it))()}),typeof K=="object"&&ai("x-for key cannot be an object, it must be a string or an integer",c),m[K]=it}for(let I=0;I<W.length;I++)m[W[I]]._x_refreshXForScope(w[E.indexOf(W[I])]);c._x_prevKeys=E})}function BM(n){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,l=n.match(o);if(!l)return;let c={};c.items=l[2].trim();let d=l[1].replace(e,"").trim(),m=d.match(t);return m?(c.item=d.replace(t,"").trim(),c.index=m[1].trim(),m[2]&&(c.collection=m[2].trim())):c.item=d,c}function Mv(n,t,e,o){let l={};return/^\[.*\]$/.test(n.item)&&Array.isArray(t)?n.item.replace("[","").replace("]","").split(",").map(d=>d.trim()).forEach((d,m)=>{l[d]=t[m]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(t)&&typeof t=="object"?n.item.replace("{","").replace("}","").split(",").map(d=>d.trim()).forEach(d=>{l[d]=t[d]}):l[n.item]=t,n.index&&(l[n.index]=e),n.collection&&(l[n.collection]=o),l}function FM(n){return!Array.isArray(n)&&!isNaN(n)}function l0(){}l0.inline=(n,{expression:t},{cleanup:e})=>{let o=lh(n);o._x_refs||(o._x_refs={}),o._x_refs[t]=n,e(()=>delete o._x_refs[t])};De("ref",l0);De("if",(n,{expression:t},{effect:e,cleanup:o})=>{n.tagName.toLowerCase()!=="template"&&ai("x-if can only be used on a <template> tag",n);let l=xn(n,t),c=()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let m=n.content.cloneNode(!0).firstElementChild;return Xl(m,{},n),ve(()=>{n.after(m),fo(()=>xr(m))()}),n._x_currentIfEl=m,n._x_undoIf=()=>{ve(()=>{La(m),m.remove()}),delete n._x_currentIfEl},m},d=()=>{n._x_undoIf&&(n._x_undoIf(),delete n._x_undoIf)};e(()=>l(m=>{m?c():d()})),o(()=>n._x_undoIf&&n._x_undoIf())});De("id",(n,{expression:t},{evaluate:e})=>{e(t).forEach(l=>xM(n,l))});ch((n,t)=>{n._x_ids&&(t._x_ids=n._x_ids)});Xp(_A("@",vA(Ca("on:"))));De("on",fo((n,{value:t,modifiers:e,expression:o},{cleanup:l})=>{let c=o?xn(n,o):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(t)||n._x_forwardEvents.push(t));let d=sp(n,t,e,m=>{c(()=>{},{scope:{$event:m},params:[m]})});l(()=>d())}));ph("Collapse","collapse","collapse");ph("Intersect","intersect","intersect");ph("Focus","trap","focus");ph("Mask","mask","mask");function ph(n,t,e){De(t,o=>ai(`You can't use [x-${t}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${e}`,o))}tu.setEvaluator(fA);tu.setReactivityEngine({reactive:cm,effect:Kk,release:Gk,raw:le});var zM=tu,u0=zM;var ap={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,t){(function(e,o){o(t)})(Xs,function(e){var o="1.9.4";function l(i){var s,u,f,g;for(u=1,f=arguments.length;u<f;u++){g=arguments[u];for(s in g)i[s]=g[s]}return i}var c=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function d(i,s){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var f=u.call(arguments,2);return function(){return i.apply(s,f.length?f.concat(u.call(arguments)):arguments)}}var m=0;function _(i){return"_leaflet_id"in i||(i._leaflet_id=++m),i._leaflet_id}function w(i,s,u){var f,g,b,T;return T=function(){f=!1,g&&(b.apply(u,g),g=!1)},b=function(){f?g=arguments:(i.apply(u,arguments),setTimeout(T,s),f=!0)},b}function E(i,s,u){var f=s[1],g=s[0],b=f-g;return i===f&&u?i:((i-g)%b+b)%b+g}function P(){return!1}function M(i,s){if(s===!1)return i;var u=Math.pow(10,s===void 0?6:s);return Math.round(i*u)/u}function U(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function W(i){return U(i).split(/\s+/)}function F(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?c(i.options):{});for(var u in s)i.options[u]=s[u];return i.options}function I(i,s,u){var f=[];for(var g in i)f.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(i[g]));return(!s||s.indexOf("?")===-1?"?":"&")+f.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function X(i,s){return i.replace(Z,function(u,f){var g=s[f];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(s)),g})}var Y=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function G(i,s){for(var u=0;u<i.length;u++)if(i[u]===s)return u;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function it(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var ct=0;function Ft(i){var s=+new Date,u=Math.max(0,16-(s-ct));return ct=s+u,window.setTimeout(i,u)}var qt=window.requestAnimationFrame||it("RequestAnimationFrame")||Ft,Jt=window.cancelAnimationFrame||it("CancelAnimationFrame")||it("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function zt(i,s,u){if(u&&qt===Ft)i.call(s);else return qt.call(window,d(i,s))}function Ot(i){i&&Jt.call(window,i)}var fe={__proto__:null,extend:l,create:c,bind:d,get lastId(){return m},stamp:_,throttle:w,wrapNum:E,falseFn:P,formatNum:M,trim:U,splitWords:W,setOptions:F,getParamString:I,template:X,isArray:Y,indexOf:G,emptyImageUrl:K,requestFn:qt,cancelFn:Jt,requestAnimFrame:zt,cancelAnimFrame:Ot};function ue(){}ue.extend=function(i){var s=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,f=c(u);f.constructor=s,s.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return i.statics&&l(s,i.statics),i.includes&&(nn(i.includes),l.apply(null,[f].concat(i.includes))),l(f,i),delete f.statics,delete f.includes,f.options&&(f.options=u.options?c(u.options):{},l(f.options,i.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,T=f._initHooks.length;b<T;b++)f._initHooks[b].call(this)}},s},ue.include=function(i){var s=this.prototype.options;return l(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},ue.mergeOptions=function(i){return l(this.prototype.options,i),this},ue.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function nn(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=Y(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Zt={on:function(i,s,u){if(typeof i=="object")for(var f in i)this._on(f,i[f],s);else{i=W(i);for(var g=0,b=i.length;g<b;g++)this._on(i[g],s,u)}return this},off:function(i,s,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var f in i)this._off(f,i[f],s);else{i=W(i);for(var g=arguments.length===1,b=0,T=i.length;b<T;b++)g?this._off(i[b]):this._off(i[b],s,u)}return this},_on:function(i,s,u,f){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,u)===!1){u===this&&(u=void 0);var g={fn:s,ctx:u};f&&(g.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(g)}},_off:function(i,s,u){var f,g,b;if(this._events&&(f=this._events[i],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,b=f.length;g<b;g++)f[g].fn=P;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var T=this._listens(i,s,u);if(T!==!1){var D=f[T];this._firingCount&&(D.fn=P,this._events[i]=f=f.slice()),f.splice(T,1)}}},fire:function(i,s,u){if(!this.listens(i,u))return this;var f=l({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[i];if(g){this._firingCount=this._firingCount+1||1;for(var b=0,T=g.length;b<T;b++){var D=g[b],N=D.fn;D.once&&this.off(i,N,D.ctx),N.call(D.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(i,s,u,f){typeof i!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(f=!!s,g=void 0,u=void 0);var b=this._events&&this._events[i];if(b&&b.length&&this._listens(i,g,u)!==!1)return!0;if(f){for(var T in this._eventParents)if(this._eventParents[T].listens(i,s,u,f))return!0}return!1},_listens:function(i,s,u){if(!this._events)return!1;var f=this._events[i]||[];if(!s)return!!f.length;u===this&&(u=void 0);for(var g=0,b=f.length;g<b;g++)if(f[g].fn===s&&f[g].ctx===u)return g;return!1},once:function(i,s,u){if(typeof i=="object")for(var f in i)this._on(f,i[f],s,!0);else{i=W(i);for(var g=0,b=i.length;g<b;g++)this._on(i[g],s,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[_(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[_(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,l({layer:i.target,propagatedFrom:i.target},i),!0)}};Zt.addEventListener=Zt.on,Zt.removeEventListener=Zt.clearAllEventListeners=Zt.off,Zt.addOneTimeEventListener=Zt.once,Zt.fireEvent=Zt.fire,Zt.hasEventListeners=Zt.listens;var Qt=ue.extend(Zt);function at(i,s,u){this.x=u?Math.round(i):i,this.y=u?Math.round(s):s}var rn=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};at.prototype={clone:function(){return new at(this.x,this.y)},add:function(i){return this.clone()._add(lt(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(lt(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new at(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new at(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=rn(this.x),this.y=rn(this.y),this},distanceTo:function(i){i=lt(i);var s=i.x-this.x,u=i.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(i){return i=lt(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=lt(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function lt(i,s,u){return i instanceof at?i:Y(i)?new at(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new at(i.x,i.y):new at(i,s,u)}function Ct(i,s){if(i)for(var u=s?[i,s]:i,f=0,g=u.length;f<g;f++)this.extend(u[f])}Ct.prototype={extend:function(i){var s,u;if(!i)return this;if(i instanceof at||typeof i[0]=="number"||"x"in i)s=u=lt(i);else if(i=St(i),s=i.min,u=i.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return lt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return lt(this.min.x,this.max.y)},getTopRight:function(){return lt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,u;return typeof i[0]=="number"||i instanceof at?i=lt(i):i=St(i),i instanceof Ct?(s=i.min,u=i.max):s=u=i,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=St(i);var s=this.min,u=this.max,f=i.min,g=i.max,b=g.x>=s.x&&f.x<=u.x,T=g.y>=s.y&&f.y<=u.y;return b&&T},overlaps:function(i){i=St(i);var s=this.min,u=this.max,f=i.min,g=i.max,b=g.x>s.x&&f.x<u.x,T=g.y>s.y&&f.y<u.y;return b&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,u=this.max,f=Math.abs(s.x-u.x)*i,g=Math.abs(s.y-u.y)*i;return St(lt(s.x-f,s.y-g),lt(u.x+f,u.y+g))},equals:function(i){return i?(i=St(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function St(i,s){return!i||i instanceof Ct?i:new Ct(i,s)}function ce(i,s){if(i)for(var u=s?[i,s]:i,f=0,g=u.length;f<g;f++)this.extend(u[f])}ce.prototype={extend:function(i){var s=this._southWest,u=this._northEast,f,g;if(i instanceof gt)f=i,g=i;else if(i instanceof ce){if(f=i._southWest,g=i._northEast,!f||!g)return this}else return i?this.extend(nt(i)||mt(i)):this;return!s&&!u?(this._southWest=new gt(f.lat,f.lng),this._northEast=new gt(g.lat,g.lng)):(s.lat=Math.min(f.lat,s.lat),s.lng=Math.min(f.lng,s.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(i){var s=this._southWest,u=this._northEast,f=Math.abs(s.lat-u.lat)*i,g=Math.abs(s.lng-u.lng)*i;return new ce(new gt(s.lat-f,s.lng-g),new gt(u.lat+f,u.lng+g))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof gt||"lat"in i?i=nt(i):i=mt(i);var s=this._southWest,u=this._northEast,f,g;return i instanceof ce?(f=i.getSouthWest(),g=i.getNorthEast()):f=g=i,f.lat>=s.lat&&g.lat<=u.lat&&f.lng>=s.lng&&g.lng<=u.lng},intersects:function(i){i=mt(i);var s=this._southWest,u=this._northEast,f=i.getSouthWest(),g=i.getNorthEast(),b=g.lat>=s.lat&&f.lat<=u.lat,T=g.lng>=s.lng&&f.lng<=u.lng;return b&&T},overlaps:function(i){i=mt(i);var s=this._southWest,u=this._northEast,f=i.getSouthWest(),g=i.getNorthEast(),b=g.lat>s.lat&&f.lat<u.lat,T=g.lng>s.lng&&f.lng<u.lng;return b&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=mt(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(i,s){return i instanceof ce?i:new ce(i,s)}function gt(i,s,u){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,u!==void 0&&(this.alt=+u)}gt.prototype={equals:function(i,s){if(!i)return!1;i=nt(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+M(this.lat,i)+", "+M(this.lng,i)+")"},distanceTo:function(i){return ee.distance(this,nt(i))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,u=s/Math.cos(Math.PI/180*this.lat);return mt([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function nt(i,s,u){return i instanceof gt?i:Y(i)&&typeof i[0]!="object"?i.length===3?new gt(i[0],i[1],i[2]):i.length===2?new gt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new gt(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new gt(i,s,u)}var be={latLngToPoint:function(i,s){var u=this.projection.project(i),f=this.scale(s);return this.transformation._transform(u,f)},pointToLatLng:function(i,s){var u=this.scale(s),f=this.transformation.untransform(i,u);return this.projection.unproject(f)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(i),f=this.transformation.transform(s.min,u),g=this.transformation.transform(s.max,u);return new Ct(f,g)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?E(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?E(i.lat,this.wrapLat,!0):i.lat,f=i.alt;return new gt(u,s,f)},wrapLatLngBounds:function(i){var s=i.getCenter(),u=this.wrapLatLng(s),f=s.lat-u.lat,g=s.lng-u.lng;if(f===0&&g===0)return i;var b=i.getSouthWest(),T=i.getNorthEast(),D=new gt(b.lat-f,b.lng-g),N=new gt(T.lat-f,T.lng-g);return new ce(D,N)}},ee=l({},be,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var u=Math.PI/180,f=i.lat*u,g=s.lat*u,b=Math.sin((s.lat-i.lat)*u/2),T=Math.sin((s.lng-i.lng)*u/2),D=b*b+Math.cos(f)*Math.cos(g)*T*T,N=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*N}}),on=6378137,fi={R:on,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,i.lat),-u),g=Math.sin(f*s);return new at(this.R*i.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(i){var s=180/Math.PI;return new gt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=on*Math.PI;return new Ct([-i,-i],[i,i])}()};function sn(i,s,u,f){if(Y(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=u,this._d=f}sn.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new at((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function an(i,s,u,f){return new sn(i,s,u,f)}var je=l({},ee,{code:"EPSG:3857",projection:fi,transformation:function(){var i=.5/(Math.PI*fi.R);return an(i,.5,-i,.5)}()}),Ie=l({},je,{code:"EPSG:900913"});function Be(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function pi(i,s){var u="",f,g,b,T,D,N;for(f=0,b=i.length;f<b;f++){for(D=i[f],g=0,T=D.length;g<T;g++)N=D[g],u+=(g?"L":"M")+N.x+" "+N.y;u+=s?ot.svg?"z":"x":""}return u||"M0 0"}var Oe=document.documentElement.style,qe="ActiveXObject"in window,Ni=qe&&!document.addEventListener,Ee="msLaunchUri"in navigator&&!("documentMode"in document),pe=cn("webkit"),Cn=cn("android"),Sn=cn("android 2")||cn("android 3"),Mn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),We=Cn&&cn("Google")&&Mn<537&&!("AudioNode"in window),ln=!!window.opera,Ln=!Ee&&cn("chrome"),un=cn("gecko")&&!pe&&!ln&&!qe,Cr=!Ln&&cn("safari"),ki=cn("phantom"),tr="OTransition"in Oe,Mi=navigator.platform.indexOf("Win")===0,mi=qe&&"transition"in Oe,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sn,Bn="MozPerspective"in Oe,er=!window.L_DISABLE_3D&&(mi||$e||Bn)&&!tr&&!ki,Fn=typeof orientation<"u"||cn("mobile"),Oa=Fn&&pe,Sr=Fn&&$e,nr=!window.PointerEvent&&window.MSPointerEvent,po=!!(window.PointerEvent||nr),gi="ontouchstart"in window||!!window.TouchEvent,Pa=!window.L_NO_TOUCH&&(gi||po),ye=Fn&&ln,Bi=Fn&&un,Ra=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mo=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",P,s),window.removeEventListener("testPassiveEventSupport",P,s)}catch{}return i}(),go=function(){return!!document.createElement("canvas").getContext}(),Lr=!!(document.createElementNS&&Be("svg").createSVGRect),ws=!!Lr&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ze=!Lr&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Or=navigator.platform.indexOf("Mac")===0,Pr=navigator.platform.indexOf("Linux")===0;function cn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ot={ie:qe,ielt9:Ni,edge:Ee,webkit:pe,android:Cn,android23:Sn,androidStock:We,opera:ln,chrome:Ln,gecko:un,safari:Cr,phantom:ki,opera12:tr,win:Mi,ie3d:mi,webkit3d:$e,gecko3d:Bn,any3d:er,mobile:Fn,mobileWebkit:Oa,mobileWebkit3d:Sr,msPointer:nr,pointer:po,touch:Pa,touchNative:gi,mobileOpera:ye,mobileGecko:Bi,retina:Ra,passiveEvents:mo,canvas:go,svg:Lr,vml:Ze,inlineSvg:ws,mac:Or,linux:Pr},_o=ot.msPointer?"MSPointerDown":"pointerdown",On=ot.msPointer?"MSPointerMove":"pointermove",vo=ot.msPointer?"MSPointerUp":"pointerup",bo=ot.msPointer?"MSPointerCancel":"pointercancel",Rr={touchstart:_o,touchmove:On,touchend:vo,touchcancel:bo},yo={touchstart:He,touchmove:Ke,touchend:Ke,touchcancel:Ke},_i={},C=!1;function rt(i,s,u){return s==="touchstart"&&ne(),yo[s]?(u=yo[s].bind(this,u),i.addEventListener(Rr[s],u,!1),u):(console.warn("wrong event specified:",s),P)}function J(i,s,u){if(!Rr[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Rr[s],u,!1)}function Rt(i){_i[i.pointerId]=i}function Wt(i){_i[i.pointerId]&&(_i[i.pointerId]=i)}function wt(i){delete _i[i.pointerId]}function ne(){C||(document.addEventListener(_o,Rt,!0),document.addEventListener(On,Wt,!0),document.addEventListener(vo,wt,!0),document.addEventListener(bo,wt,!0),C=!0)}function Ke(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in _i)s.touches.push(_i[u]);s.changedTouches=[s],i(s)}}function He(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&yt(s),Ke(i,s)}function Ne(i){var s={},u,f;for(f in i)u=i[f],s[f]=u&&u.bind?u.bind(i):u;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Es=200;function xs(i,s){i.addEventListener("dblclick",s);var u=0,f;function g(b){if(b.detail!==1){f=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var T=lu(b);if(!(T.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!T.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var D=Date.now();D-u<=Es?(f++,f===2&&s(Ne(b))):f=1,u=D}}}return i.addEventListener("click",g),{dblclick:s,simDblclick:g}}function eu(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var Ts=Ir(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dr=Ir(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nu=Dr==="webkitTransition"||Dr==="OTransition"?Dr+"End":"transitionend";function iu(i){return typeof i=="string"?document.getElementById(i):i}function Ao(i,s){var u=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(i,null);u=f?f[s]:null}return u==="auto"?null:u}function Ut(i,s,u){var f=document.createElement(i);return f.className=s||"",u&&u.appendChild(f),f}function ie(i){var s=i.parentNode;s&&s.removeChild(i)}function wo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ir(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Fi(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function Da(i,s){if(i.classList!==void 0)return i.classList.contains(s);var u=Ss(i);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function bt(i,s){if(i.classList!==void 0)for(var u=W(s),f=0,g=u.length;f<g;f++)i.classList.add(u[f]);else if(!Da(i,s)){var b=Ss(i);Cs(i,(b?b+" ":"")+s)}}function re(i,s){i.classList!==void 0?i.classList.remove(s):Cs(i,U((" "+Ss(i)+" ").replace(" "+s+" "," ")))}function Cs(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Ss(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function hn(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&ru(i,s)}function ru(i,s){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(f)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):i.style.filter+=" progid:"+f+"(opacity="+s+")"}function Ir(i){for(var s=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in s)return i[u];return!1}function rr(i,s,u){var f=s||new at(0,0);i.style[Ts]=(ot.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function me(i,s){i._leaflet_pos=s,ot.any3d?rr(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function vi(i){return i._leaflet_pos||new at(0,0)}var or,Jn,Ls;if("onselectstart"in document)or=function(){vt(window,"selectstart",yt)},Jn=function(){Xt(window,"selectstart",yt)};else{var Nr=Ir(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);or=function(){if(Nr){var i=document.documentElement.style;Ls=i[Nr],i[Nr]="none"}},Jn=function(){Nr&&(document.documentElement.style[Nr]=Ls,Ls=void 0)}}function Ia(){vt(window,"dragstart",yt)}function Os(){Xt(window,"dragstart",yt)}var Eo,Ps;function Rs(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ds(),Eo=i,Ps=i.style.outlineStyle,i.style.outlineStyle="none",vt(window,"keydown",Ds))}function Ds(){Eo&&(Eo.style.outlineStyle=Ps,Eo=void 0,Ps=void 0,Xt(window,"keydown",Ds))}function ou(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Na(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var su={__proto__:null,TRANSFORM:Ts,TRANSITION:Dr,TRANSITION_END:nu,get:iu,getStyle:Ao,create:Ut,remove:ie,empty:wo,toFront:ir,toBack:Fi,hasClass:Da,addClass:bt,removeClass:re,setClass:Cs,getClass:Ss,setOpacity:hn,testProp:Ir,setTransform:rr,setPosition:me,getPosition:vi,get disableTextSelection(){return or},get enableTextSelection(){return Jn},disableImageDrag:Ia,enableImageDrag:Os,preventOutline:Rs,restoreOutline:Ds,getSizedParentNode:ou,getScale:Na};function vt(i,s,u,f){if(s&&typeof s=="object")for(var g in s)ka(i,g,s[g],u);else{s=W(s);for(var b=0,T=s.length;b<T;b++)ka(i,s[b],u,f)}return this}var Xn="_leaflet_events";function Xt(i,s,u,f){if(arguments.length===1)au(i),delete i[Xn];else if(s&&typeof s=="object")for(var g in s)Ma(i,g,s[g],u);else if(s=W(s),arguments.length===2)au(i,function(D){return G(s,D)!==-1});else for(var b=0,T=s.length;b<T;b++)Ma(i,s[b],u,f);return this}function au(i,s){for(var u in i[Xn]){var f=u.split(/\d/)[0];(!s||s(f))&&Ma(i,f,null,null,u)}}var xo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ka(i,s,u,f){var g=s+_(u)+(f?"_"+_(f):"");if(i[Xn]&&i[Xn][g])return this;var b=function(D){return u.call(f||i,D||window.event)},T=b;!ot.touchNative&&ot.pointer&&s.indexOf("touch")===0?b=rt(i,s,b):ot.touch&&s==="dblclick"?b=xs(i,b):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(xo[s]||s,b,ot.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(b=function(D){D=D||window.event,Fa(i,D)&&T(D)},i.addEventListener(xo[s],b,!1)):i.addEventListener(s,T,!1):i.attachEvent("on"+s,b),i[Xn]=i[Xn]||{},i[Xn][g]=b}function Ma(i,s,u,f,g){g=g||s+_(u)+(f?"_"+_(f):"");var b=i[Xn]&&i[Xn][g];if(!b)return this;!ot.touchNative&&ot.pointer&&s.indexOf("touch")===0?J(i,s,b):ot.touch&&s==="dblclick"?eu(i,b):"removeEventListener"in i?i.removeEventListener(xo[s]||s,b,!1):i.detachEvent("on"+s,b),i[Xn][g]=null}function sr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Ba(i){return ka(i,"wheel",sr),this}function To(i){return vt(i,"mousedown touchstart dblclick contextmenu",sr),i._leaflet_disable_click=!0,this}function yt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Vt(i){return yt(i),sr(i),this}function lu(i){if(i.composedPath)return i.composedPath();for(var s=[],u=i.target;u;)s.push(u),u=u.parentNode;return s}function uu(i,s){if(!s)return new at(i.clientX,i.clientY);var u=Na(s),f=u.boundingClientRect;return new at((i.clientX-f.left)/u.x-s.clientLeft,(i.clientY-f.top)/u.y-s.clientTop)}var mh=ot.linux&&ot.chrome?window.devicePixelRatio:ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cu(i){return ot.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/mh:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Fa(i,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var gh={__proto__:null,on:vt,off:Xt,stopPropagation:sr,disableScrollPropagation:Ba,disableClickPropagation:To,preventDefault:yt,stop:Vt,getPropagationPath:lu,getMousePosition:uu,getWheelDelta:cu,isExternalTarget:Fa,addListener:vt,removeListener:Xt},za=Qt.extend({run:function(i,s,u,f){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=vi(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=zt(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var u=this._startPos.add(this._offset.multiplyBy(i));s&&u._round(),me(this._el,u),this.fire("step")},_complete:function(){Ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Bt=Qt.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=F(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(nt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Dr&&ot.any3d&&!ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),vt(this._proxy,nu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(nt(i),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=l({animate:u.animate},u.zoom),u.pan=l({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,u.zoom):this._tryAnimatedPan(i,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,u){var f=this.getZoomScale(s),g=this.getSize().divideBy(2),b=i instanceof at?i:this.latLngToContainerPoint(i),T=b.subtract(g).multiplyBy(1-1/f),D=this.containerPointToLatLng(g.add(T));return this.setView(D,s,{zoom:u})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():mt(i);var u=lt(s.paddingTopLeft||s.padding||[0,0]),f=lt(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(i,!1,u.add(f));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:i.getCenter(),zoom:g};var b=f.subtract(u).divideBy(2),T=this.project(i.getSouthWest(),g),D=this.project(i.getNorthEast(),g),N=this.unproject(T.add(D).divideBy(2).add(b),g);return{center:N,zoom:g}},fitBounds:function(i,s){if(i=mt(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=lt(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new za,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){bt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,u){if(u=u||{},u.animate===!1||!ot.any3d)return this.setView(i,s,u);this._stop();var f=this.project(this.getCenter()),g=this.project(i),b=this.getSize(),T=this._zoom;i=nt(i),s=s===void 0?T:s;var D=Math.max(b.x,b.y),N=D*this.getZoomScale(T,s),V=g.distanceTo(f)||1,tt=1.42,ut=tt*tt;function Et(oe){var zo=oe?-1:1,y=oe?N:D,Vr=N*N-D*D+zo*ut*ut*V*V,Vs=2*y*ut*V,Xe=Vr/Vs,Dt=Math.sqrt(Xe*Xe+1)-Xe,Ph=Dt<1e-9?-18:Math.log(Dt);return Ph}function Ae(oe){return(Math.exp(oe)-Math.exp(-oe))/2}function de(oe){return(Math.exp(oe)+Math.exp(-oe))/2}function Fe(oe){return Ae(oe)/de(oe)}var Me=Et(0);function Wn(oe){return D*(de(Me)/de(Me+tt*oe))}function Ch(oe){return D*(de(Me)*Fe(Me+tt*oe)-Ae(Me))/ut}function Sh(oe){return 1-Math.pow(1-oe,1.5)}var Lh=Date.now(),Cu=(Et(1)-Me)/tt,Oh=u.duration?1e3*u.duration:1e3*Cu*.8;function Fo(){var oe=(Date.now()-Lh)/Oh,zo=Sh(oe)*Cu;oe<=1?(this._flyToFrame=zt(Fo,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(Ch(zo)/V)),T),this.getScaleZoom(D/Wn(zo),T),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Fo.call(this),this},flyToBounds:function(i,s){var u=this._getBoundsCenterZoom(i,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(i){return i=mt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,mt(i));return u.equals(f)||this.panTo(f,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var u=lt(s.paddingTopLeft||s.padding||[0,0]),f=lt(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),b=this.project(i),T=this.getPixelBounds(),D=St([T.min.add(u),T.max.subtract(f)]),N=D.getSize();if(!D.contains(b)){this._enforcingBounds=!0;var V=b.subtract(D.getCenter()),tt=D.extend(b).getSize().subtract(N);g.x+=V.x<0?-tt.x:tt.x,g.y+=V.y<0?-tt.y:tt.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=l({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=s.divideBy(2).round(),g=u.divideBy(2).round(),b=f.subtract(g);return!b.x&&!b.y?this:(i.animate&&i.pan?this.panBy(b):(i.pan&&this._rawPanBy(b),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=l({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=d(this._handleGeolocationResponse,this),u=d(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,i):navigator.geolocation.getCurrentPosition(s,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,u=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,u=i.coords.longitude,f=new gt(s,u),g=f.toBounds(i.coords.accuracy*2),b=this._locateOptions;if(b.setView){var T=this.getBoundsZoom(g);this.setView(f,b.maxZoom?Math.min(T,b.maxZoom):T)}var D={latlng:f,bounds:g,timestamp:i.timestamp};for(var N in i.coords)typeof i.coords[N]=="number"&&(D[N]=i.coords[N]);this.fire("locationfound",D)}},addHandler:function(i,s){if(!s)return this;var u=this[i]=new s(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ie(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),f=Ut("div",u,s||this._mapPane);return i&&(this._panes[i]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new ce(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,u){i=mt(i),u=lt(u||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),b=this.getMaxZoom(),T=i.getNorthWest(),D=i.getSouthEast(),N=this.getSize().subtract(u),V=St(this.project(D,f),this.project(T,f)).getSize(),tt=ot.any3d?this.options.zoomSnap:1,ut=N.x/V.x,Et=N.y/V.y,Ae=s?Math.max(ut,Et):Math.min(ut,Et);return f=this.getScaleZoom(Ae,f),tt&&(f=Math.round(f/(tt/100))*(tt/100),f=s?Math.ceil(f/tt)*tt:Math.floor(f/tt)*tt),Math.max(g,Math.min(b,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new at(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var u=this._getTopLeftPoint(i,s);return new Ct(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(i)/u.scale(s)},getScaleZoom:function(i,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var f=u.zoom(i*u.scale(s));return isNaN(f)?1/0:f},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(nt(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(lt(i),s)},layerPointToLatLng:function(i){var s=lt(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(nt(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(nt(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(mt(i))},distance:function(i,s){return this.options.crs.distance(nt(i),nt(s))},containerPointToLayerPoint:function(i){return lt(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return lt(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(lt(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(nt(i)))},mouseEventToContainerPoint:function(i){return uu(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=iu(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");vt(s,"scroll",this._onScroll,this),this._containerId=_(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ot.any3d,bt(i,"leaflet-container"+(ot.touch?" leaflet-touch":"")+(ot.retina?" leaflet-retina":"")+(ot.ielt9?" leaflet-oldie":"")+(ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ao(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new at(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(i.markerPane,"leaflet-zoom-hide"),bt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,u){me(this._mapPane,new at(0,0));var f=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,u)._move(i,s)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,u,f){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),f?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){me(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[_(this._container)]=this;var s=i?Xt:vt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ot.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ot(this._resizeRequest),this._resizeRequest=zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var u=[],f,g=s==="mouseout"||s==="mouseover",b=i.target||i.srcElement,T=!1;b;){if(f=this._targets[_(b)],f&&(s==="click"||s==="preclick")&&this._draggableMoved(f)){T=!0;break}if(f&&f.listens(s,!0)&&(g&&!Fa(b,i)||(u.push(f),g))||b===this._container)break;b=b.parentNode}return!u.length&&!T&&!g&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var u=i.type;u==="mousedown"&&Rs(s),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,u){if(i.type==="click"){var f=l({},i);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var g=this._findEventTargets(i,s);if(u){for(var b=[],T=0;T<u.length;T++)u[T].listens(s,!0)&&b.push(u[T]);g=b.concat(g)}if(g.length){s==="contextmenu"&&yt(i);var D=g[0],N={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var V=D.getLatLng&&(!D._radius||D._radius<=10);N.containerPoint=V?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(i),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=V?D.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(T=0;T<g.length;T++)if(g[T].fire(s,N,!0),N.originalEvent._stopped||g[T].options.bubblingMouseEvents===!1&&G(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return vi(this._mapPane)||new at(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var u=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var u=this.getSize()._divideBy(2);return this.project(i,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,u){var f=this._getNewPixelOrigin(u,s);return this.project(i,s)._subtract(f)},_latLngBoundsToNewLayerBounds:function(i,s,u){var f=this._getNewPixelOrigin(u,s);return St([this.project(i.getSouthWest(),s)._subtract(f),this.project(i.getNorthWest(),s)._subtract(f),this.project(i.getSouthEast(),s)._subtract(f),this.project(i.getNorthEast(),s)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,u){if(!u)return i;var f=this.project(i,s),g=this.getSize().divideBy(2),b=new Ct(f.subtract(g),f.add(g)),T=this._getBoundsOffset(b,u,s);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?i:this.unproject(f.add(T),s)},_limitOffset:function(i,s){if(!s)return i;var u=this.getPixelBounds(),f=new Ct(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(f,s))},_getBoundsOffset:function(i,s,u){var f=St(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),g=f.min.subtract(i.min),b=f.max.subtract(i.max),T=this._rebound(g.x,-b.x),D=this._rebound(g.y,-b.y);return new at(T,D)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),u=this.getMaxZoom(),f=ot.any3d?this.options.zoomSnap:1;return f&&(i=Math.round(i/f)*f),Math.max(s,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var u=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var i=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var u=Ts,f=this._proxy.style[u];rr(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();rr(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(s),g=this._getCenterOffset(i)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(g)?!1:(zt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ke(i,s){return new Bt(i,s)}var dn=ue.extend({options:{position:"topright"},initialize:function(i){F(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),u=this.getPosition(),f=i._controlCorners[u];return bt(s,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(s,f.firstChild):f.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),zn=function(i){return new dn(i)};Bt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",u=this._controlContainer=Ut("div",s+"control-container",this._container);function f(g,b){var T=s+g+" "+s+b;i[g+b]=Ut("div",T,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ie(this._controlCorners[i]);ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wa=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,u,f){return u<f?-1:f<u?1:0}},initialize:function(i,s,u){F(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in i)this._addLayer(i[f],f);for(f in s)this._addLayer(s[f],f,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return dn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(_(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=Ut("div",i),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),To(s),Ba(s);var f=this._section=Ut("section",i+"-list");u&&(this._map.on("click",this.collapse,this),vt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Ut("a",i+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),vt(g,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){yt(b),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Ut("div",i+"-base",f),this._separator=Ut("div",i+"-separator",f),this._overlaysList=Ut("div",i+"-overlays",f),s.appendChild(f)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&_(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(d(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wo(this._baseLayersList),wo(this._overlaysList),this._layerControlInputs=[];var i,s,u,f,g=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),s=s||f.overlay,i=i||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(i=i&&g>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(_(i.target)),u=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(i,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(i){var s=document.createElement("label"),u=this._map.hasLayer(i.layer),f;i.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+_(this),u),this._layerControlInputs.push(f),f.layerId=_(i.layer),vt(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+i.name;var b=document.createElement("span");s.appendChild(b),b.appendChild(f),b.appendChild(g);var T=i.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,u,f=[],g=[];this._handlingClick=!0;for(var b=i.length-1;b>=0;b--)s=i[b],u=this._getLayer(s.layerId).layer,s.checked?f.push(u):s.checked||g.push(u);for(b=0;b<g.length;b++)this._map.hasLayer(g[b])&&this._map.removeLayer(g[b]);for(b=0;b<f.length;b++)this._map.hasLayer(f[b])||this._map.addLayer(f[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,u,f=this._map.getZoom(),g=i.length-1;g>=0;g--)s=i[g],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,vt(i,"click",yt),this.expand();var s=this;setTimeout(function(){Xt(i,"click",yt),s._preventClick=!1})}}),$a=function(i,s,u){return new Wa(i,s,u)},Ge=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",u=Ut("div",s+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,u,f,g){var b=Ut("a",u,f);return b.innerHTML=i,b.href="#",b.title=s,b.setAttribute("role","button"),b.setAttribute("aria-label",s),To(b),vt(b,"click",Vt),vt(b,"click",g,this),vt(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";re(this._zoomInButton,s),re(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(bt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(bt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ge,this.addControl(this.zoomControl))});var hu=function(i){return new Ge(i)},Ha=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",u=Ut("div",s),f=this.options;return this._addScales(f,s+"-line",u),i.on(f.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,u){i.metric&&(this._mScale=Ut("div",s,u)),i.imperial&&(this._iScale=Ut("div",s,u))},_update:function(){var i=this._map,s=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/i)},_updateImperial:function(i){var s=i*3.2808399,u,f,g;s>5280?(u=s/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(i,s,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),u=i/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),du=function(i){return new Ha(i)},fu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Is=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ot.inlineSvg?fu+" ":"")+"Leaflet</a>"},initialize:function(i){F(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),To(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new Is().addTo(this)});var pu=function(i){return new Is(i)};dn.Layers=Wa,dn.Zoom=Ge,dn.Scale=Ha,dn.Attribution=Is,zn.layers=$a,zn.zoom=hu,zn.scale=du,zn.attribution=pu;var he=ue.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});he.addTo=function(i,s){return i.addHandler(s,this),this};var _h={Events:Zt},fn=ot.touch?"touchstart mousedown":"mousedown",zi=Qt.extend({options:{clickTolerance:3},initialize:function(i,s,u,f){F(this,f),this._element=i,this._dragStartTarget=s||i,this._preventOutline=u},enable:function(){this._enabled||(vt(this._dragStartTarget,fn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zi._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,fn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Da(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){zi._dragging===this&&this.finishDrag();return}if(!(zi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(zi._dragging=this,this._preventOutline&&Rs(this._element),Ia(),or(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,u=ou(this._element);this._startPoint=new at(s.clientX,s.clientY),this._startPos=vi(this._element),this._parentScale=Na(u);var f=i.type==="mousedown";vt(document,f?"mousemove":"touchmove",this._onMove,this),vt(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,u=new at(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,yt(i),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),me(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){re(document.body,"leaflet-dragging"),this._lastTarget&&(re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xt(document,"mousemove touchmove",this._onMove,this),Xt(document,"mouseup touchend touchcancel",this._onUp,this),Os(),Jn();var s=this._moved&&this._moving;this._moving=!1,zi._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ua(i,s,u){var f,g=[1,4,2,8],b,T,D,N,V,tt,ut,Et;for(b=0,tt=i.length;b<tt;b++)i[b]._code=Qn(i[b],s);for(D=0;D<4;D++){for(ut=g[D],f=[],b=0,tt=i.length,T=tt-1;b<tt;T=b++)N=i[b],V=i[T],N._code&ut?V._code&ut||(Et=So(V,N,ut,s,u),Et._code=Qn(Et,s),f.push(Et)):(V._code&ut&&(Et=So(V,N,ut,s,u),Et._code=Qn(Et,s),f.push(Et)),f.push(N));i=f}return i}function bi(i,s){var u,f,g,b,T,D,N,V,tt;if(!i||i.length===0)throw new Error("latlngs not passed");pn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ut=nt([0,0]),Et=mt(i),Ae=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Ae<1700&&(ut=kr(i));var de=i.length,Fe=[];for(u=0;u<de;u++){var Me=nt(i[u]);Fe.push(s.project(nt([Me.lat-ut.lat,Me.lng-ut.lng])))}for(D=N=V=0,u=0,f=de-1;u<de;f=u++)g=Fe[u],b=Fe[f],T=g.y*b.x-b.y*g.x,N+=(g.x+b.x)*T,V+=(g.y+b.y)*T,D+=T*3;D===0?tt=Fe[0]:tt=[N/D,V/D];var Wn=s.unproject(lt(tt));return nt([Wn.lat+ut.lat,Wn.lng+ut.lng])}function kr(i){for(var s=0,u=0,f=0,g=0;g<i.length;g++){var b=nt(i[g]);s+=b.lat,u+=b.lng,f++}return nt([s/f,u/f])}var Va={__proto__:null,clipPolygon:Ua,polygonCenter:bi,centroid:kr};function te(i,s){if(!s||!i.length)return i.slice();var u=s*s;return i=bh(i,u),i=vh(i,u),i}function yi(i,s,u){return Math.sqrt(Lo(i,s,u,!0))}function ja(i,s,u){return Lo(i,s,u)}function vh(i,s){var u=i.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,g=new f(u);g[0]=g[u-1]=1,Co(i,g,s,0,u-1);var b,T=[];for(b=0;b<u;b++)g[b]&&T.push(i[b]);return T}function Co(i,s,u,f,g){var b=0,T,D,N;for(D=f+1;D<=g-1;D++)N=Lo(i[D],i[f],i[g],!0),N>b&&(T=D,b=N);b>u&&(s[T]=1,Co(i,s,u,f,T),Co(i,s,u,T,g))}function bh(i,s){for(var u=[i[0]],f=1,g=0,b=i.length;f<b;f++)Mr(i[f],i[g])>s&&(u.push(i[f]),g=f);return g<b-1&&u.push(i[b-1]),u}var mu;function gu(i,s,u,f,g){var b=f?mu:Qn(i,u),T=Qn(s,u),D,N,V;for(mu=T;;){if(!(b|T))return[i,s];if(b&T)return!1;D=b||T,N=So(i,s,D,u,g),V=Qn(N,u),D===b?(i=N,b=V):(s=N,T=V)}}function So(i,s,u,f,g){var b=s.x-i.x,T=s.y-i.y,D=f.min,N=f.max,V,tt;return u&8?(V=i.x+b*(N.y-i.y)/T,tt=N.y):u&4?(V=i.x+b*(D.y-i.y)/T,tt=D.y):u&2?(V=N.x,tt=i.y+T*(N.x-i.x)/b):u&1&&(V=D.x,tt=i.y+T*(D.x-i.x)/b),new at(V,tt,g)}function Qn(i,s){var u=0;return i.x<s.min.x?u|=1:i.x>s.max.x&&(u|=2),i.y<s.min.y?u|=4:i.y>s.max.y&&(u|=8),u}function Mr(i,s){var u=s.x-i.x,f=s.y-i.y;return u*u+f*f}function Lo(i,s,u,f){var g=s.x,b=s.y,T=u.x-g,D=u.y-b,N=T*T+D*D,V;return N>0&&(V=((i.x-g)*T+(i.y-b)*D)/N,V>1?(g=u.x,b=u.y):V>0&&(g+=T*V,b+=D*V)),T=i.x-g,D=i.y-b,f?T*T+D*D:new at(g,b)}function pn(i){return!Y(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function qa(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pn(i)}function Ns(i,s){var u,f,g,b,T,D,N,V;if(!i||i.length===0)throw new Error("latlngs not passed");pn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var tt=nt([0,0]),ut=mt(i),Et=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());Et<1700&&(tt=kr(i));var Ae=i.length,de=[];for(u=0;u<Ae;u++){var Fe=nt(i[u]);de.push(s.project(nt([Fe.lat-tt.lat,Fe.lng-tt.lng])))}for(u=0,f=0;u<Ae-1;u++)f+=de[u].distanceTo(de[u+1])/2;if(f===0)V=de[0];else for(u=0,b=0;u<Ae-1;u++)if(T=de[u],D=de[u+1],g=T.distanceTo(D),b+=g,b>f){N=(b-f)/g,V=[D.x-N*(D.x-T.x),D.y-N*(D.y-T.y)];break}var Me=s.unproject(lt(V));return nt([Me.lat+tt.lat,Me.lng+tt.lng])}var Za={__proto__:null,simplify:te,pointToSegmentDistance:yi,closestPointOnSegment:ja,clipSegment:gu,_getEdgeIntersection:So,_getBitCode:Qn,_sqClosestPointOnSegment:Lo,isFlat:pn,_flat:qa,polylineCenter:Ns},ks={project:function(i){return new at(i.lng,i.lat)},unproject:function(i){return new gt(i.y,i.x)},bounds:new Ct([-180,-90],[180,90])},Ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ct([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,u=this.R,f=i.lat*s,g=this.R_MINOR/u,b=Math.sqrt(1-g*g),T=b*Math.sin(f),D=Math.tan(Math.PI/4-f/2)/Math.pow((1-T)/(1+T),b/2);return f=-u*Math.log(Math.max(D,1e-10)),new at(i.lng*s*u,f)},unproject:function(i){for(var s=180/Math.PI,u=this.R,f=this.R_MINOR/u,g=Math.sqrt(1-f*f),b=Math.exp(-i.y/u),T=Math.PI/2-2*Math.atan(b),D=0,N=.1,V;D<15&&Math.abs(N)>1e-7;D++)V=g*Math.sin(T),V=Math.pow((1-V)/(1+V),g/2),N=Math.PI/2-2*Math.atan(b*V)-T,T+=N;return new gt(T*s,i.x*s/u)}},Ga={__proto__:null,LonLat:ks,Mercator:Ka,SphericalMercator:fi},Ya=l({},ee,{code:"EPSG:3395",projection:Ka,transformation:function(){var i=.5/(Math.PI*Ka.R);return an(i,.5,-i,.5)}()}),_u=l({},ee,{code:"EPSG:4326",projection:ks,transformation:an(1/180,1,-1/180,.5)}),vu=l({},be,{projection:ks,transformation:an(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var u=s.lng-i.lng,f=s.lat-i.lat;return Math.sqrt(u*u+f*f)},infinite:!0});be.Earth=ee,be.EPSG3395=Ya,be.EPSG3857=je,be.EPSG900913=Ie,be.EPSG4326=_u,be.Simple=vu;var ae=Qt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[_(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[_(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=_(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=_(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return _(i)in this._layers},eachLayer:function(i,s){for(var u in this._layers)i.call(s,this._layers[u]);return this},_addLayers:function(i){i=i?Y(i)?i:[i]:[];for(var s=0,u=i.length;s<u;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[_(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=_(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;i=g.minZoom===void 0?i:Math.min(i,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wi=ae.extend({initialize:function(i,s){F(this,s),this._layers={};var u,f;if(i)for(u=0,f=i.length;u<f;u++)this.addLayer(i[u])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[i]&&f[i].apply(f,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var u in this._layers)i.call(s,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return _(i)}}),Oo=function(i,s){return new Wi(i,s)},ti=Wi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Wi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Wi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ce;for(var s in this._layers){var u=this._layers[s];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),bu=function(i,s){return new ti(i,s)},Br=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){F(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(f,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(i,s){var u=this.options,f=u[s+"Size"];typeof f=="number"&&(f=[f,f]);var g=lt(f),b=lt(s==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(u.className||""),b&&(i.style.marginLeft=-b.x+"px",i.style.marginTop=-b.y+"px"),g&&(i.style.width=g.x+"px",i.style.height=g.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return ot.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function yh(i){return new Br(i)}var Po=Br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Po.imagePath!="string"&&(Po.imagePath=this._detectIconPath()),(this.options.imagePath||Po.imagePath)+Br.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(u,f,g){var b=f.exec(u);return b&&b[g]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Ut("div","leaflet-default-icon-path",document.body),s=Ao(i,"background-image")||Ao(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),yu=he.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new zi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,u=s._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,b=vi(s._icon),T=u.getPixelBounds(),D=u.getPixelOrigin(),N=St(T.min._subtract(D).add(g),T.max._subtract(D).subtract(g));if(!N.contains(b)){var V=lt((Math.max(N.max.x,b.x)-N.max.x)/(T.max.x-N.max.x)-(Math.min(N.min.x,b.x)-N.min.x)/(T.min.x-N.min.x),(Math.max(N.max.y,b.y)-N.max.y)/(T.max.y-N.max.y)-(Math.min(N.min.y,b.y)-N.min.y)/(T.min.y-N.min.y)).multiplyBy(f);u.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),me(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=zt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Ot(this._panRequest),this._panRequest=zt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,u=s._shadow,f=vi(s._icon),g=s._map.layerPointToLatLng(f);u&&me(u,f),s._latlng=g,i.latlng=g,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ms=ae.extend({options:{icon:new Po,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){F(this,s),this._latlng=nt(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=nt(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),bt(u,s),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(u,"focus",this._panOnFocus,this);var g=i.icon.createShadow(this._shadow),b=!1;g!==this._shadow&&(this._removeShadow(),b=!0),g&&(bt(g,s),g.alt=""),this._shadow=g,i.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&b&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,"focus",this._panOnFocus,this),ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ie(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&me(this._icon,i),this._shadow&&me(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yu)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yu(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&hn(this._icon,i),this._shadow&&hn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,u=s.iconSize?lt(s.iconSize):lt(0,0),f=s.iconAnchor?lt(s.iconAnchor):lt(0,0);i.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fr(i,s){return new Ms(i,s)}var $i=ae.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return F(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bs=$i.extend({options:{fill:!0,radius:10},initialize:function(i,s){F(this,s),this._latlng=nt(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=nt(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return $i.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,u=this._clickTolerance(),f=[i+u,s+u];this._pxBounds=new Ct(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ja(i,s){return new Bs(i,s)}var Fs=Bs.extend({initialize:function(i,s,u){if(typeof s=="number"&&(s=l({},u,{radius:s})),F(this,s),this._latlng=nt(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:$i.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===ee.distance){var g=Math.PI/180,b=this._mRadius/ee.R/g,T=u.project([s+b,i]),D=u.project([s-b,i]),N=T.add(D).divideBy(2),V=u.unproject(N).lat,tt=Math.acos((Math.cos(b*g)-Math.sin(s*g)*Math.sin(V*g))/(Math.cos(s*g)*Math.cos(V*g)))/g;(isNaN(tt)||tt===0)&&(tt=b/Math.cos(Math.PI/180*s)),this._point=N.subtract(u.getPixelOrigin()),this._radius=isNaN(tt)?0:N.x-u.project([V,i-tt]).x,this._radiusY=N.y-T.y}else{var ut=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(ut).x}this._updateBounds()}});function Hi(i,s,u){return new Fs(i,s,u)}var Pn=$i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){F(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,u=null,f=Lo,g,b,T=0,D=this._parts.length;T<D;T++)for(var N=this._parts[T],V=1,tt=N.length;V<tt;V++){g=N[V-1],b=N[V];var ut=f(i,g,b,!0);ut<s&&(s=ut,u=f(i,g,b))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ns(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=nt(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ce,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],u=pn(i),f=0,g=i.length;f<g;f++)u?(s[f]=nt(i[f]),this._bounds.extend(s[f])):s[f]=this._convertLatLngs(i[f]);return s},_project:function(){var i=new Ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new at(i,i);this._rawPxBounds&&(this._pxBounds=new Ct([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,u){var f=i[0]instanceof gt,g=i.length,b,T;if(f){for(T=[],b=0;b<g;b++)T[b]=this._map.latLngToLayerPoint(i[b]),u.extend(T[b]);s.push(T)}else for(b=0;b<g;b++)this._projectLatlngs(i[b],s,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,f,g,b,T,D,N;for(u=0,g=0,b=this._rings.length;u<b;u++)for(N=this._rings[u],f=0,T=N.length;f<T-1;f++)D=gu(N[f],N[f+1],i,f,!0),D&&(s[g]=s[g]||[],s[g].push(D[0]),(D[1]!==N[f+1]||f===T-2)&&(s[g].push(D[1]),g++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,u=0,f=i.length;u<f;u++)i[u]=te(i[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var u,f,g,b,T,D,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,b=this._parts.length;u<b;u++)for(D=this._parts[u],f=0,T=D.length,g=T-1;f<T;g=f++)if(!(!s&&f===0)&&yi(i,D[g],D[f])<=N)return!0;return!1}});function Ah(i,s){return new Pn(i,s)}Pn._flat=qa;var zr=Pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=Pn.prototype._convertLatLngs.call(this,i),u=s.length;return u>=2&&s[0]instanceof gt&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(i){Pn.prototype._setLatLngs.call(this,i),pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,u=new at(s,s);if(i=new Ct(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,b;f<g;f++)b=Ua(this._rings[f],i,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,u,f,g,b,T,D,N,V;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(b=0,N=this._parts.length;b<N;b++)for(u=this._parts[b],T=0,V=u.length,D=V-1;T<V;D=T++)f=u[T],g=u[D],f.y>i.y!=g.y>i.y&&i.x<(g.x-f.x)*(i.y-f.y)/(g.y-f.y)+f.x&&(s=!s);return s||Pn.prototype._containsPoint.call(this,i,!0)}});function wh(i,s){return new zr(i,s)}var Ye=ti.extend({initialize:function(i,s){F(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=Y(i)?i:i.features,u,f,g;if(s){for(u=0,f=s.length;u<f;u++)g=s[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var b=this.options;if(b.filter&&!b.filter(i))return this;var T=Je(i,b);return T?(T.feature=Ai(i),T.defaultOptions=T.options,this.resetStyle(T),b.onEachFeature&&b.onEachFeature(i,T),this.addLayer(T)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=l({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Je(i,s){var u=i.type==="Feature"?i.geometry:i,f=u?u.coordinates:null,g=[],b=s&&s.pointToLayer,T=s&&s.coordsToLatLng||Qa,D,N,V,tt;if(!f&&!u)return null;switch(u.type){case"Point":return D=T(f),Xa(b,i,D,s);case"MultiPoint":for(V=0,tt=f.length;V<tt;V++)D=T(f[V]),g.push(Xa(b,i,D,s));return new ti(g);case"LineString":case"MultiLineString":return N=zs(f,u.type==="LineString"?0:1,T),new Pn(N,s);case"Polygon":case"MultiPolygon":return N=zs(f,u.type==="Polygon"?1:2,T),new zr(N,s);case"GeometryCollection":for(V=0,tt=u.geometries.length;V<tt;V++){var ut=Je({geometry:u.geometries[V],type:"Feature",properties:i.properties},s);ut&&g.push(ut)}return new ti(g);case"FeatureCollection":for(V=0,tt=u.features.length;V<tt;V++){var Et=Je(u.features[V],s);Et&&g.push(Et)}return new ti(g);default:throw new Error("Invalid GeoJSON object.")}}function Xa(i,s,u,f){return i?i(s,u):new Ms(u,f&&f.markersInheritOptions&&f)}function Qa(i){return new gt(i[1],i[0],i[2])}function zs(i,s,u){for(var f=[],g=0,b=i.length,T;g<b;g++)T=s?zs(i[g],s-1,u):(u||Qa)(i[g]),f.push(T);return f}function tl(i,s){return i=nt(i),i.alt!==void 0?[M(i.lng,s),M(i.lat,s),M(i.alt,s)]:[M(i.lng,s),M(i.lat,s)]}function Ws(i,s,u,f){for(var g=[],b=0,T=i.length;b<T;b++)g.push(s?Ws(i[b],pn(i[b])?0:s-1,u,f):tl(i[b],f));return!s&&u&&g.length>0&&g.push(g[0].slice()),g}function Wr(i,s){return i.feature?l({},i.feature,{geometry:s}):Ai(s)}function Ai(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var O={toGeoJSON:function(i){return Wr(this,{type:"Point",coordinates:tl(this.getLatLng(),i)})}};Ms.include(O),Fs.include(O),Bs.include(O),Pn.include({toGeoJSON:function(i){var s=!pn(this._latlngs),u=Ws(this._latlngs,s?1:0,!1,i);return Wr(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),zr.include({toGeoJSON:function(i){var s=!pn(this._latlngs),u=s&&!pn(this._latlngs[0]),f=Ws(this._latlngs,u?2:s?1:0,!0,i);return s||(f=[f]),Wr(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),Wi.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(i).geometry.coordinates)}),Wr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var u=s==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var b=g.toGeoJSON(i);if(u)f.push(b.geometry);else{var T=Ai(b);T.type==="FeatureCollection"?f.push.apply(f,T.features):f.push(T)}}}),u?Wr(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function z(i,s){return new Ye(i,s)}var k=z,et=ae.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,u){this._url=i,this._bounds=mt(s),F(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ir(this._image),this},bringToBack:function(){return this._map&&Fi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=mt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:Ut("img");if(bt(s,"leaflet-image-layer"),this._zoomAnimated&&bt(s,"leaflet-zoom-animated"),this.options.className&&bt(s,this.options.className),s.onselectstart=P,s.onmousemove=P,s.onload=d(this.fire,this,"load"),s.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;rr(this._image,u,s)},_reset:function(){var i=this._image,s=new Ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();me(i,s.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){hn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),_t=function(i,s,u){return new et(i,s,u)},jt=et.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:Ut("video");if(bt(s,"leaflet-image-layer"),this._zoomAnimated&&bt(s,"leaflet-zoom-animated"),this.options.className&&bt(s,this.options.className),s.onselectstart=P,s.onmousemove=P,s.onloadeddata=d(this.fire,this,"load"),i){for(var u=s.getElementsByTagName("source"),f=[],g=0;g<u.length;g++)f.push(u[g].src);this._url=u.length>0?f:[s.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var T=Ut("source");T.src=this._url[b],s.appendChild(T)}}});function xe(i,s,u){return new jt(i,s,u)}var Kt=et.extend({_initImage:function(){var i=this._image=this._url;bt(i,"leaflet-image-layer"),this._zoomAnimated&&bt(i,"leaflet-zoom-animated"),this.options.className&&bt(i,this.options.className),i.onselectstart=P,i.onmousemove=P}});function el(i,s,u){return new Kt(i,s,u)}var ei=ae.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof gt||Y(i))?(this._latlng=nt(i),F(this,s)):(F(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&hn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&hn(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(hn(this._container,0),this._removeTimeout=setTimeout(d(ie,void 0,this._container),200)):ie(this._container),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=nt(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ir(this._container),this},bringToBack:function(){return this._map&&Fi(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof ti){s=null;var u=this._source._layers;for(var f in u)if(u[f]._map){s=u[f];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=lt(this.options.offset),u=this._getAnchor();this._zoomAnimated?me(this._container,i.add(u)):s=s.add(i).add(u);var f=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(i,s,u,f){var g=s;return g instanceof i||(g=new i(f).setContent(s)),u&&g.setLatLng(u),g}}),ae.include({_initOverlay:function(i,s,u,f){var g=u;return g instanceof i?(F(g,f),g._source=this):(g=s&&!f?s:new i(f,this),g.setContent(u)),g}});var Ue=ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,ei.prototype.openOn.call(this,i)},onAdd:function(i){ei.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $i||this._source.on("preclick",sr))},onRemove:function(i){ei.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $i||this._source.off("preclick",sr))},getEvents:function(){var i=ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=Ut("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Ut("div",i+"-content-wrapper",s);if(this._contentNode=Ut("div",i+"-content",u),To(s),Ba(this._contentNode),vt(s,"contextmenu",sr),this._tipContainer=Ut("div",i+"-tip-container",s),this._tip=Ut("div",i+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Ut("a",i+"-close-button",s);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',vt(f,"click",function(g){yt(g),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var f=i.offsetHeight,g=this.options.maxHeight,b="leaflet-popup-scrolled";g&&f>g?(s.height=g+"px",bt(i,b)):re(i,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();me(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(Ao(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,f=this._containerWidth,g=new at(this._containerLeft,-u-this._containerBottom);g._add(vi(this._container));var b=i.layerPointToContainerPoint(g),T=lt(this.options.autoPanPadding),D=lt(this.options.autoPanPaddingTopLeft||T),N=lt(this.options.autoPanPaddingBottomRight||T),V=i.getSize(),tt=0,ut=0;b.x+f+N.x>V.x&&(tt=b.x+f-V.x+N.x),b.x-tt-D.x<0&&(tt=b.x-D.x),b.y+u+N.y>V.y&&(ut=b.y+u-V.y+N.y),b.y-ut-D.y<0&&(ut=b.y-D.y),(tt||ut)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([tt,ut]))}},_getAnchor:function(){return lt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$s=function(i,s){return new Ue(i,s)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(i,s,u){return this._initOverlay(Ue,i,s,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ae.include({bindPopup:function(i,s){return this._popup=this._initOverlay(Ue,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Vt(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof $i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Hs=ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){ei.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){ei.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=ei.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,u,f=this._map,g=this._container,b=f.latLngToContainerPoint(f.getCenter()),T=f.layerPointToContainerPoint(i),D=this.options.direction,N=g.offsetWidth,V=g.offsetHeight,tt=lt(this.options.offset),ut=this._getAnchor();D==="top"?(s=N/2,u=V):D==="bottom"?(s=N/2,u=0):D==="center"?(s=N/2,u=V/2):D==="right"?(s=0,u=V/2):D==="left"?(s=N,u=V/2):T.x<b.x?(D="right",s=0,u=V/2):(D="left",s=N+(tt.x+ut.x)*2,u=V/2),i=i.subtract(lt(s,u,!0)).add(tt).add(ut),re(g,"leaflet-tooltip-right"),re(g,"leaflet-tooltip-left"),re(g,"leaflet-tooltip-top"),re(g,"leaflet-tooltip-bottom"),bt(g,"leaflet-tooltip-"+D),me(g,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&hn(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return lt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$r=function(i,s){return new Hs(i,s)};Bt.include({openTooltip:function(i,s,u){return this._initOverlay(Hs,i,s,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ae.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hs,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(vt(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),vt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,u,f;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),f=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(s)}});var Ro=Br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(wo(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=lt(u.bgPos);s.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Us(i){return new Ro(i)}Br.Default=Po;var $t=ae.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){F(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ie(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ir(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof at?i:new at(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,u=-i(-1/0,1/0),f=0,g=s.length,b;f<g;f++)b=s[f].style.zIndex,s[f]!==this._container&&b&&(u=i(u,+b));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ot.ielt9){hn(this._container,this.options.opacity);var i=+new Date,s=!1,u=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var b=Math.min(1,(i-g.loaded)/200);hn(g.el,b),b<1?s=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(Ot(this._fadeFrame),this._fadeFrame=zt(this._updateOpacity,this))}},_onOpaqueTile:P,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=s-Math.abs(i-u),this._onUpdateLevel(u)):(ie(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[i],g=this._map;return f||(f=this._levels[i]={},f.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=s,f.origin=g.project(g.unproject(g.getPixelOrigin()),i).round(),f.zoom=i,this._setZoomTransform(f,g.getCenter(),g.getZoom()),P(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:P,_onRemoveLevel:P,_onCreateLevel:P,_pruneTiles:function(){if(this._map){var i,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var f=s.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ie(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,u,f){var g=Math.floor(i/2),b=Math.floor(s/2),T=u-1,D=new at(+g,+b);D.z=+T;var N=this._tileCoordsToKey(D),V=this._tiles[N];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),T>f?this._retainParent(g,b,T,f):!1)},_retainChildren:function(i,s,u,f){for(var g=2*i;g<2*i+2;g++)for(var b=2*s;b<2*s+2;b++){var T=new at(g,b);T.z=u+1;var D=this._tileCoordsToKey(T),N=this._tiles[D];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);u+1<f&&this._retainChildren(g,b,u+1,f)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,u,f){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var b=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||b)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,s)},_setZoomTransform:function(i,s,u){var f=this._map.getZoomScale(u,i.zoom),g=i.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(s,u)).round();ot.any3d?rr(i.el,g,f):me(i.el,g)},_resetGrid:function(){var i=this._map,s=i.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],f).x/u.x),Math.ceil(i.project([0,s.wrapLng[1]],f).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],f).y/u.x),Math.ceil(i.project([s.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),f=s.getZoomScale(u,this._tileZoom),g=s.project(i,this._tileZoom).floor(),b=s.getSize().divideBy(f*2);return new Ct(g.subtract(b),g.add(b))},_update:function(i){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(i),g=this._pxBoundsToTileRange(f),b=g.getCenter(),T=[],D=this.options.keepBuffer,N=new Ct(g.getBottomLeft().subtract([D,-D]),g.getTopRight().add([D,-D]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var tt=this._tiles[V].coords;(tt.z!==this._tileZoom||!N.contains(new at(tt.x,tt.y)))&&(this._tiles[V].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var ut=g.min.y;ut<=g.max.y;ut++)for(var Et=g.min.x;Et<=g.max.x;Et++){var Ae=new at(Et,ut);if(Ae.z=this._tileZoom,!!this._isValidTile(Ae)){var de=this._tiles[this._tileCoordsToKey(Ae)];de?de.current=!0:T.push(Ae)}}if(T.sort(function(Me,Wn){return Me.distanceTo(b)-Wn.distanceTo(b)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fe=document.createDocumentFragment();for(Et=0;Et<T.length;Et++)this._addTile(T[Et],Fe);this._level.el.appendChild(Fe)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!s.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(i);return mt(this.options.bounds).overlaps(f)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,u=this.getTileSize(),f=i.scaleBy(u),g=f.add(u),b=s.unproject(f,i.z),T=s.unproject(g,i.z);return[b,T]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),u=new ce(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),u=new at(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(i){var s=this._tiles[i];s&&(ie(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){bt(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=P,i.onmousemove=P,ot.ielt9&&this.options.opacity<1&&hn(i,this.options.opacity)},_addTile:function(i,s){var u=this._getTilePos(i),f=this._tileCoordsToKey(i),g=this.createTile(this._wrapCoords(i),d(this._tileReady,this,i));this._initTile(g),this.createTile.length<2&&zt(d(this._tileReady,this,i,null,g)),me(g,u),this._tiles[f]={el:g,coords:i,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:i})},_tileReady:function(i,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:i});var f=this._tileCoordsToKey(i);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(hn(u.el,0),Ot(this._fadeFrame),this._fadeFrame=zt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(bt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ot.ielt9||!this._map._fadeAnimated?zt(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new at(this._wrapX?E(i.x,this._wrapX):i.x,this._wrapY?E(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new Ct(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Eh(i){return new $t(i)}var ar=$t.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=F(this,s),s.detectRetina&&ot.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var u=document.createElement("img");return vt(u,"load",d(this._tileOnLoad,this,s,u)),vt(u,"error",d(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var s={r:ot.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=u),s["-y"]=u}return X(this._url,l(s,this.options))},_tileOnLoad:function(i,s){ot.ielt9?setTimeout(d(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,u){var f=this.options.errorTileUrl;f&&s.getAttribute("src")!==f&&(s.src=f),i(u,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(i=s-i),i+f},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=P,s.onerror=P,!s.complete)){s.src=K;var u=this._tiles[i].coords;ie(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",K),$t.prototype._removeTile.call(this,i)},_tileReady:function(i,s,u){if(!(!this._map||u&&u.getAttribute("src")===K))return $t.prototype._tileReady.call(this,i,s,u)}});function Do(i,s){return new ar(i,s)}var Au=ar.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var u=l({},this.defaultWmsParams);for(var f in s)f in this.options||(u[f]=s[f]);s=F(this,s);var g=s.detectRetina&&ot.retina?2:1,b=this.getTileSize();u.width=b.x*g,u.height=b.y*g,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ar.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),u=this._crs,f=St(u.project(s[0]),u.project(s[1])),g=f.min,b=f.max,T=(this._wmsVersion>=1.3&&this._crs===_u?[g.y,g.x,b.y,b.x]:[g.x,g.y,b.x,b.y]).join(","),D=ar.prototype.getTileUrl.call(this,i);return D+I(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(i,s){return l(this.wmsParams,i),s||this.redraw(),this}});function xh(i,s){return new Au(i,s)}ar.WMS=Au,Do.wms=xh;var wi=ae.extend({options:{padding:.1},initialize:function(i){F(this,i),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var u=this._map.getZoomScale(s,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),b=f.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(i,s));ot.any3d?rr(this._container,b,u):me(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new Ct(u,u.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Io=wi.extend({options:{tolerance:0},getEvents:function(){var i=wi.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");vt(i,"mousemove",this._onMouseMove,this),vt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),vt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Ot(this._redrawRequest),delete this._ctx,ie(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wi.prototype._update.call(this);var i=this._bounds,s=this._container,u=i.getSize(),f=ot.retina?2:1;me(s,i.min),s.width=f*u.x,s.height=f*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[_(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,u=s.next,f=s.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete i._order,delete this._layers[_(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),u=[],f,g;for(g=0;g<s.length;g++){if(f=Number(s[g]),isNaN(f))return;u.push(f)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||zt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ct,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)i=f.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var u,f,g,b,T=i._parts,D=T.length,N=this._ctx;if(D){for(N.beginPath(),u=0;u<D;u++){for(f=0,g=T[u].length;f<g;f++)b=T[u][f],N[f?"lineTo":"moveTo"](b.x,b.y);s&&N.closePath()}this._fillStroke(N,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,u=this._ctx,f=Math.max(Math.round(i._radius),1),g=(Math.max(Math.round(i._radiusY),1)||f)/f;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(s.x,s.y/g,f,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,s){var u=s.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),u,f,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(re(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var u,f,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(s)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(i),f&&(bt(this._container,"leaflet-interactive"),this._fireEvent([f],i,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,u){this._map._fireDOMEvent(s,u||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var u=s.next,f=s.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var u=s.next,f=s.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Ei(i){return ot.canvas?new Io(i):null}var Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),wu={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wi.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=Ui("shape");bt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=Ui("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[_(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;ie(s),i.removeInteractiveTarget(s),delete this._layers[_(i)]},_updateStyle:function(i){var s=i._stroke,u=i._fill,f=i.options,g=i._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(s||(s=i._stroke=Ui("stroke")),g.appendChild(s),s.weight=f.weight+"px",s.color=f.color,s.opacity=f.opacity,f.dashArray?s.dashStyle=Y(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=f.lineCap.replace("butt","flat"),s.joinstyle=f.lineJoin):s&&(g.removeChild(s),i._stroke=null),f.fill?(u||(u=i._fill=Ui("fill")),g.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(g.removeChild(u),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),u=Math.round(i._radius),f=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){ir(i._container)},_bringToBack:function(i){Fi(i._container)}},lr=ot.vml?Ui:Be,Hr=wi.extend({_initContainer:function(){this._container=lr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ie(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wi.prototype._update.call(this);var i=this._bounds,s=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),me(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=lr("path");i.options.className&&bt(s,i.options.className),i.options.interactive&&bt(s,"leaflet-interactive"),this._updateStyle(i),this._layers[_(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ie(i._path),i.removeInteractiveTarget(i._path),delete this._layers[_(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,u=i.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,pi(i._parts,s))},_updateCircle:function(i){var s=i._point,u=Math.max(Math.round(i._radius),1),f=Math.max(Math.round(i._radiusY),1)||u,g="a"+u+","+f+" 0 1,0 ",b=i._empty()?"M0 0":"M"+(s.x-u)+","+s.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(i,b)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){ir(i._path)},_bringToBack:function(i){Fi(i._path)}});ot.vml&&Hr.include(wu);function nl(i){return ot.svg||ot.vml?new Hr(i):null}Bt.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Ei(i)||nl(i)}});var No=zr.extend({initialize:function(i,s){zr.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=mt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Eu(i,s){return new No(i,s)}Hr.create=lr,Hr.pointsToPath=pi,Ye.geometryToLayer=Je,Ye.coordsToLatLng=Qa,Ye.coordsToLatLngs=zs,Ye.latLngToCoords=tl,Ye.latLngsToCoords=Ws,Ye.getFeature=Wr,Ye.asFeature=Ai,Bt.mergeOptions({boxZoom:!0});var Ur=he.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),or(),Ia(),this._startPoint=this._map.mouseEventToContainerPoint(i),vt(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new Ct(this._point,this._startPoint),u=s.getSize();me(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ie(this._box),re(this._container,"leaflet-crosshair")),Jn(),Os(),Xt(document,{contextmenu:Vt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var s=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",Ur),Bt.mergeOptions({doubleClickZoom:!0});var Vi=he.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,u=s.getZoom(),f=s.options.zoomDelta,g=i.originalEvent.shiftKey?u-f:u+f;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(i.containerPoint,g)}});Bt.addInitHook("addHandler","doubleClickZoom",Vi),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ko=he.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new zi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){re(this._map._container,"leaflet-grab"),re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=mt(this._map.options.maxBounds);this._offsetLimit=St(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-s+u)%i+s-u,b=(f+s+u)%i-s-u,T=Math.abs(g+u)<Math.abs(b+u)?g:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(i){var s=this._map,u=s.options,f=!u.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),f)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,T=u.easeLinearity,D=g.multiplyBy(T/b),N=D.distanceTo([0,0]),V=Math.min(u.inertiaMaxSpeed,N),tt=D.multiplyBy(V/N),ut=V/(u.inertiaDeceleration*T),Et=tt.multiplyBy(-ut/2).round();!Et.x&&!Et.y?s.fire("moveend"):(Et=s._limitOffset(Et,s.options.maxBounds),zt(function(){s.panBy(Et,{duration:ut,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",ko),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xu=he.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),vt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,u=i.scrollTop||s.scrollTop,f=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},u=this.keyCodes,f,g;for(f=0,g=u.left.length;f<g;f++)s[u.left[f]]=[-1*i,0];for(f=0,g=u.right.length;f<g;f++)s[u.right[f]]=[i,0];for(f=0,g=u.down.length;f<g;f++)s[u.down[f]]=[0,i];for(f=0,g=u.up.length;f<g;f++)s[u.up[f]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},u=this.keyCodes,f,g;for(f=0,g=u.zoomIn.length;f<g;f++)s[u.zoomIn[f]]=i;for(f=0,g=u.zoomOut.length;f<g;f++)s[u.zoomOut[f]]=-i},_addHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,u=this._map,f;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[s],i.shiftKey&&(f=lt(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(lt(f),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(g)}else u.panBy(f)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Vt(i)}}});Bt.addInitHook("addHandler","keyboard",xu),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tu=he.extend({addHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=cu(i),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),f),Vt(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,b=u?Math.ceil(g/u)*u:g,T=i._limitZoom(s+(this._delta>0?b:-b))-s;this._delta=0,this._startTime=null,T&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+T):i.setZoomAround(this._lastMousePos,s+T))}});Bt.addInitHook("addHandler","scrollWheelZoom",Tu);var Th=600;Bt.mergeOptions({tapHold:ot.touchNative&&ot.safari&&ot.mobile,tapTolerance:15});var Mo=he.extend({addHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new at(s.clientX,s.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(vt(document,"touchend",yt),vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Th),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Xt(document,"touchend",yt),Xt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new at(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});Bt.addInitHook("addHandler","tapHold",Mo),Bt.mergeOptions({touchZoom:ot.touch,bounceAtZoomLimits:!0});var Bo=he.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){re(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(i.touches[0]),f=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),yt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(i.touches[0]),f=s.mouseEventToContainerPoint(i.touches[1]),g=u.distanceTo(f)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var b=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&b.x===0&&b.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Ot(this._animRequest);var T=d(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=zt(T,this,!0),yt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ot(this._animRequest),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",Bo),Bt.BoxZoom=Ur,Bt.DoubleClickZoom=Vi,Bt.Drag=ko,Bt.Keyboard=xu,Bt.ScrollWheelZoom=Tu,Bt.TapHold=Mo,Bt.TouchZoom=Bo,e.Bounds=Ct,e.Browser=ot,e.CRS=be,e.Canvas=Io,e.Circle=Fs,e.CircleMarker=Bs,e.Class=ue,e.Control=dn,e.DivIcon=Ro,e.DivOverlay=ei,e.DomEvent=gh,e.DomUtil=su,e.Draggable=zi,e.Evented=Qt,e.FeatureGroup=ti,e.GeoJSON=Ye,e.GridLayer=$t,e.Handler=he,e.Icon=Br,e.ImageOverlay=et,e.LatLng=gt,e.LatLngBounds=ce,e.Layer=ae,e.LayerGroup=Wi,e.LineUtil=Za,e.Map=Bt,e.Marker=Ms,e.Mixin=_h,e.Path=$i,e.Point=at,e.PolyUtil=Va,e.Polygon=zr,e.Polyline=Pn,e.Popup=Ue,e.PosAnimation=za,e.Projection=Ga,e.Rectangle=No,e.Renderer=wi,e.SVG=Hr,e.SVGOverlay=Kt,e.TileLayer=ar,e.Tooltip=Hs,e.Transformation=sn,e.Util=fe,e.VideoOverlay=jt,e.bind=d,e.bounds=St,e.canvas=Ei,e.circle=Hi,e.circleMarker=Ja,e.control=zn,e.divIcon=Us,e.extend=l,e.featureGroup=bu,e.geoJSON=z,e.geoJson=k,e.gridLayer=Eh,e.icon=yh,e.imageOverlay=_t,e.latLng=nt,e.latLngBounds=mt,e.layerGroup=Oo,e.map=ke,e.marker=Fr,e.point=lt,e.polygon=wh,e.polyline=Ah,e.popup=$s,e.rectangle=Eu,e.setOptions=F,e.stamp=_,e.svg=nl,e.svgOverlay=el,e.tileLayer=Do,e.tooltip=$r,e.transformation=an,e.version=o,e.videoOverlay=xe;var il=window.L;e.noConflict=function(){return window.L=il,this},window.L=e})})(ap,ap.exports);var WM=ap.exports;const _f=Bv(WM);window.Alpine=u0;u0.start();document.addEventListener("DOMContentLoaded",function(){GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,closeButton:!0})});document.addEventListener("DOMContentLoaded",function(){var n=_f.map("map").setView([40.4168,-3.7038],13);_f.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(n),_f.marker([40.4168,-3.7038]).addTo(n).bindPopup("Aquí está la propiedad").openPopup()});
